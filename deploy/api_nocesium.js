(function() {var k,m=this;function p(a){return void 0!==a}function r(a,b){var c=a.split("."),d=m;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&p(b)?d[e]=b:d=d[e]?d[e]:d[e]={}}function aa(){}
function ba(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function u(a){return"array"==ba(a)}function ca(a){var b=ba(a);return"array"==b||"object"==b&&"number"==typeof a.length}function v(a){return"string"==typeof a}function da(a){return"number"==typeof a}function y(a){return"function"==ba(a)}function ea(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function z(a){return a[fa]||(a[fa]=++ga)}var fa="closure_uid_"+(1E9*Math.random()>>>0),ga=0;
function ha(a,b,c){return a.call.apply(a.bind,arguments)}function ia(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function B(a,b,c){B=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ha:ia;return B.apply(null,arguments)}var C=Date.now||function(){return+new Date};
function D(a,b){function c(){}c.prototype=b.prototype;a.Da=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Jd=function(a,c,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[c].apply(a,g)}};function E(a){if(Error.captureStackTrace)Error.captureStackTrace(this,E);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}D(E,Error);E.prototype.name="CustomError";var ja;var ka=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function la(a){if(!ma.test(a))return a;-1!=a.indexOf("\x26")&&(a=a.replace(na,"\x26amp;"));-1!=a.indexOf("\x3c")&&(a=a.replace(oa,"\x26lt;"));-1!=a.indexOf("\x3e")&&(a=a.replace(pa,"\x26gt;"));-1!=a.indexOf('"')&&(a=a.replace(qa,"\x26quot;"));-1!=a.indexOf("'")&&(a=a.replace(ra,"\x26#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(sa,"\x26#0;"));return a}
var na=/&/g,oa=/</g,pa=/>/g,qa=/"/g,ra=/'/g,sa=/\x00/g,ma=/[\x00&<>"']/;function ta(a,b){return a<b?-1:a>b?1:0};var F=Array.prototype,ua=F.indexOf?function(a,b,c){return F.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(v(a))return v(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},G=F.forEach?function(a,b,c){F.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=v(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)};function va(a,b){for(var c=v(a)?a.split(""):a,d=a.length-1;0<=d;--d)d in c&&b.call(void 0,c[d],d,a)}
var wa=F.some?function(a,b,c){return F.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=v(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1};function xa(a,b){var c;a:{c=a.length;for(var d=v(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){c=e;break a}c=-1}return 0>c?null:v(a)?a.charAt(c):a[c]}
function ya(a,b){var c;a:{c=v(a)?a.split(""):a;for(var d=a.length-1;0<=d;d--)if(d in c&&b.call(void 0,c[d],d,a)){c=d;break a}c=-1}return 0>c?null:v(a)?a.charAt(c):a[c]}function za(a,b){var c=ua(a,b),d;(d=0<=c)&&F.splice.call(a,c,1);return d}function Aa(a){return F.concat.apply(F,arguments)}function Ba(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function Ca(a,b,c){return 2>=arguments.length?F.slice.call(a,b):F.slice.call(a,b,c)}
function Da(a){for(var b=[],c=0;c<arguments.length;c++){var d=arguments[c];if(u(d))for(var e=0;e<d.length;e+=8192)for(var f=Da.apply(null,Ca(d,e,e+8192)),g=0;g<f.length;g++)b.push(f[g]);else b.push(d)}return b};function Ea(a,b,c){return Math.min(Math.max(a,b),c)}function Fa(a,b){var c=a%b;return 0>c*b?c+b:c}function H(a){return a*Math.PI/180}function I(a){return 180*a/Math.PI};(function(a){function b(a){for(var b=a.length,c=new Uint8Array(b/4*3|0),h=0,l=0,q=[0,0],n=0,t=0;b--;){var x=a.charCodeAt(h++),J=d[x-43];255!==J&&void 0!==J&&(q[1]=q[0],q[0]=x,t=t<<6|J,n++,4===n&&(c[l++]=t>>>16,61!==q[1]&&(c[l++]=t>>>8),61!==q[0]&&(c[l++]=t),n=0))}return c.buffer}var c=/\s*;\s*base64\s*(?:;|$)/i,d=new Uint8Array([62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,0,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,
33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51]);HTMLCanvasElement&&!HTMLCanvasElement.prototype.ac&&(HTMLCanvasElement.prototype.ac=function(d,f){f||(f="image/png");if(this.mozGetAsFile)d(this.mozGetAsFile("canvas",f));else{var g=this.toDataURL.apply(this,Array.prototype.slice.call(arguments,1)),h=g.indexOf(","),l=g.substring(h+1),g=c.test(g.substring(0,h)),h=new (a.BlobBuilder||a.WebKitBlobBuilder||a.MozBlobBuilder);g?h.append(b(l)):h.append(decodeURIComponent(l));d(h.getBlob(f))}})})(self);
var Ga,Ha=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,Ia=window.URL||window.webkitURL||window.mozURL,Ja=navigator.saveBlob||navigator.mozSaveBlob||navigator.webkitSaveBlob,Ka=window.saveAs||window.webkitSaveAs||window.mozSaveAs;
Ha&&(Ka||Ja)?Ga=function(a,b,c){var d=new Ha;d.append(a);a=d.getBlob(c||"application/octet-stream");b||(b="Download.bin");Ka?Ka(a,b):Ja(a,b)}:Ha&&Ia&&(Ga=function(a,b,c){var d,e=new Ha;e.append(a);c||(c="application/octet-stream");"download"in document.createElement("a")?(a=e.getBlob(c),d=Ia.createObjectURL(a),a=document.createElement("a"),a.setAttribute("href",d),a.setAttribute("download",b||"Download.bin"),b=document.createEvent("MouseEvents"),b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,
!1,!1,!1,0,null),a.dispatchEvent(b)):(!0==={"image/jpeg":!0,"image/png":!0,"image/gif":!0,"image/svg+xml":!0,"image/bmp":!0,"image/x-windows-bmp":!0,"image/webp":!0,"audio/wav":!0,"audio/mpeg":!0,"audio/webm":!0,"audio/ogg":!0,"video/mpeg":!0,"video/webm":!0,"video/ogg":!0,"text/plain":!0,"text/html":!0,"text/xml":!0,"application/xhtml+xml":!0,"application/json":!0}[c.split(";")[0]]&&(c="application/octet-stream"),a=e.getBlob(c),d=Ia.createObjectURL(a),window.open(d,"_blank",""));setTimeout(function(){Ia.revokeObjectURL(d)},
250)});function La(a,b,c){var d=a;if(b||c){d=document.createElement("canvas");d.width=a.width;d.height=a.height;var e=d.getContext("2d");e.drawImage(a,0,0);b&&b.forEach(function(a){a.Oc(e)});c&&Ma(c,e)}return d}function Na(a,b){if(Ga&&a.ac)a.ac(function(a){Ga(a,b,"image/png")},"image/png");else if(a.toDataURL){var c=a.toDataURL();document.location.href=c.replace("image/png","image/octet-stream")}};var K;a:{var Oa=m.navigator;if(Oa){var Pa=Oa.userAgent;if(Pa){K=Pa;break a}}K=""};function Qa(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function Ra(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Sa(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function Ta(){var a=Ua,b;for(b in a)return!1;return!0}var Va="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function Wa(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Va.length;f++)c=Va[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}function Xa(a){var b=arguments.length;if(1==b&&u(arguments[0]))return Xa.apply(null,arguments[0]);for(var c={},d=0;d<b;d++)c[arguments[d]]=!0;return c};var Ya=-1!=K.indexOf("Opera")||-1!=K.indexOf("OPR"),M=-1!=K.indexOf("Trident")||-1!=K.indexOf("MSIE"),Za=-1!=K.indexOf("Gecko")&&-1==K.toLowerCase().indexOf("webkit")&&!(-1!=K.indexOf("Trident")||-1!=K.indexOf("MSIE")),N=-1!=K.toLowerCase().indexOf("webkit");function $a(){var a=m.document;return a?a.documentMode:void 0}
var ab=function(){var a="",b;if(Ya&&m.opera)return a=m.opera.version,y(a)?a():a;Za?b=/rv\:([^\);]+)(\)|;)/:M?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:N&&(b=/WebKit\/(\S+)/);b&&(a=(a=b.exec(K))?a[1]:"");return M&&(b=$a(),b>parseFloat(a))?String(b):a}(),bb={};
function O(a){var b;if(!(b=bb[a])){b=0;for(var c=ka(String(ab)).split("."),d=ka(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",h=d[f]||"",l=RegExp("(\\d*)(\\D*)","g"),q=RegExp("(\\d*)(\\D*)","g");do{var n=l.exec(g)||["","",""],t=q.exec(h)||["","",""];if(0==n[0].length&&0==t[0].length)break;b=ta(0==n[1].length?0:parseInt(n[1],10),0==t[1].length?0:parseInt(t[1],10))||ta(0==n[2].length,0==t[2].length)||ta(n[2],t[2])}while(0==b)}b=bb[a]=0<=b}return b}
var cb=m.document,db=cb&&M?$a()||("CSS1Compat"==cb.compatMode?parseInt(ab,10):5):void 0;var eb=!M||M&&9<=db;!Za&&!M||M&&M&&9<=db||Za&&O("1.9.1");M&&O("9");Xa("area base br col command embed hr img input keygen link meta param source track wbr".split(" "));Xa("action","cite","data","formaction","href","manifest","poster","src");Xa("embed","iframe","link","object","script","style","template");function fb(a,b){this.x=p(a)?a:0;this.y=p(b)?b:0}k=fb.prototype;k.clone=function(){return new fb(this.x,this.y)};k.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};k.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};k.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};k.translate=function(a,b){a instanceof fb?(this.x+=a.x,this.y+=a.y):(this.x+=a,da(b)&&(this.y+=b));return this};
k.scale=function(a,b){var c=da(b)?b:a;this.x*=a;this.y*=c;return this};function gb(a){return a?new hb(ib(a)):ja||(ja=new hb)}function jb(a,b){Qa(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in kb?a.setAttribute(kb[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}var kb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function P(a,b,c){return lb(document,arguments)}function lb(a,b){var c=b[0],d=b[1];if(!eb&&d&&(d.name||d.type)){c=["\x3c",c];d.name&&c.push(' name\x3d"',la(d.name),'"');if(d.type){c.push(' type\x3d"',la(d.type),'"');var e={};Wa(e,d);delete e.type;d=e}c.push("\x3e");c=c.join("")}c=a.createElement(c);d&&(v(d)?c.className=d:u(d)?c.className=d.join(" "):jb(c,d));2<b.length&&mb(a,c,b,2);return c}
function mb(a,b,c,d){function e(c){c&&b.appendChild(v(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var f=c[d];!ca(f)||ea(f)&&0<f.nodeType?e(f):G(nb(f)?Ba(f):f,e)}}function ob(a,b){mb(ib(a),a,arguments,1)}function pb(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}function ib(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function nb(a){if(a&&"number"==typeof a.length){if(ea(a))return"function"==typeof a.item||"string"==typeof a.item;if(y(a))return"function"==typeof a.item}return!1}function hb(a){this.ga=a||m.document||document}k=hb.prototype;k.zb=function(a){return v(a)?this.ga.getElementById(a):a};function qb(a,b){var c;c=a.ga;var d=b&&"*"!=b?b.toUpperCase():"";c=c.querySelectorAll&&c.querySelector&&d?c.querySelectorAll(d+""):c.getElementsByTagName(d||"*");return c}k.hc=function(a,b,c){return lb(this.ga,arguments)};
k.createElement=function(a){return this.ga.createElement(a)};k.createTextNode=function(a){return this.ga.createTextNode(String(a))};k.appendChild=function(a,b){a.appendChild(b)};k.append=ob;k.canHaveChildren=function(a){if(1!=a.nodeType)return!1;switch(a.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return!1}return!0};
k.removeNode=pb;k.contains=function(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a};var rb=!M||M&&9<=db,sb=M&&!O("9");!N||O("528");Za&&O("1.9b")||M&&O("8")||Ya&&O("9.5")||N&&O("528");Za&&!O("8")||M&&O("9");function tb(){0!=ub&&(vb[z(this)]=this);this.ab=this.ab;this.jb=this.jb}var ub=0,vb={};tb.prototype.ab=!1;tb.prototype.$a=function(){if(!this.ab&&(this.ab=!0,this.J(),0!=ub)){var a=z(this);delete vb[a]}};tb.prototype.J=function(){if(this.jb)for(;this.jb.length;)this.jb.shift()()};function Q(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.ra=!1;this.yc=!0}Q.prototype.J=function(){};Q.prototype.$a=function(){};Q.prototype.stopPropagation=function(){this.ra=!0};Q.prototype.preventDefault=function(){this.defaultPrevented=!0;this.yc=!1};function wb(a){wb[" "](a);return a}wb[" "]=aa;function xb(a,b){Q.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.t=this.state=null;if(a){this.t=a;var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(Za){var e;a:{try{wb(d.nodeName);e=!0;break a}catch(f){}e=!1}e||(d=null)}}else"mouseover"==
c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;Object.defineProperties?Object.defineProperties(this,{offsetX:{configurable:!0,enumerable:!0,get:this.nc,set:this.Bd},offsetY:{configurable:!0,enumerable:!0,get:this.oc,set:this.Cd}}):(this.offsetX=this.nc(),this.offsetY=this.oc());this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;
this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;a.defaultPrevented&&this.preventDefault()}}D(xb,Q);k=xb.prototype;k.stopPropagation=function(){xb.Da.stopPropagation.call(this);this.t.stopPropagation?this.t.stopPropagation():this.t.cancelBubble=!0};
k.preventDefault=function(){xb.Da.preventDefault.call(this);var a=this.t;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,sb)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};k.J=function(){};k.nc=function(){return N||void 0!==this.t.offsetX?this.t.offsetX:this.t.layerX};k.Bd=function(a){Object.defineProperties(this,{offsetX:{writable:!0,enumerable:!0,configurable:!0,value:a}})};k.oc=function(){return N||void 0!==this.t.offsetY?this.t.offsetY:this.t.layerY};
k.Cd=function(a){Object.defineProperties(this,{offsetY:{writable:!0,enumerable:!0,configurable:!0,value:a}})};var yb="closure_listenable_"+(1E6*Math.random()|0);function zb(a){return!(!a||!a[yb])}var Ab=0;function Bb(a,b,c,d,e){this.oa=a;this.sa=null;this.src=b;this.type=c;this.Za=!!d;this.cb=e;this.key=++Ab;this.Ba=this.Ya=!1}function Cb(a){a.Ba=!0;a.oa=null;a.sa=null;a.src=null;a.cb=null};function Db(a){this.src=a;this.o={};this.Wa=0}Db.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.o[f];a||(a=this.o[f]=[],this.Wa++);var g=Eb(a,b,d,e);-1<g?(b=a[g],c||(b.Ya=!1)):(b=new Bb(b,this.src,f,!!d,e),b.Ya=c,a.push(b));return b};Db.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.o))return!1;var e=this.o[a];b=Eb(e,b,c,d);return-1<b?(Cb(e[b]),F.splice.call(e,b,1),0==e.length&&(delete this.o[a],this.Wa--),!0):!1};
function Fb(a,b){var c=b.type;if(!(c in a.o))return!1;var d=za(a.o[c],b);d&&(Cb(b),0==a.o[c].length&&(delete a.o[c],a.Wa--));return d}function Gb(a,b){var c=b&&b.toString(),d=0,e;for(e in a.o)if(!c||e==c){for(var f=a.o[e],g=0;g<f.length;g++)++d,Cb(f[g]);delete a.o[e];a.Wa--}}Db.prototype.Ab=function(a,b,c,d){a=this.o[a.toString()];var e=-1;a&&(e=Eb(a,b,c,d));return-1<e?a[e]:null};function Eb(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.Ba&&f.oa==b&&f.Za==!!c&&f.cb==d)return e}return-1};var Hb="closure_lm_"+(1E6*Math.random()|0),Ib={},Jb=0;function R(a,b,c,d,e){if(u(b)){for(var f=0;f<b.length;f++)R(a,b[f],c,d,e);return null}c=Kb(c);return zb(a)?a.K.add(String(b),c,!1,d,e):Lb(a,b,c,!1,d,e)}function Lb(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=!!e,h=Mb(a);h||(a[Hb]=h=new Db(a));c=h.add(b,c,d,e,f);if(c.sa)return c;d=Nb();c.sa=d;d.src=a;d.oa=c;a.addEventListener?a.addEventListener(b.toString(),d,g):a.attachEvent(Pb(b.toString()),d);Jb++;return c}
function Nb(){var a=Qb,b=rb?function(c){return a.call(b.src,b.oa,c)}:function(c){c=a.call(b.src,b.oa,c);if(!c)return c};return b}function Rb(a,b,c,d,e){if(u(b))for(var f=0;f<b.length;f++)Rb(a,b[f],c,d,e);else c=Kb(c),zb(a)?a.K.add(String(b),c,!0,d,e):Lb(a,b,c,!0,d,e)}function Sb(a,b,c,d,e){if(u(b))for(var f=0;f<b.length;f++)Sb(a,b[f],c,d,e);else c=Kb(c),zb(a)?a.K.remove(String(b),c,d,e):a&&(a=Mb(a))&&(b=a.Ab(b,c,!!d,e))&&Tb(b)}
function Tb(a){if(da(a)||!a||a.Ba)return!1;var b=a.src;if(zb(b))return Fb(b.K,a);var c=a.type,d=a.sa;b.removeEventListener?b.removeEventListener(c,d,a.Za):b.detachEvent&&b.detachEvent(Pb(c),d);Jb--;(c=Mb(b))?(Fb(c,a),0==c.Wa&&(c.src=null,b[Hb]=null)):Cb(a);return!0}function Ub(a,b){if(a)if(zb(a))a.K&&Gb(a.K,b);else{var c=Mb(a);if(c){var d=0,e=b&&b.toString(),f;for(f in c.o)if(!e||f==e)for(var g=c.o[f].concat(),h=0;h<g.length;++h)Tb(g[h])&&++d}}}function Pb(a){return a in Ib?Ib[a]:Ib[a]="on"+a}
function Vb(a,b,c,d){var e=!0;if(a=Mb(a))if(b=a.o[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.Za==c&&!f.Ba&&(f=Wb(f,d),e=e&&!1!==f)}return e}function Wb(a,b){var c=a.oa,d=a.cb||a.src;a.Ya&&Tb(a);return c.call(d,b)}
function Qb(a,b){if(a.Ba)return!0;if(!rb){var c;if(!(c=b))a:{c=["window","event"];for(var d=m,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break a}c=d}e=c;c=new xb(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(g){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=c.currentTarget;f;f=f.parentNode)e.push(f);for(var f=a.type,h=e.length-1;!c.ra&&0<=h;h--){c.currentTarget=e[h];var l=Vb(e[h],f,!0,c),d=d&&l}for(h=0;!c.ra&&h<
e.length;h++)c.currentTarget=e[h],l=Vb(e[h],f,!1,c),d=d&&l}return d}return Wb(a,new xb(b,this))}function Mb(a){a=a[Hb];return a instanceof Db?a:null}var Xb="__closure_events_fn_"+(1E9*Math.random()>>>0);function Kb(a){if(y(a))return a;a[Xb]||(a[Xb]=function(b){return a.handleEvent(b)});return a[Xb]};function Yb(){tb.call(this);this.K=new Db(this);this.Fc=this;this.Nb=null}D(Yb,tb);Yb.prototype[yb]=!0;k=Yb.prototype;k.addEventListener=function(a,b,c,d){R(this,a,b,c,d)};k.removeEventListener=function(a,b,c,d){Sb(this,a,b,c,d)};
k.dispatchEvent=function(a){var b,c=this.Nb;if(c)for(b=[];c;c=c.Nb)b.push(c);var c=this.Fc,d=a.type||a;if(v(a))a=new Q(a,c);else if(a instanceof Q)a.target=a.target||c;else{var e=a;a=new Q(d,c);Wa(a,e)}var e=!0,f;if(b)for(var g=b.length-1;!a.ra&&0<=g;g--)f=a.currentTarget=b[g],e=Zb(f,d,!0,a)&&e;a.ra||(f=a.currentTarget=c,e=Zb(f,d,!0,a)&&e,a.ra||(e=Zb(f,d,!1,a)&&e));if(b)for(g=0;!a.ra&&g<b.length;g++)f=a.currentTarget=b[g],e=Zb(f,d,!1,a)&&e;return e};
k.J=function(){Yb.Da.J.call(this);this.K&&Gb(this.K,void 0);this.Nb=null};function Zb(a,b,c,d){b=a.K.o[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.Ba&&g.Za==c){var h=g.oa,l=g.cb||g.src;g.Ya&&Fb(a.K,g);e=!1!==h.call(l,d)&&e}}return e&&0!=d.yc}k.Ab=function(a,b,c,d){return this.K.Ab(String(a),b,c,d)};function $b(){Yb.call(this);this.b=S;this.endTime=this.startTime=null}D($b,Yb);var S=0;$b.prototype.j=function(a){this.dispatchEvent(a)};function ac(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0}function bc(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};function cc(a){m.setTimeout(function(){throw a;},0)}var dc;
function ec(){var a=m.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&(a=function(){var a=document.createElement("iframe");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=B(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},
this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&-1==K.indexOf("Trident")&&-1==K.indexOf("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(p(c.next)){c=c.next;var a=c.fc;c.fc=null;a()}};return function(a){d.next={fc:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("script")?function(a){var b=document.createElement("script");b.onreadystatechange=
function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){m.setTimeout(a,0)}};function fc(a,b){gc||hc();ic||(gc(),ic=!0);jc.push(new kc(a,b))}var gc;function hc(){if(m.Promise&&m.Promise.resolve){var a=m.Promise.resolve();gc=function(){a.then(lc)}}else gc=function(){var a=lc;!y(m.setImmediate)||m.Window&&m.Window.prototype.setImmediate==m.setImmediate?(dc||(dc=ec()),dc(a)):m.setImmediate(a)}}var ic=!1,jc=[];function lc(){for(;jc.length;){var a=jc;jc=[];for(var b=0;b<a.length;b++){var c=a[b];try{c.Vc.call(c.scope)}catch(d){cc(d)}}}ic=!1}
function kc(a,b){this.Vc=a;this.scope=b};function mc(a,b){this.b=nc;this.ca=void 0;this.A=this.M=null;this.bb=this.xb=!1;try{var c=this;a.call(b,function(a){oc(c,pc,a)},function(a){oc(c,T,a)})}catch(d){oc(this,T,d)}}var nc=0,pc=2,T=3;mc.prototype.then=function(a,b,c){return qc(this,y(a)?a:null,y(b)?b:null,c)};ac(mc);mc.prototype.cancel=function(a){this.b==nc&&fc(function(){var b=new rc(a);sc(this,b)},this)};
function sc(a,b){if(a.b==nc)if(a.M){var c=a.M;if(c.A){for(var d=0,e=-1,f=0,g;g=c.A[f];f++)if(g=g.Ga)if(d++,g==a&&(e=f),0<=e&&1<d)break;0<=e&&(c.b==nc&&1==d?sc(c,b):(d=c.A.splice(e,1)[0],tc(c,d,T,b)))}}else oc(a,T,b)}function uc(a,b){a.A&&a.A.length||a.b!=pc&&a.b!=T||vc(a);a.A||(a.A=[]);a.A.push(b)}
function qc(a,b,c,d){var e={Ga:null,uc:null,vc:null};e.Ga=new mc(function(a,g){e.uc=b?function(c){try{var e=b.call(d,c);a(e)}catch(q){g(q)}}:a;e.vc=c?function(b){try{var e=c.call(d,b);!p(e)&&b instanceof rc?g(b):a(e)}catch(q){g(q)}}:g});e.Ga.M=a;uc(a,e);return e.Ga}mc.prototype.Bc=function(a){this.b=nc;oc(this,pc,a)};mc.prototype.Cc=function(a){this.b=nc;oc(this,T,a)};
function oc(a,b,c){if(a.b==nc){if(a==c)b=T,c=new TypeError("Promise cannot resolve to itself");else{if(bc(c)){a.b=1;c.then(a.Bc,a.Cc,a);return}if(ea(c))try{var d=c.then;if(y(d)){wc(a,c,d);return}}catch(e){b=T,c=e}}a.ca=c;a.b=b;vc(a);b!=T||c instanceof rc||xc(a,c)}}function wc(a,b,c){function d(b){f||(f=!0,a.Cc(b))}function e(b){f||(f=!0,a.Bc(b))}a.b=1;var f=!1;try{c.call(b,e,d)}catch(g){d(g)}}function vc(a){a.xb||(a.xb=!0,fc(a.Tc,a))}
mc.prototype.Tc=function(){for(;this.A&&this.A.length;){var a=this.A;this.A=[];for(var b=0;b<a.length;b++)tc(this,a[b],this.b,this.ca)}this.xb=!1};function tc(a,b,c,d){if(c==pc)b.uc(d);else{if(b.Ga)for(;a&&a.bb;a=a.M)a.bb=!1;b.vc(d)}}function xc(a,b){a.bb=!0;fc(function(){a.bb&&yc.call(null,b)})}var yc=cc;function rc(a){E.call(this,a)}D(rc,E);rc.prototype.name="cancel";function zc(a,b,c){tb.call(this);this.Ib=a;this.md=b||0;this.pc=c;this.Kc=B(this.Nc,this)}D(zc,tb);k=zc.prototype;k.u=0;k.J=function(){zc.Da.J.call(this);this.stop();delete this.Ib;delete this.pc};k.start=function(a){this.stop();var b=this.Kc;a=p(a)?a:this.md;if(!y(b))if(b&&"function"==typeof b.handleEvent)b=B(b.handleEvent,b);else throw Error("Invalid listener argument");this.u=2147483647<a?-1:m.setTimeout(b,a||0)};k.stop=function(){0!=this.u&&m.clearTimeout(this.u);this.u=0};
k.Nc=function(){this.u=0;this.Ib&&this.Ib.call(this.pc)};var Ua={},Ac=null;function Bc(a){a=z(a);delete Ua[a];Ta()&&Ac&&Ac.stop()}function Cc(){Ac||(Ac=new zc(function(){Dc()},20));var a=Ac;0!=a.u||a.start()}function Dc(){var a=C();Qa(Ua,function(b){Ec(b,a)});Ta()||Cc()};function Fc(a,b,c,d){$b.call(this);if(!u(a)||!u(b))throw Error("Start and end parameters must be arrays");if(a.length!=b.length)throw Error("Start and end points must be the same length");this.Ta=a;this.Rc=b;this.duration=c;this.cc=d;this.coords=[];this.I=0}D(Fc,$b);k=Fc.prototype;
k.play=function(a){if(a||this.b==S)this.I=0,this.coords=this.Ta;else if(1==this.b)return!1;Bc(this);this.startTime=a=C();-1==this.b&&(this.startTime-=this.duration*this.I);this.endTime=this.startTime+this.duration;this.I||this.j("begin");this.j("play");-1==this.b&&this.j("resume");this.b=1;var b=z(this);b in Ua||(Ua[b]=this);Cc();Ec(this,a);return!0};k.stop=function(a){Bc(this);this.b=S;a&&(this.I=1);Gc(this,this.I);this.j("stop");this.j("end")};k.pause=function(){1==this.b&&(Bc(this),this.b=-1,this.j("pause"))};
k.J=function(){this.b==S||this.stop(!1);this.j("destroy");Fc.Da.J.call(this)};k.destroy=function(){this.$a()};function Ec(a,b){a.I=(b-a.startTime)/(a.endTime-a.startTime);1<=a.I&&(a.I=1);Gc(a,a.I);1==a.I?(a.b=S,Bc(a),a.j("finish"),a.j("end")):1==a.b&&a.j("animate")}function Gc(a,b){y(a.cc)&&(b=a.cc(b));a.coords=Array(a.Ta.length);for(var c=0;c<a.Ta.length;c++)a.coords[c]=(a.Rc[c]-a.Ta[c])*b+a.Ta[c]}k.j=function(a){this.dispatchEvent(new Hc(a,this))};
function Hc(a,b){Q.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.z=b.coords[2];this.duration=b.duration;this.I=b.I;this.state=b.b}D(Hc,Q);function Ic(){$b.call(this);this.p=[]}D(Ic,$b);Ic.prototype.add=function(a){0<=ua(this.p,a)||(this.p.push(a),R(a,"finish",this.sc,!1,this))};Ic.prototype.remove=function(a){za(this.p,a)&&Sb(a,"finish",this.sc,!1,this)};Ic.prototype.J=function(){G(this.p,function(a){a.$a()});this.p.length=0;Ic.Da.J.call(this)};function Jc(){Ic.call(this);this.B=0}D(Jc,Ic);
Jc.prototype.play=function(a){if(0==this.p.length)return!1;if(a||this.b==S)this.B<this.p.length&&this.p[this.B].b!=S&&this.p[this.B].stop(!1),this.B=0,this.j("begin");else if(1==this.b)return!1;this.j("play");-1==this.b&&this.j("resume");this.startTime=C();this.endTime=null;this.b=1;this.p[this.B].play(a);return!0};Jc.prototype.pause=function(){1==this.b&&(this.p[this.B].pause(),this.b=-1,this.j("pause"))};
Jc.prototype.stop=function(a){this.b=S;this.endTime=C();if(a)for(a=this.B;a<this.p.length;++a){var b=this.p[a];b.b==S&&b.play();b.b==S||b.stop(!0)}else this.B<this.p.length&&this.p[this.B].stop(!1);this.j("stop");this.j("end")};Jc.prototype.sc=function(){1==this.b&&(this.B++,this.B<this.p.length?this.p[this.B].play():(this.endTime=C(),this.b=S,this.j("finish"),this.j("end")))};function Kc(a,b,c,d){var e=Math.sin((c-a)/2);b=Math.sin((d-b)/2);return 12756274*Math.asin(Math.sqrt(e*e+Math.cos(a)*Math.cos(c)*b*b))}function Lc(a){var b=gb(void 0),c=null,d=b.ga;if(M&&d.createStyleSheet)b=c=d.createStyleSheet(),M&&p(b.cssText)?b.cssText=a:b.innerHTML=a;else{d=qb(b,"head")[0];d||(c=qb(b,"body")[0],d=b.hc("head"),c.parentNode.insertBefore(d,c));var e=c=b.hc("style");M&&p(e.cssText)?e.cssText=a:e.innerHTML=a;b.appendChild(d,c)}};function Mc(a){this.ec=a;this.O=null}
Mc.prototype.Ja=function(a,b,c,d,e,f,g){function h(a){return(q(.5+a/2)-Ob)/(1-Ob)}function l(a){return 2*q(a/2)}function q(a){var b=a*a;a*=a*a;return 6*a*b+-15*b*b+10*a}var n=this.ec;f&&(f=Nc(a,b,c||U(n)[2],d,e),a=f[0],b=f[1]);null!=this.O&&this.Lb();var t=U(n);f=t[2];var x=c||f,J=Fa(t[1],2*Math.PI),A=Fa(b,2*Math.PI),w=J-A;w<-Math.PI?J+=2*Math.PI:w>Math.PI&&(A+=2*Math.PI);n=[t[0],J,f,n.Q(),n.X()];e=[a,A,x,d||0,e||0];var Ob=q(.5);d=["begin","animate","end","finish"];this.O=new Jc;g=1E3*(g||3);c?(a=
Kc(t[0],t[1],a,b),a=Math.min(f,x)+.2*a,a<Math.max(f,x)&&(a=(f+x)/2),c=[],c[0]=(n[0]+e[0])/2,c[1]=(n[1]+e[1])/2,c[2]=a,c[3]=(n[3]+e[3])/2,c[4]=(n[4]+e[4])/2,a=new Fc(n,c,g/2,l),c=new Fc(c,e,g/2,h),R(a,d,this.Mb,!1,this),R(c,d,this.Mb,!1,this),this.O.add(a),this.O.add(c)):(a=new Fc(n,e,g,q),R(a,d,this.Mb,!1,this),this.O.add(a));R(this.O,"end",this.Lb,!1,this);this.O.play()};Mc.prototype.Mb=function(a){Oc(this.ec,a.coords[0],a.coords[1],a.coords[2],a.coords[3],a.coords[4])};
Mc.prototype.Lb=function(){null!=this.O&&(this.O.$a(),this.O=null)};Mc.prototype.cancel=function(){this.Lb()};function Pc(a,b){this.camera=a;this.ellipsoid=b;this.fa=new Mc(this)}function U(a){var b=new Cesium.Cartographic(0,0,0);a.ellipsoid.cartesianToCartographic(a.camera.position,b);return[b.latitude,b.longitude,b.height]}function Qc(a,b,c,d){if(!p(b)||!p(c)||!p(d)){var e=U(a);b=null!=b?b:e[0];c=null!=c?c:e[1];d=0<d?d:e[2]}b=Cesium.Cartesian3.fromRadians(c,b,d);a.camera.setView({position:b,heading:0,pitch:-Math.PI/2,roll:0})}
Pc.prototype.Q=function(){var a=this.camera,b=a.positionWC,c=new Cesium.Cartesian3(-b.y,b.x,0),c=Cesium.Cartesian3.angleBetween(a.right,c);return 0>Cesium.Cartesian3.cross(b,a.up,new Cesium.Cartesian3).z?c:-c};Pc.prototype.X=function(){var a=this.camera;return-Math.acos(Cesium.Cartesian3.dot(a.up,Cesium.Cartesian3.normalize(a.positionWC,new Cesium.Cartesian3)))+Math.PI/2};Pc.prototype.mb=function(a){var b=this.X();a-=this.Q();this.camera.lookDown(b);this.camera.twistLeft(a);this.camera.lookUp(b)};
Pc.prototype.Vb=function(a){a-=this.X();var b=this.Q();this.camera.lookUp(a);this.mb(b)};function Oc(a,b,c,d,e,f){b=Cesium.Cartesian3.fromRadians(c,b,d);a.camera.setView({position:b,heading:0,pitch:-Math.PI/2,roll:0});a.camera.twistLeft(e);a.camera.lookUp(f)}
function Rc(a,b,c,d,e){var f=(b+c)/2;d=Kc(f,d,f,e);b=Kc(b,0,c,0);c=Math.min(Math.max(a.camera.frustum.aspectRatio,d/b),1);a=H(I(a.camera.frustum.fovy)/(c+.4)-2);b=Math.max(b,d);b=Math.min(Math.PI/2,a+b/12756274);return 9567205.5*(Math.sin(b)*Math.sqrt(1+1/Math.pow(Math.tan(a),2))-1)}function Nc(a,b,c,d,e){e=Math.PI-(e||0);c=Math.PI-Math.asin(Math.sin(e)/(1+c/6378137))-e;d=d||0;return[a-Math.cos(d)*c,b+Math.sin(d)*c]}
function Sc(a,b,c,d){a=2*Math.cos(Math.abs(d))*Math.PI/Math.pow(2,c)*(.7*a.height/256);return 1/Math.tan(b/2)*(a/2)*6378137};function Tc(a){if("function"==typeof a.Y)return a.Y();if(v(a))return a.split("");if(ca(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Ra(a)}function Uc(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(ca(a)||v(a))G(a,b,c);else{var d;if("function"==typeof a.R)d=a.R();else if("function"!=typeof a.Y)if(ca(a)||v(a)){d=[];for(var e=a.length,f=0;f<e;f++)d.push(f)}else d=Sa(a);else d=void 0;for(var e=Tc(a),f=e.length,g=0;g<f;g++)b.call(c,e[g],d&&d[g],a)}};function Vc(a,b){this.S={};this.n=[];this.g=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof Vc?(c=a.R(),d=a.Y()):(c=Sa(a),d=Ra(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}}k=Vc.prototype;k.mc=function(){return this.g};k.Y=function(){Wc(this);for(var a=[],b=0;b<this.n.length;b++)a.push(this.S[this.n[b]]);return a};k.R=function(){Wc(this);return this.n.concat()};
k.Ia=function(a){return Xc(this.S,a)};k.equals=function(a,b){if(this===a)return!0;if(this.g!=a.mc())return!1;var c=b||Yc;Wc(this);for(var d,e=0;d=this.n[e];e++)if(!c(this.get(d),a.get(d)))return!1;return!0};function Yc(a,b){return a===b}k.clear=function(){this.S={};this.g=this.n.length=0};k.remove=function(a){return Xc(this.S,a)?(delete this.S[a],this.g--,this.n.length>2*this.g&&Wc(this),!0):!1};
function Wc(a){if(a.g!=a.n.length){for(var b=0,c=0;b<a.n.length;){var d=a.n[b];Xc(a.S,d)&&(a.n[c++]=d);b++}a.n.length=c}if(a.g!=a.n.length){for(var e={},c=b=0;b<a.n.length;)d=a.n[b],Xc(e,d)||(a.n[c++]=d,e[d]=1),b++;a.n.length=c}}k.get=function(a,b){return Xc(this.S,a)?this.S[a]:b};k.set=function(a,b){Xc(this.S,a)||(this.g++,this.n.push(a));this.S[a]=b};k.forEach=function(a,b){for(var c=this.R(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};k.clone=function(){return new Vc(this)};
function Xc(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var Zc=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;function $c(a){if(ad){ad=!1;var b=m.location;if(b){var c=b.href;if(c&&(c=(c=$c(c)[3]||null)?decodeURI(c):c)&&c!=b.hostname)throw ad=!0,Error();}}return a.match(Zc)}var ad=N;function bd(a,b){var c;if(a instanceof bd)this.C=p(b)?b:a.C,cd(this,a.ka),c=a.ua,V(this),this.ua=c,c=a.W,V(this),this.W=c,dd(this,a.za),c=a.U,V(this),this.U=c,ed(this,a.V.clone()),c=a.na,V(this),this.na=c;else if(a&&(c=$c(String(a)))){this.C=!!b;cd(this,c[1]||"",!0);var d=c[2]||"";V(this);this.ua=fd(d);d=c[3]||"";V(this);this.W=fd(d,!0);dd(this,c[4]);d=c[5]||"";V(this);this.U=fd(d,!0);ed(this,c[6]||"",!0);c=c[7]||"";V(this);this.na=fd(c)}else this.C=!!b,this.V=new gd(null,0,this.C)}k=bd.prototype;
k.ka="";k.ua="";k.W="";k.za=null;k.U="";k.na="";k.nd=!1;k.C=!1;k.toString=function(){var a=[],b=this.ka;b&&a.push(hd(b,id,!0),":");if(b=this.W){a.push("//");var c=this.ua;c&&a.push(hd(c,id,!0),"@");a.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1"));b=this.za;null!=b&&a.push(":",String(b))}if(b=this.U)this.W&&"/"!=b.charAt(0)&&a.push("/"),a.push(hd(b,"/"==b.charAt(0)?jd:kd,!0));(b=this.V.toString())&&a.push("?",b);(b=this.na)&&a.push("#",hd(b,ld));return a.join("")};
k.resolve=function(a){var b=this.clone(),c=!!a.ka;c?cd(b,a.ka):c=!!a.ua;if(c){var d=a.ua;V(b);b.ua=d}else c=!!a.W;c?(d=a.W,V(b),b.W=d):c=null!=a.za;d=a.U;if(c)dd(b,a.za);else if(c=!!a.U){if("/"!=d.charAt(0))if(this.W&&!this.U)d="/"+d;else{var e=b.U.lastIndexOf("/");-1!=e&&(d=b.U.substr(0,e+1)+d)}e=d;if(".."==e||"."==e)d="";else if(-1!=e.indexOf("./")||-1!=e.indexOf("/.")){for(var d=0==e.lastIndexOf("/",0),e=e.split("/"),f=[],g=0;g<e.length;){var h=e[g++];"."==h?d&&g==e.length&&f.push(""):".."==h?
((1<f.length||1==f.length&&""!=f[0])&&f.pop(),d&&g==e.length&&f.push("")):(f.push(h),d=!0)}d=f.join("/")}else d=e}c?(V(b),b.U=d):c=""!==a.V.toString();c?ed(b,fd(a.V.toString())):c=!!a.na;c&&(a=a.na,V(b),b.na=a);return b};k.clone=function(){return new bd(this)};function cd(a,b,c){V(a);a.ka=c?fd(b,!0):b;a.ka&&(a.ka=a.ka.replace(/:$/,""))}function dd(a,b){V(a);if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.za=b}else a.za=null}
function ed(a,b,c){V(a);b instanceof gd?(a.V=b,a.V.Tb(a.C)):(c||(b=hd(b,md)),a.V=new gd(b,0,a.C))}function nd(a,b,c){V(a);u(c)||(c=[String(c)]);od(a.V,b,c)}function V(a){if(a.nd)throw Error("Tried to modify a read-only Uri");}k.Tb=function(a){this.C=a;this.V&&this.V.Tb(a);return this};function fd(a,b){return a?b?decodeURI(a):decodeURIComponent(a):""}function hd(a,b,c){return v(a)?(a=encodeURI(a).replace(b,pd),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}
function pd(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var id=/[#\/\?@]/g,kd=/[\#\?:]/g,jd=/[\#\?]/g,md=/[\#\?@]/g,ld=/#/g;function gd(a,b,c){this.v=a||null;this.C=!!c}
function qd(a){if(!a.h&&(a.h=new Vc,a.g=0,a.v))for(var b=a.v.split("\x26"),c=0;c<b.length;c++){var d=b[c].indexOf("\x3d"),e=null,f=null;0<=d?(e=b[c].substring(0,d),f=b[c].substring(d+1)):e=b[c];e=decodeURIComponent(e.replace(/\+/g," "));e=rd(a,e);a.add(e,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}k=gd.prototype;k.h=null;k.g=null;k.mc=function(){qd(this);return this.g};k.add=function(a,b){qd(this);this.v=null;a=rd(this,a);var c=this.h.get(a);c||this.h.set(a,c=[]);c.push(b);this.g++;return this};
k.remove=function(a){qd(this);a=rd(this,a);return this.h.Ia(a)?(this.v=null,this.g-=this.h.get(a).length,this.h.remove(a)):!1};k.clear=function(){this.h=this.v=null;this.g=0};k.Ia=function(a){qd(this);a=rd(this,a);return this.h.Ia(a)};k.R=function(){qd(this);for(var a=this.h.Y(),b=this.h.R(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};
k.Y=function(a){qd(this);var b=[];if(v(a))this.Ia(a)&&(b=Aa(b,this.h.get(rd(this,a))));else{a=this.h.Y();for(var c=0;c<a.length;c++)b=Aa(b,a[c])}return b};k.set=function(a,b){qd(this);this.v=null;a=rd(this,a);this.Ia(a)&&(this.g-=this.h.get(a).length);this.h.set(a,[b]);this.g++;return this};k.get=function(a,b){var c=a?this.Y(a):[];return 0<c.length?String(c[0]):b};function od(a,b,c){a.remove(b);0<c.length&&(a.v=null,a.h.set(rd(a,b),Ba(c)),a.g+=c.length)}
k.toString=function(){if(this.v)return this.v;if(!this.h)return"";for(var a=[],b=this.h.R(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.Y(d),f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="\x3d"+encodeURIComponent(String(d[f])));a.push(g)}return this.v=a.join("\x26")};k.clone=function(){var a=new gd;a.v=this.v;this.h&&(a.h=this.h.clone(),a.g=this.g);return a};function rd(a,b){var c=String(b);a.C&&(c=c.toLowerCase());return c}
k.Tb=function(a){a&&!this.C&&(qd(this),this.v=null,this.h.forEach(function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),od(this,d,a))},this));this.C=a};k.extend=function(a){for(var b=0;b<arguments.length;b++)Uc(arguments[b],function(a,b){this.add(b,a)},this)};function sd(a){td(this,a)}D(sd,Cesium.TileMapServiceImageryProvider);
function td(a,b){a._url=b.url;a._minimumLevel=b.minimumLevel||0;a._maximumLevel=b.maximumLevel||18;a.Zb=b.tileSize||256;a._tileWidth=a._tileHeight=a.Zb;var c=b.bounds,d=null;c&&c.length&&3<c.length&&(d=new Cesium.Rectangle(H(c[0]),H(c[1]),H(c[2]),H(c[3])));a.Uc=b.flipY||!1;a.Xb=b.subdomains||[];a._credit=new Cesium.Credit((b.copyright||"").toString(),void 0,b.copyrightLink?b.copyrightLink.toString():void 0);a._proxy=b.proxy||void 0;a.wb=document.createElement("canvas");a.wb.width=a.Zb;a.wb.height=
a.Zb;a._errorEvent=new Cesium.Event;a._tilingScheme=new Cesium.WebMercatorTilingScheme;a._rectangle=d||a._tilingScheme.rectangle;a._ready=null!=a._url}
sd.prototype.requestImage=function(a,b,c){if(c<this.minimumLevel||c>this.maximumLevel)return this.wb;var d=this.url.replace("{z}",c.toFixed(0)),d=d.replace("{x}",a.toFixed(0)),d=d.replace("{y}",(this.Uc?(1<<c)-b-1:b).toFixed(0));0<this.Xb.length&&(d=d.replace("{sub}",this.Xb[Fa(a+b+c,this.Xb.length)]));a=this.sa?this.sa.getURL(d):d;return Cesium.ImageryProvider.loadImage(this,a)};function ud(a){this.D=a;this.a=null}ud.prototype.Sb=function(a,b,c,d){var e=this.D.imageryProvider._rectangle;e.west=H(c);e.south=H(Ea(a,-85.051,85.051));e.east=H(d);e.north=H(Ea(b,-85.051,85.051));this.a&&(this.a.e=!0)};ud.prototype.Ub=function(a){this.D.alpha=a;this.a&&(this.a.e=!0)};ud.prototype.cd=function(){return this.D.alpha};var vd=new Vc;
function wd(a,b,c){var d=b,e=null,f=null;null!=c&&(u(c)?(0<c.length&&(d+=c[0]),f=c):(d+=c.name||c.url,e=c));c="https:"==document.location.protocol?"https:":"http:";switch(b){case "osm":e||(e={},e.url=c+"//a.tile.openstreetmap.org");b=new Cesium.OpenStreetMapImageryProvider(e);break;case "bing":f&&(e={},e.url=c+"//dev.virtualearth.net","Aerial"==f[0]&&(e.mapStyle=Cesium.BingMapsStyle.AERIAL),"AerialWithLabels"==f[0]&&(e.mapStyle=Cesium.BingMapsStyle.AERIAL_WITH_LABELS),"Road"==f[0]&&(e.mapStyle=Cesium.BingMapsStyle.ROAD),
e.key=f[1]);b=new Cesium.BingMapsImageryProvider(e);break;case "wms":if(f){e={parameters:{}};e.url=f[1];f[2]&&0<f[2].length&&(e.parameters.version=f[2]);e.layers=f[3];e.parameters.crs=f[4];f[5]&&0<f[5].length&&(e.parameters.format=f[5]);f[6]&&0<f[6].length&&(e.parameters.styles=f[6]);if(f[7]&&0<f[7].length){var g=new gd(f[7]);G(g.R(),function(a){e.parameters[a]=g.get(a)})}if("EPSG:900913"==f[4]||"EPSG:3857"==f[4])e.tilingScheme=new Cesium.WebMercatorTilingScheme;e.maximumLevel=f[9];a&&(e.proxy=a.Jb)}b=
new Cesium.WebMapServiceImageryProvider(e);break;case "custom":f&&(e={},e.url=f[1],e.maximumLevel=f[3],e.tileSize=f[4],e.flipY=f[5],e.subdomains=f[6],e.copyright=f[7],a&&(e.proxy=a.Jb));b=new sd(e);break;default:return alert("Unknown MapType '"+b+"' !"),null}b=new ud(new Cesium.ImageryLayer(b));e&&e.opacity&&b.Ub(parseFloat(e.opacity));e&&e.bounds&&(f=e.bounds,b.Sb(f[0],f[1],f[2],f[3]));vd.set(d,b);a&&xd(a,b.D.imageryProvider.errorEvent);return b};function yd(a,b,c){this.Z=a;this.$=b;this.element=c;this.parentElement=null;this.enabled=!0;this.visible=!1}k=yd.prototype;k.detach=function(){this.parentElement&&(this.show(!1),this.parentElement=null)};k.enable=function(a){(this.enabled=a||!1)||this.show(!1)};k.isEnabled=function(){return this.enabled};k.show=function(a){a=!1!==a;var b=this.visible!=a;this.visible=a;b&&(this.visible&&this.parentElement?this.parentElement.appendChild(this.element):pb(this.element))};
function zd(a,b,c){a.element.style.left=b.toFixed()+"px";a.element.style.top=c.toFixed()+"px";a.enabled&&a.show(!0)}k.Oc=aa;function Ad(a,b){this.ma=a;this.Pc=b;this.T=new Vc}function Bd(a,b,c){b=b||Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^C()).toString(36);var d=a.Pc;c.parentElement&&c.detach();c.parentElement=d;c.show(!0);a.T.set(b,c);return b}Ad.prototype.ja=function(a){var b=this.T.get(a);p(b)&&(b.detach(),this.T.remove(a));return b};function Cd(a,b){Uc(a.T,function(a,d){a==b&&this.ja(d)},a)}
Ad.prototype.Hd=function(a){a=this.T.get(a);if(a.isEnabled()){var b;a:{b=this.ma;var c=b.camera.camera,d=new Cesium.Cartographic(a.$,a.Z,0),e=Cesium.Ellipsoid.WGS84.cartographicToCartesian(d),d=new Cesium.Cartesian4(e.x,e.y,e.z,1),f=Cesium.Matrix4.multiplyByVector(b.f.context.uniformState.modelViewProjection,d,new Cesium.Cartesian4);if(null!=f){var g=1/f.w,d=(f.x*g+1)/2,f=1-(f.y*g+1)/2,g=1;if(-.1>d||1.1<d||-.1>f||1.1<f)g=0;else{var g=Cesium.Cartesian3.subtract(e,c.position,e),e=Cesium.Cartesian3.magnitude(g),
g=-Cesium.Cartesian3.dot(Cesium.Cartesian3.normalize(g,new Cesium.Cartesian3),c.position),c=Cesium.Cartesian3.dot(c.position,c.position),h=g*g-c+40680631590769;if(0>h){b=null;break a}c=Math.min(g+Math.sqrt(h),g-Math.sqrt(h));g=Math.max(g+Math.sqrt(h),g-Math.sqrt(h));g=Math.abs(e-c)<Math.abs(e-g)?1:0}b=[d*b.canvas.width,f*b.canvas.height,g]}else b=null}null!=b?(zd(a,b[0],b[1]),a.show(0<b[2])):a.show(!1)}};Ad.prototype.forEach=function(a){G(this.T.R(),function(b){(b=this.T.get(b))&&a(b)},this)};function Dd(a){var b;a:{b=ib(a);if(b.defaultView&&b.defaultView.getComputedStyle&&(b=b.defaultView.getComputedStyle(a,null))){b=b.position||b.getPropertyValue("position")||"";break a}b=""}return b||(a.currentStyle?a.currentStyle.position:null)||a.style&&a.style.position}
function Ed(a){if(M&&!(M&&8<=db))return a.offsetParent;var b=ib(a),c=Dd(a),d="fixed"==c||"absolute"==c;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=Dd(a),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return null};function Fd(a,b,c){var d=P("div",{"class":"we-pp-content"});d.innerHTML=a;a=P("div",{"class":"we-pp-wrapper"},d);d=P("div",{"class":"we-pp-tip-cont"},P("div",{"class":"we-pp-tip"}));this.k=P("div",{"class":"we-pp"});!1!==c&&(c=P("a",{"class":"we-pp-close",href:"#"}),c.onclick=B(this.show,this,!1),this.k.appendChild(c));this.k.appendChild(a);this.k.appendChild(d);b=(b||300)+40;this.k.style.width=b.toFixed(0)+"px";this.k.style.left=(-b/2).toFixed(0)+"px";this.show(!1)}Fd.prototype.zb=function(){return this.k};
Fd.prototype.show=function(a){(null!=a?a:1!==parseFloat(this.k.style.opacity))?(this.k.style.opacity=1,this.k.style.visibility="visible"):(this.k.style.opacity=0,this.k.style.visibility="hidden")};Lc('.we-pp-content p{margin:18px 0;text-align:justify;}.we-pp-wrapper{padding:1px;text-align:left;border-radius:12px;}.we-pp{z-index:100;-webkit-transition:opacity 0.2s linear;-moz-transition:opacity 0.2s linear;-o-transition:opacity 0.2s linear;transition:opacity 0.2s linear;position:absolute;}.we-pp-wrapper,.we-pp-tip{background:white;box-shadow:0 1px 10px #888;-moz-box-shadow:0 1px 10px #888;-webkit-box-shadow:0 1px 14px #999;}.we-pp-close{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAMAAAC67D+PAAAAk1BMVEX////Ny8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8sw0horAAAAMHRSTlMA/bGBFK1LgjellwUx2+VZo73SE6z5fQYOtzLRpxI22CC4g6ieV+yAEc8/ZocEHTzU+GNbAAAAV0lEQVQI1wXBBQKDMADAwLRl7szdgCks/3/d7hh0ehl0W21IwZgNR44nTNVZribmC1WXqzVstmpIALu9Gg5HOJ1VNV64arjd1YKy8sEz+nrD51tD0//xB/w6CnrIHetcAAAAAElFTkSuQmCC);position:absolute;top:9px;right:9px;width:10px;height:10px;overflow:hidden;}.we-pp-content{display:inline-block;margin:13px 19px;font:12px/1.4 "Helvetica Neue",Arial,Helvetica,sans-serif;}.we-pp-tip-cont{margin:0 auto;width:40px;height:16px;position:relative;overflow:hidden;}.we-pp-tip{width:15px;height:15px;padding:1px;margin:-8px auto 0;-moz-transform:rotate(45deg);-webkit-transform:rotate(45deg);-o-transform:rotate(45deg);transform:rotate(45deg);}');function W(a,b,c,d,e){var f=P("div",{"class":"we-pm-icon"});v(c)&&(f.style.backgroundImage="url("+c+")");this.Dc=d||25;this.Fb=e||41;f.style.width=this.Dc.toFixed(0)+"px";f.style.height=this.Fb.toFixed(0)+"px";f.style.marginLeft=(-this.Dc/2).toFixed(0)+"px";f.style.marginTop=(-this.Fb).toFixed(0)+"px";c=P("div",{style:"position:absolute;"},f);yd.call(this,a,b,c);this.k=null;this.show(!1);this.nb(!1);f.onclick=B(this.nb,this,void 0)}D(W,yd);
function Gd(a,b){a.k&&pb(a.k.zb());a.k=b;a.element.appendChild(a.k.zb());b.k.style.bottom=a.Fb.toFixed(0)+"px"}W.prototype.nb=function(a){this.k&&this.k.show(a)};Lc(".we-pm-icon{position:absolute;z-index:64;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFtklEQVR42p3Wa0xTZxgH8CYkS5aQLGFxcXNZNNu4FIFCK9eCWOQm3lDizLYP+zTnxLk5wQpICxRaLuWi3FpQFMU55xDkjiBTFMeA9Zy2JzMxWUZisoS4TyRuQvG/pydQKb3Q2uSXw3nf93n+5z2nLRVIiga88RERL/MlAgDrosJ+d/zISTJMEFt2B9LyEV5kySBo7G+iI9vdhyj7nfEhcjKfUvcAma0z+Pwa5+BwuxG7myaRUH4XtHaAhLgI6VvLjwwn14zj0CUWn13lkHXZhPQWBml6e3svGq3zvIyGX0F1z0mWQ4hY0buaH3mcUvsAn17hcKDNhFQdsy4K5Nfv108jsXIM1OOoqxAfMppMAYepIF3PIrmZ8cqhy2ZkXjBYQyxE9iqksGeFXKa9h0PtHF0di6Qmxhk+fKeLOcLX72r8DdRvjvjxIRGFt638yPz+Vha7W0zY0cDYydAbkXWJ4+1rYWx/H2gzO6wl/JysehzUUw0+5Oxtq+zEyns42MYhsZ6xQ2N0C0yQae9DouhFZt1dOvYgnt5RGU3T/Dw1tqtJ1xn5Gur7D/ERRBR0W43vapzhd5FwnrHZ02Kmt+jvkBTeRsOdPzD/7wJWXkPGp0hSD2BnzUMcuMjZ1RF+LFY1BOotFYQXdPkSy/5WDvF1DKSr8GOau7g1/RecvWafzSOuuBf79CYkNxodandox0G9VYLw/FvCSGUf9rZQci1js6PeiPRGAw7WjTgNePnyJa9mgJ5h1QPsWVOf0kTBdZOg/p0CUV6nNKp4ALv1HKJrGJu0Znqo1RNQds64DLBYLBjjniK6ZMihXtZgRPK5KVD/UYHozM+R1p1k6DhEaRmblAYK0U4g/8aUy4DFxUUMMLOIUQ071CfVm5BUOwnq30shNzeJC7qwq5nDtirGJq6GRWoDixR1HxYsS3YhS0tLWFhY4OVdf4TEqgmkNprt6ukiafwhqL9OECb/yYfMpzaaEKllIa5kbNKa6D6XjqK632i3C9oBH3DPPIttyn5+XUy1Y22cegzUO18QdvqGVWdC5SNK5xBezqyg3dB9pW1Hl4wgu20cM3/O4b+FRTx++gwNgywkeTfhrE5cwfBj4oJuUG+hIDT3RyuZpLAXO+s5hGkYOzHVRn5cWv4Q4rM91iJE5HchpnQMsjrWWY1tPfUd5j/xoTnXV0zEV05Cds6MUDVjR6RhkXSecxBTbXJYG0ZojnbRA+opXQ75YUWmpLCfro7D1lLmdfH1Us0EqN+o7Vs45NS1FT7kSXzVDGK1ZghVzGtJpJAI2gX1Sn4V8n3HakcliiEk1HIILGG8FldtRqxmEtRn2u6f1taTHau9SebitCzCNUb4FzNekdZwCC/oA/XIsg/57upaKrFiBHFaDh8rGY9FVZgRrZ4C1T8mPnYhwd9eWWsDeR5TaUKwyogPFYxHYqo4iPL7QbVf8M3tQ9qd0UUoxhBdyWFLIbOucLUJkeoZUN0secMx5MRlZwKIhW4BXSWLzWcZt6IqrLsYBNWccPq7S/jNJVe6wxX3sU1jxgf5BpeExUZIygyg9XPE13nI8TZXtm89dRNiCnk/z+AKPx+aNwhaX+jyZ2pQ9kV3JkTKRxCVmrDpjMGBv4JFRBkLWjdP3nITcsGdT4JzuiAqM+NduWEtfjzkzBBoXQXf0GXIsVZ3fMiTsKIpBBYZsfG0wWZzAQuRygSaf0E2ug0J/LplPdnBOT0IVZnxTq5hBX8eLB8Gzev4Zu5D9OvxJXMhRQZsoavfkEPPQ84gpMQEGreQLeuGBBzVe0IVlDuA4GIz3j5l4I9B8hHQeIfbAFvIVzpPbCQvhEoT3pOzEBaZEZh9BTQW4mFIs6d0gbl3EKSkAPkY6LyXCDwLOdLsKWHAsXYEKswIOH4NdC4lnoX4H2nyRnfA6THQ8Zflcw9Dvmz0xnb/7A7QMW353OMQb7USgTch/wNGSWfRl/HE1wAAAABJRU5ErkJggg\x3d\x3d);}");function X(a,b){var c=b||{},d=v(a)?document.getElementById(a):a,e=Hd();this.xc=(this.qc="file:"==window.location.protocol)?"http:":"";(function(a,b,c,d,e){a.GoogleAnalyticsObject=e;a[e]=a[e]||function(){(a[e].q=a[e].q||[]).push(arguments)};a[e].l=1*new Date;var f=b.createElement(c);b=b.getElementsByTagName(c)[0];f.async=1;f.src=d;b.parentNode.insertBefore(f,b)})(window,document,"script",this.xc+"//www.google-analytics.com/analytics.js","__WE_ga");window.__WE_ga("create","UA-20846306-1",{name:"we0"});
window.__WE_ga("we0.send","event",(2).toString(),window.location.host,window.location.href,e?1:0);if(e){Lc(".cesium-credit-textContainer:before{content:'WebGL Earth \\2022\\20 Cesium \\2022\\20';}");this.rb=!1;wd(this,"osm");d.style.position="relative";d.style.overflow="hidden";this.canvas=document.createElement("canvas");this.canvas.style.width="100%";this.canvas.style.height="100%";this.canvas.oncontextmenu=function(){return!1};d.appendChild(this.canvas);this.Fa=null;this.f=new Cesium.Scene({canvas:this.canvas,
contextOptions:{webgl:{alpha:!0!==c.sky}}});this.pa=null;this.yb=!1;this.e=!0;this.Hb=new Cesium.Matrix4;var f=c.proxyHost||null;this.Jb={getURL:function(a){return null!=f?f+encodeURIComponent(a):a}};c.atmosphere&&(this.f.skyAtmosphere=new Cesium.SkyAtmosphere);c.sky?(e=(v(c.sky)?c.sky:window.CESIUM_BASE_URL)+"SkyBox/",this.f.skyBox=new Cesium.SkyBox({sources:{positiveX:e+"px.jpg",negativeX:e+"mx.jpg",positiveY:e+"py.jpg",negativeY:e+"my.jpg",positiveZ:e+"pz.jpg",negativeZ:e+"mz.jpg"}})):this.f.backgroundColor=
new Cesium.Color(0,0,0,0);var e=this.f.primitives,g=Cesium.Ellipsoid.WGS84;this.globe=new Cesium.Globe(g);this.camera=new Pc(this.f.camera,g);this.f.globe=this.globe;!0!==c.empty&&(g=new Cesium.OpenStreetMapImageryProvider({url:("https:"==document.location.protocol?"https:":"http:")+"//a.tile.openstreetmap.org/"}),this.f.imageryLayers.addImageryProvider(g));if(this.Ec=!!c.terrain)g=c.terrain,!0===g&&(g="https://assets.agi.com/stk-terrain/v1/tilesets/world/tiles"),g=new Cesium.CesiumTerrainProvider({url:g,
credit:c.terrainCredit}),this.f.terrainProvider=g;this.ha=new Ad(this,d);this.vb=[];this.Qa=new Cesium.BillboardCollection;e.add(this.Qa);var h=B(function(){if(!this.yb){this.f.initializeFrame();var a=this.Ec||this.e;this.e=!1;if(!a){var b=this.camera.camera.viewMatrix;this.Hb&&this.Hb.equals(b)||(b.clone(this.Hb),a=!0)}a&&(this.f.render(),null!=this.pa&&Id(this.pa),a=this.ha,G(a.T.R(),a.Hd,a),null!=this.Fa&&(this.Fa(),this.Fa=null))}Cesium.requestAnimationFrame(h)},this);Cesium.requestAnimationFrame(h);
d=new Cesium.ScreenSpaceEventHandler(this.canvas);e=B(function(){this.camera.fa.cancel()},this);d.setInputAction(e,Cesium.ScreenSpaceEventType.LEFT_DOWN);d.setInputAction(e,Cesium.ScreenSpaceEventType.RIGHT_DOWN);d.setInputAction(e,Cesium.ScreenSpaceEventType.MIDDLE_DOWN);d.setInputAction(e,Cesium.ScreenSpaceEventType.WHEEL);d.setInputAction(e,Cesium.ScreenSpaceEventType.PINCH_START);R(window,"resize",this.Eb,!1,this);this.Eb();d=c.position;e=c.center;null!=d&&1<d.length?Qc(this.camera,H(d[0]),H(d[1]),
void 0):null!=e&&1<e.length&&Qc(this.camera,H(e[0]),H(e[1]),void 0);null!=c.zoom&&window.console.log("zoom not supported");d=c.altitude;null!=d&&Qc(this.camera,void 0,void 0,d);d=this.f.screenSpaceCameraController;!0!==c.unconstrainedRotation&&(this.f.camera.constrainedAxis=Cesium.Cartesian3.UNIT_Z);if(!1===c.panning||!1===c.dragging)d.enableRotate=!1;!1===c.tilting&&(d.enableTilt=!1);if(!1===c.zooming||!1===c.scrollWheelZoom)d.enableZoom=!1;d.minimumZoomDistance=c.minAltitude||20;d.maximumZoomDistance=
c.maxAltitude||Infinity;d.tiltEventTypes.push({eventType:Cesium.CameraEventType.LEFT_DRAG,modifier:Cesium.KeyboardEventModifier.SHIFT});d.lookEventTypes={eventType:Cesium.CameraEventType.LEFT_DRAG,modifier:Cesium.KeyboardEventModifier.ALT};var l=Cesium.ImageryLayer.prototype._createTexture;Cesium.ImageryLayer.prototype._createTexture=function(a,b){b.__image__=b.image;l.call(this,a,b)};var q=this,n=Cesium.GlobeSurfaceTile.processStateMachine;Cesium.GlobeSurfaceTile.processStateMachine=function(a,b,
c,d,e){q.e=!0;n(a,b,c,d,e)};setTimeout(function(){q.e=!0},1)}else c=P("iframe",{src:this.xc+"//www.webglearth.com/webgl-error.html"}),c.style.width="100%",c.style.height="100%",c.style.border="none",d.appendChild(c)}function Hd(){if(window.WebGLRenderingContext)for(var a=document.createElement("canvas"),b=["webgl","experimental-webgl"],c=0;c<b.length;c++)try{var d=a.getContext(b[c],void 0);if(d&&y(d.getParameter))return d}catch(e){}return null}
function xd(a,b){a.rb||b.addEventListener(function(a){this.rb||(this.qc&&0!==a.provider._url.indexOf("http")?alert("Tiles for WebGL must be accessed over http protocol."):window.console&&window.console.error&&window.console.error("An error occured while accessing the tiles. Cross-domain access restrictions are applied on map tiles for WebGL. Either use CORS on remote domain (http://enable-cors.org/) or place your application on the same domain as tiles (hosting app and tiles on the same domain or running a tile proxy)."),
this.rb=!0)},a)}function Jd(a,b){var c=ya(a.vb,function(a){return 10>a.length});if(!c){c=new Cesium.PrimitiveCollection;a.vb.push(c);var d=a.f.primitives;d.add(c);d.raiseToTop(a.Qa)}c.add(b)}function Kd(a,b){G(a.vb,function(a){a.remove(b)})}k=X.prototype;k.Eb=function(){var a=this.canvas.clientWidth,b=this.canvas.clientHeight;if(this.canvas.width!==a||this.canvas.height!==b)this.canvas.width=a,this.canvas.height=b,this.f.camera.frustum.aspectRatio=a/b,this.e=!0};
k.xd=function(a){var b=this.f.imageryLayers;b.remove(b.get(0),!1);b.add(a.D,0);a.a=this;this.e=!0};k.Ed=function(a){var b=this.f.imageryLayers;1<this.f.imageryLayers.length&&b.remove(b.get(1),!1);null!=a&&(b.add(a.D),a.a=this);this.e=!0};
k.ib=function(a,b){var c=R(this.canvas,a,function(a,b){return function(c){c.target=a;c.latitude=null;c.longitude=null;var g=c.offsetX,h=c.offsetY;if(null==g||null==h){var l=c.t,g=l.pageX,h=l.pageY;!(l=l.touches)||!l[0]||g&&h||(g=l[0].pageX,h=l[0].pageY);var q=a.canvas,n,t=ib(q),x=Dd(q),J=Za&&t.getBoxObjectFor&&!q.getBoundingClientRect&&"absolute"==x&&(n=t.getBoxObjectFor(q))&&(0>n.screenX||0>n.screenY),l=new fb(0,0),A;n=t?ib(t):document;(A=!M||M&&9<=db)||(A="CSS1Compat"==gb(n).ga.compatMode);A=A?
n.documentElement:n.body;if(q!=A)if(q.getBoundingClientRect){b:{var w;try{w=q.getBoundingClientRect()}catch(Ob){n={left:0,top:0,right:0,bottom:0};break b}M&&q.ownerDocument.body&&(n=q.ownerDocument,w.left-=n.documentElement.clientLeft+n.body.clientLeft,w.top-=n.documentElement.clientTop+n.body.clientTop);n=w}t=gb(t).ga;w=N||"CSS1Compat"!=t.compatMode?t.body||t.documentElement:t.documentElement;t=t.parentWindow||t.defaultView;w=M&&O("10")&&t.pageYOffset!=w.scrollTop?new fb(w.scrollLeft,w.scrollTop):
new fb(t.pageXOffset||w.scrollLeft,t.pageYOffset||w.scrollTop);l.x=n.left+w.x;l.y=n.top+w.y}else if(t.getBoxObjectFor&&!J)n=t.getBoxObjectFor(q),w=t.getBoxObjectFor(A),l.x=n.screenX-w.screenX,l.y=n.screenY-w.screenY;else{n=q;do{l.x+=n.offsetLeft;l.y+=n.offsetTop;n!=q&&(l.x+=n.clientLeft||0,l.y+=n.clientTop||0);if(N&&"fixed"==Dd(n)){l.x+=t.body.scrollLeft;l.y+=t.body.scrollTop;break}n=n.offsetParent}while(n&&n!=q);if(Ya||N&&"absolute"==x)l.y-=t.body.offsetTop;for(n=q;(n=Ed(n))&&n!=t.body&&n!=A;)l.x-=
n.scrollLeft,Ya&&"TR"==n.tagName||(l.y-=n.scrollTop)}g-=l.x;h-=l.y}null!=g&&null!=h&&(h=a.camera.camera.pickEllipsoid(new Cesium.Cartesian2(g,h)),null!=h&&(h=Cesium.Ellipsoid.WGS84.cartesianToCartographic(h),g=I(h.latitude),l=I(h.longitude),c.latlng={lat:g,lng:l},c.latitude=g,c.longitude=l,c.altitude=h.height,c.originalEvent=c.t));b(c)}}(this,b));return b[z(this)+"___eventKey_"+a]=c};k.Pa=function(a,b){if(null!=b){var c=b[z(this)+"___eventKey_"+a];null!=c&&Tb(c)}else v(a)||Tb(a)};
k.hb=function(a){Ub(this.canvas,a)};k.ld=function(a,b,c,d,e){a=da(a)?new W(H(a),H(b),c,d,e):a;Bd(this.ha,null,a);this.e=!0;return a};k.ja=function(a){Cd(this.ha,a);this.e=!0};var Ld=/#(.)(.)(.)/;function Md(a){if(!Nd.test(a))throw Error("'"+a+"' is not a valid hex color");4==a.length&&(a=a.replace(Ld,"#$1$1$2$2$3$3"));return a.toLowerCase()}var Nd=/^#(?:[0-9a-f]{3}){1,2}$/i;function Od(a,b,c){this.a=c;this.m=null;this.gb=this.fb=0;this.ta(a,b);this.src=""}Od.prototype.ta=function(a,b){this.fb=a;this.gb=b;if(this.m){var c=Cesium.Ellipsoid.WGS84.cartographicToCartesian(new Cesium.Cartographic(this.gb,this.fb));this.m.position=c}};Od.prototype.enable=function(a){this.m&&(this.m.show=a)};Od.prototype.destroy=function(){this.m&&(this.a.Qa.remove(this.m),this.m=null)};Od.prototype.Na=function(){return!1};function Pd(){this.qa=new Cesium.Polygon({asynchronous:!1});this.Ob=new Cesium.PolylineCollection;this.Aa=this.Ob.add();this.c=null;this.r=[];this.ia=0;this.qa.material.uniforms.color=new Cesium.Color(1,0,0,.8);this.Aa.material.uniforms.color=new Cesium.Color(0,0,0,1);this.Aa.width=2;this.Ca=0;this.kb=this.da=!1;this.Va=[]}k=Pd.prototype;k.Oa=function(){return this.da};function Qd(a){var b=a.kb;a.kb=!1;return b}k.Bb=function(){return this.Ca};
k.ea=function(a,b,c,d){a=new Rd(a,b);0==this.ia?(this.c=a,a.next=a,a.i=a):(c=this.r[Ea(null!=c?c:Number.MAX_VALUE,0,this.r.length-1)],c||(c=this.c.i),a.next=c.next,c.next=a,a.i=c,a.next.i=a);this.r.push(a);a.xa=this.r.length-1;this.ia++;!0!==d&&(Sd(this),Td(this));return a.xa};
k.ub=function(a,b,c,d){a=new Rd(a,b);0==this.ia?(this.c=a,a.next=a,a.i=a):(c=this.r[Ea(null!=c?c:Number.MAX_VALUE,0,this.r.length-1)],c||(c=this.c.i),a.next=c.next,c.next=a,a.i=c,a.next.i=a);this.r.push(a);a.xa=this.r.length-1;this.ia++;if(!0!==d&&this.c&&!(3>this.ia)){d=[];c=this.c;do d.push(new Cesium.Cartographic(c.x,c.y)),c=c.next;while(c!=this.c);d=Cesium.Ellipsoid.WGS84.cartographicArrayToCartesianArray(d);this.qa.positions=d;this.Aa.positions=d}return a.xa};
function Ud(a,b){var c=a.r[b];return c?[c.i.xa,c.next.xa]:[]}function Vd(a,b){var c=a.r[b];if(!c)return[];var d=180/Math.PI;return[c.x*d,c.y*d]}k.aa=function(a,b,c){if(a=this.r[a])a.ta(b,c),Sd(this),Td(this)};k.ba=function(a){var b=this.r[a];b&&(this.c==b&&(this.c=b==b.next?null:b.next),b.next.i=b.i,b.i.next=b.next,delete this.r[a],this.ia--,Sd(this),Td(this))};
function Wd(a){if(!a.Oa())return null;var b=0,c=0,d=0,e=a.c;do var f=e,g=e.next,h=f.x*g.y-g.x*f.y,b=b+(f.x+g.x)*h,c=c+(f.y+g.y)*h,d=d+h,e=e.next;while(e!=a.c);h=d/2*6/(180/Math.PI);return[b/h,c/h]}k.Na=function(a,b){function c(a,b){return(d-b.x)*(a.y-b.y)-(a.x-b.x)*(e-b.y)}var d=b/180*Math.PI,e=a/180*Math.PI,f=!1;G(this.Va,function(a){var b=0>c(a[1],a[2]),d=0>c(a[2],a[0]);0>c(a[0],a[1])==b&&b==d&&(f=!0)});return f};
k.Gb=function(a){function b(a,b){function c(b,e){return(a.x-e.x)*(b.y-e.y)-(b.x-e.x)*(a.y-e.y)}var g=0>c(b[1],b[2]),h=0>c(b[2],b[0]);return 0>c(b[0],b[1])==g&&g==h}function c(a,b,c,g){var h=(g.y-c.y)*(b.x-a.x)-(g.x-c.x)*(b.y-a.y),l=a.y-c.y,q=a.x-c.x;c=((g.x-c.x)*l-(g.y-c.y)*q)/h;a=((b.x-a.x)*l-(b.y-a.y)*q)/h;return 0<c&&1>c&&0<a&&1>a}return null!==xa(this.Va,function(d){return null!==xa(a.Va,function(a){return c(d[0],d[1],a[0],a[1])||c(d[0],d[1],a[1],a[2])||c(d[0],d[1],a[2],a[0])||c(d[1],d[2],a[0],
a[1])||c(d[1],d[2],a[1],a[2])||c(d[1],d[2],a[2],a[0])||c(d[2],d[0],a[0],a[1])||c(d[2],d[0],a[1],a[2])||c(d[2],d[0],a[2],a[0])||b(d[0],a)&&b(d[1],a)&&b(d[2],a)||b(a[0],d)&&b(a[1],d)&&b(a[2],d)?!0:!1})})};function Sd(a){if(a.c&&!(3>a.ia)){var b=[],c=a.c;do b.push(new Cesium.Cartographic(c.x,c.y)),c=c.next;while(c!=a.c);b=Cesium.Ellipsoid.WGS84.cartographicArrayToCartesianArray(b);a.qa.positions=b;b.push(b[0]);a.Aa.positions=b}}
function Td(a){var b=a.ia;a.Ca=0;a.Va=[];a.da=!1;if(2<b){var c=null;a.da=!0;var d=a.c;do{var e=!0,f=d.next,g=a.c;do{var h=g.next,l=(h.y-g.y)*(f.x-d.x)-(h.x-g.x)*(f.y-d.y),q=((h.x-g.x)*(d.y-g.y)-(h.y-g.y)*(d.x-g.x))/l,g=((f.x-d.x)*(d.y-g.y)-(f.y-d.y)*(d.x-g.x))/l;0<q&&1>q&&0<g&&1>g&&(e=!1);g=h}while(e&&g!=a.c);e&&(c=d);a.da=a.da&&e;d=f}while(d!=a.c);a.da||4!=b||(d=function(a,b){var c=a.i,d=b.next;a.i=b;b.next=a;a.next=d;b.i=c;d.i=a;c.next=b},c&&d(c,c.next),Sd(a),a.da=!0,a.kb=!0)}if(a.qa.show=a.da){c=
0;if(0<b){d=a.c;do f=d.next,c+=d.x*f.y-d.y*f.x,d=f;while(d!=a.c)}if(0<c){a.kb=!0;for(c=0;c<a.r.length;++c)if(d=a.r[c])f=d.next,d.next=d.i,d.i=f;Sd(a)}var n=[],c=B(function(a,b,c){function d(a,b){var c=a.Pb-b.Pb,e=a.Qb-b.Qb,f=a.Rb-b.Rb;return Math.sqrt(c*c+e*e+f*f)}n.push([a.$b,b.$b,c.$b]);this.Va.push([a,b,c]);var e=d(a,b);b=d(b,c);a=d(c,a);c=(e+b+a)/2;this.Ca+=Math.sqrt(c*(c-e)*(c-b)*(c-a))},a);if(!(3>b))if(3==b)c(a.c,a.c.i,a.c.next);else{var t=a.c,x=function(a,b,c){return-((b.x-a.x)*(c.y-a.y)-(c.x-
a.x)*(b.y-a.y))},J=function(a,b){var c=a.va,d=a.N;return 0<=x(a,d,c)?0<x(a,b,c)&&0<x(b,a,d):!(0<=x(a,b,d)&&0<=x(b,a,c))},d=function(a,b){var c;if(c=J(a,b)&&J(b,a))a:{c=t;var d;do{d=c.N;var e;if(e=c!=a&&d!=a&&c!=b&&d!=b){if(0==x(a,b,c)||0==x(a,b,d)||0==x(c,d,a)||0==x(c,d,b))d=0;else{e=0<x(a,b,c);var f=0<x(a,b,d);if(e=(e||f)&&!(e&&f))e=0<x(c,d,a),d=0<x(c,d,b),e=(e||d)&&!(e&&d);d=e}e=d}if(e){c=!1;break a}c=c.N}while(c!=t);c=!0}return c},A,w;G(a.r,function(a){a&&(a.N=a.next,a.va=a.i)});f=a.c;do e=f.N,
g=f.va,f.Xa=d(g,e),f=f.N;while(f!=a.c);for(h=99;0<h&&3<b;){h--;e=t;q=99;do g=!1,e.Xa&&(A=e.N,w=A.N,f=e.va,g=f.va,c(A,e,f),f.Xa=d(g,A),A.Xa=d(f,w),f.N=A,A.va=f,t=A,b--,g=!0),e=e.N,q--;while(0<q&&!g&&e!=t)}f&&A&&w&&c(w,A,f)}a.Ca*=40680631590769}}function Rd(a,b,c,d){this.Rb=this.Qb=this.Pb=this.y=this.x=0;this.ta(a,b);this.next=c||null;this.i=d||null;this.$b=this.xa=-1;this.Xa=!1;this.N=this.next;this.va=this.i}
Rd.prototype.ta=function(a,b){this.x=b/180*Math.PI;this.y=a/180*Math.PI;var c=Math.cos(this.y);this.Pb=Math.sin(this.x)*c;this.Qb=Math.sin(this.y);this.Rb=Math.cos(this.x)*c};function Xd(a,b,c,d,e,f,g){var h=P("div",{"class":"we-polydragger-"+(null!=d?"a":"b")});yd.call(this,a,b,h);this.show(!1);R(h,"mousedown",function(a){0==a.button&&(R(c.canvas,"mousemove",function(a){var b=c.camera.camera.pickEllipsoid(new Cesium.Cartesian2(a.offsetX,a.offsetY));null!=b&&(b=Cesium.Ellipsoid.WGS84.cartesianToCartographic(b),this.Z=I(b.latitude),this.$=I(b.longitude),zd(this,a.offsetX,a.offsetY),null!=d?e(d,this.Z,this.$):g&&(d=g(this.Z,this.$),h.className="we-polydragger-a"),a.preventDefault())},
!1,this),a.preventDefault())},!1,this);R(h,"click",function(a){a.altKey&&null!=d&&(f(d),a.preventDefault())},!1,this);R(h,"mouseup",function(){Ub(c.canvas,"mousemove")},!1,this)}D(Xd,yd);Lc(".we-polydragger-a{position:absolute;width:8px;height:8px;z-index:100;margin-left:-4px;margin-top:-4px;background-color:#36f;cursor:pointer;border:1px solid blue;}");Lc(".we-polydragger-b{position:absolute;width:6px;height:6px;z-index:99;margin-left:-3px;margin-top:-3px;background-color:rgba(180,220,250,0.9);cursor:pointer;border:1px solid blue;}");function Yd(a,b){this.a=a;this.F=b;this.d=new Pd;Jd(this.a,this.d.qa);Jd(this.a,this.d.Ob);this.a.e=!0;this.P={};this.H={};this.G={};this.Ha=null;this.La=new Od(0,0,this.a);this.ya=aa;this.rc=0}k=Yd.prototype;k.destroy=function(){this.kc();Kd(this.a,this.d.qa);Kd(this.a,this.d.Ob);this.a.e=!0;this.ya=aa;this.La.destroy();Qa(this.G,function(a){this.F.ja(a)},this);Qa(this.P,function(a){this.F.ja(a)},this);delete this.H;delete this.d};
k.Qc=function(){null==this.Ha&&(this.Ha=R(this.a.canvas,"mousedown",function(a){Rb(this.a.canvas,"mouseup",function(b){if(0==b.button&&null!==this.Ha&&3>=Math.max(Math.abs(a.offsetX-b.offsetX),Math.abs(a.offsetY-b.offsetY))){var c=this.a.camera.camera.pickEllipsoid(new Cesium.Cartesian2(b.offsetX,b.offsetY));null!=c&&(c=Cesium.Ellipsoid.WGS84.cartesianToCartographic(c),this.ea(I(c.latitude),I(c.longitude)),b.preventDefault(),this.rc=C())}},!1,this)},!1,this))};
k.kc=function(){Tb(this.Ha);this.Ha=null};k.setFillColor=function(a,b){a=Md(a);this.d.qa.material.uniforms.color=new Cesium.Color(parseInt(a.substr(1,2),16)/255,parseInt(a.substr(3,2),16)/255,parseInt(a.substr(5,2),16)/255,b);this.a.e=!0};k.setStrokeColor=function(a,b){a=Md(a);this.d.Aa.material.uniforms.color=new Cesium.Color(parseInt(a.substr(1,2),16)/255,parseInt(a.substr(3,2),16)/255,parseInt(a.substr(5,2),16)/255,b);this.a.e=!0};
k.yd=function(a,b,c){var d=this.La;0<a.length?(d.m||(d.m=d.a.Qa.add(),d.ta(d.fb,d.gb)),d.m.Ld=a,d.m.width=b,d.m.height=c,d.m.sizeInMeters=!0,d.m.verticalOrigin=Cesium.VerticalOrigin.BOTTOM,d.ta(d.fb,d.gb),d.a.e=!0):d.m&&(d.a.Qa.remove(d.m),d.m=null);Zd(this);this.a.e=!0};k.Dd=function(a){this.ya=a};k.Oa=function(){return this.d.Oa()};k.Bb=function(){return this.d.Bb()};k.Zc=function(){var a=Wd(this.d);return{lat:a[1],lng:a[0]}};k.Na=function(a,b){return 100>C()-this.rc?!1:this.d.Na(a,b)};k.Gb=function(a){return this.d.Gb(a.d)};
function Zd(a){var b;if(!(b=Wd(a.d)))if(b=a.d,b.c){var c=0,d=0,e=0,f=b.c;do c+=f.x,d+=f.y,e++,f=f.next;while(f!=b.c);e=e/180*Math.PI;b=[c/e,d/e]}else b=[0,0];a.La.ta(H(b[1]),H(b[0]));a.La.enable(a.d.Oa())}k.Ac=function(a,b){Qa(this.H,function(b){b.enable(a)},this);!0!==b&&Qa(this.P,function(b){this.F.T.get(b).enable(a)},this);this.a.e=!0};k.dd=function(){var a=this.d,b=180/Math.PI,c=[],d=a.c;do c.push({lat:d.y*b,lng:d.x*b}),d=d.next;while(d!=a.c);return c};
function Y(a,b){var c=Ud(a.d,b);if(0<c.length){var d=Vd(a.d,c[0]),e=Vd(a.d,b),f=Vd(a.d,c[1]);a.H[b].Z=H((e[1]+f[1])/2);a.H[b].$=H((e[0]+f[0])/2);a.H[c[0]].Z=H((d[1]+e[1])/2);a.H[c[0]].$=H((d[0]+e[0])/2)}a.a.e=!0}function $d(a){Qd(a.d)&&Qa(a.H,function(a,c){Y(this,c)},a)}k.dc=function(a){for(var b=a.length,c=0;c<b-1;c++)this.ea(a[c][0],a[c][1],void 0,void 0,!0);this.ea(a[c][0],a[c][1])};
k.ea=function(a,b,c,d,e){e=this.d.ea(a,b,c,e);d&&null!=c?(this.P[e]=this.G[c],delete this.G[c]):(c=new Xd(H(a),H(b),this.a,e,B(this.aa,this),B(this.ba,this)),this.P[e]=Bd(this.F,null,c));Zd(this);c=Ud(this.d,e);if(0<c.length){var f=B(function(a){return B(function(b,c){return this.ea(b,c,a,!0)},this)},this),g=new Xd(H(a),H(b),this.a,null,B(this.aa,this),B(this.ba,this),f(e));this.H[e]=g;this.G[e]=Bd(this.F,null,g);d&&(a=new Xd(H(a),H(b),this.a,null,B(this.aa,this),B(this.ba,this),f(c[0])),this.H[c[0]]=
a,this.G[c[0]]=Bd(this.F,null,a));Y(this,c[0]);Y(this,e);Y(this,c[1])}$d(this);this.ya();this.a.e=!0;return e};
k.ub=function(a,b,c,d,e){e=this.d.ub(a,b,c,e);d&&null!=c?(this.P[e]=this.G[c],delete this.G[c]):(c=new Xd(H(a),H(b),this.a,e,B(this.aa,this),B(this.ba,this)),this.P[e]=Bd(this.F,null,c));Zd(this);c=Ud(this.d,e);if(0<c.length){var f=B(function(a){return B(function(b,c){return this.ea(b,c,a,!0)},this)},this),g=new Xd(H(a),H(b),this.a,null,B(this.aa,this),B(this.ba,this),f(e));this.H[e]=g;this.G[e]=Bd(this.F,null,g);d&&(a=new Xd(H(a),H(b),this.a,null,B(this.aa,this),B(this.ba,this),f(c[0])),this.H[c[0]]=
a,this.G[c[0]]=Bd(this.F,null,a));Y(this,c[0]);Y(this,e);Y(this,c[1])}$d(this);this.ya();this.a.e=!0;return e};k.aa=function(a,b,c){this.d.aa(a,b,c);var d=this.F.T.get(this.P[a]);d.Z=H(b);d.$=H(c);$d(this);Y(this,a);Zd(this);this.a.e=!0;this.ya()};
k.ba=function(a){var b=Ud(this.d,a);this.d.ba(a);Zd(this);null!=this.P[a]&&(this.F.ja(this.P[a]),delete this.P[a],delete this.H[a],null!=this.G[a]&&(this.F.ja(this.G[a]),delete this.G[a]));$d(this);0<b.length&&(Y(this,b[0]),Y(this,a),Y(this,b[1]));this.a.e=!0;this.ya()};function ae(a,b){function c(a,b){var c=e.createShader(b);e.shaderSource(c,a);e.compileShader(c);if(!e.getShaderParameter(c,e.COMPILE_STATUS))throw Error("Shader err: "+e.getShaderInfoLog(c));if(null===c)throw Error("Unknown");return c}this.ma=a;this.canvas=document.createElement("canvas");ob(this.ma.canvas.parentElement||window.document,this.canvas);var d={depth:!1,preserveDrawingBuffer:!0},e=this.Db=this.canvas.getContext("webgl",d)||this.canvas.getContext("experimental-webgl",d);e.enable(e.CULL_FACE);
e.cullFace(e.BACK);e.clearColor(0,0,0,0);this.Ea=e.createBuffer();for(var d=[],f=[],g=[],h=0;32>=h;h++)for(var l=h*Math.PI/32,q=Math.sin(l),n=Math.cos(l),l=0;32>=l;l++){var t=2*l*Math.PI/32,t=t-Math.PI/2,x=Math.cos(t)*q,J=n,t=Math.sin(t)*q,A=1-h/32;f.push(1-l/32);f.push(A);d.push(1*x);d.push(1*J);d.push(1*t)}for(h=0;32>h;h++)for(l=0;32>l;l++)q=33*h+l,n=q+32+1,g.push(q+1),g.push(n),g.push(q),g.push(q+1),g.push(n+1),g.push(n);this.Ea=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,this.Ea);e.bufferData(e.ARRAY_BUFFER,
new Float32Array(d),e.STATIC_DRAW);this.Ea.eb=3;this.Ea.Kb=d.length/3;this.Ua=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,this.Ua);e.bufferData(e.ARRAY_BUFFER,new Float32Array(f),e.STATIC_DRAW);this.Ua.eb=2;this.Ua.Kb=f.length/2;this.Ma=e.createBuffer();e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.Ma);e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(g),e.STATIC_DRAW);this.Ma.eb=1;this.Ma.Kb=g.length;this.ob=null;var w=new Image;w.onload=B(function(){this.ob=e.createTexture();e.activeTexture(e.TEXTURE0);
e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,1);e.bindTexture(e.TEXTURE_2D,this.ob);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,w);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR)},this);w.src=b;d=c("precision lowp float;varying vec2 vTextureCoord;uniform sampler2D uSampler;void main(){gl_FragColor\x3dtexture2D(uSampler,vTextureCoord);}",e.FRAGMENT_SHADER);f=c("precision mediump float;attribute vec3 aVertexPosition;attribute vec2 aTextureCoord;uniform mat4 uMVMatrix;uniform mat4 uPMatrix;uniform float uAspect;varying vec2 vTextureCoord;void main(){gl_Position\x3duPMatrix*uMVMatrix*vec4(aVertexPosition,1.0);gl_Position.x*\x3duAspect;gl_Position.z\x3d0.0;vTextureCoord\x3daTextureCoord;}",
e.VERTEX_SHADER);this.s=e.createProgram();if(null===this.s)throw Error("Unknown");e.attachShader(this.s,f);e.attachShader(this.s,d);e.bindAttribLocation(this.s,0,"aVertexPosition");e.linkProgram(this.s);if(!e.getProgramParameter(this.s,e.LINK_STATUS))throw Error("Shader program err: "+e.getProgramInfoLog(this.s));e.useProgram(this.s);this.bc=e.getAttribLocation(this.s,"aVertexPosition");this.Yb=e.getAttribLocation(this.s,"aTextureCoord");this.Gc=e.getUniformLocation(this.s,"uAspect");this.rd=e.getUniformLocation(this.s,
"uPMatrix");this.od=e.getUniformLocation(this.s,"uMVMatrix");this.ud=e.getUniformLocation(this.s,"uSampler");this.Sa=128;this.wc=.1}function Ma(a,b){var c=a.Sa*(1+a.wc);b.drawImage(a.canvas,a.ma.canvas.width-c,a.ma.canvas.height-c)}
function Id(a){if(null!=a.ob){var b=a.Db;b.useProgram(a.s);b.activeTexture(b.TEXTURE0);b.bindTexture(b.TEXTURE_2D,a.ob);b.uniform1i(a.ud,0);var c=U(a.ma.camera),d=a.ma.camera.camera.frustum,e=Cesium.Matrix4.fromTranslation(new Cesium.Cartesian3(0,0,-1.3/Math.tan(d.fovy/2)));(function(a,b){var c=Math.cos(b),d=Math.sin(b);Cesium.Matrix4.multiply(a,new Cesium.Matrix4(1,0,0,0,0,c,-d,0,0,d,c,0,0,0,0,1),a)})(e,c[0]);(function(a,b){var c=Math.cos(b),d=Math.sin(b);Cesium.Matrix4.multiply(a,new Cesium.Matrix4(c,
0,d,0,0,1,0,0,-d,0,c,0,0,0,0,1),a)})(e,-c[1]);c=new Float32Array(Da(Cesium.Matrix4.toArray(d.projectionMatrix)));b.uniformMatrix4fv(a.od,!1,new Float32Array(Da(Cesium.Matrix4.toArray(e))));b.uniformMatrix4fv(a.rd,!1,c);b.uniform1f(a.Gc,d.aspectRatio);b.bindBuffer(b.ARRAY_BUFFER,a.Ea);b.vertexAttribPointer(a.bc,a.Ea.eb,b.FLOAT,!1,0,0);b.bindBuffer(b.ARRAY_BUFFER,a.Ua);b.vertexAttribPointer(a.Yb,a.Ua.eb,b.FLOAT,!1,0,0);b.enableVertexAttribArray(a.bc);b.enableVertexAttribArray(a.Yb);b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,
a.Ma);b.drawElements(b.TRIANGLES,a.Ma.Kb,b.UNSIGNED_SHORT,0);b.disableVertexAttribArray(a.bc);b.disableVertexAttribArray(a.Yb)}};r("WebGLEarth",X);r("WebGLEarth.isSupported",X.Kd);X.prototype.wd=function(a){var b=this.camera;b.fa.cancel();var c=b.Q(),d=b.X();Qc(b,void 0,void 0,a);a=b.X();c-=b.Q();b.camera.lookDown(a);b.camera.twistLeft(c);b.camera.lookUp(d)};r("WebGLEarth.prototype.setAltitude",X.prototype.wd);X.prototype.Wc=function(){return U(this.camera)[2]};r("WebGLEarth.prototype.getAltitude",X.prototype.Wc);X.prototype.Ra=function(a){a=Sc(this.canvas,this.camera.camera.frustum.fovy,a,U(this.camera)[0]);this.setAltitude(a)};
r("WebGLEarth.prototype.setZoom",X.prototype.Ra);X.prototype.Cb=function(){var a=U(this.camera),b=a[0],c=.7*this.canvas.height/256,a=a[2]/6378137*2*Math.tan(this.camera.camera.frustum.fovy/2)/c;return Math.log(2*Math.cos(Math.abs(b))*Math.PI/a)/Math.LN2};r("WebGLEarth.prototype.getZoom",X.prototype.Cb);
X.prototype.la=function(a,b,c,d,e,f,g){var h=this.camera;h.fa.cancel();a=H(a);b=H(b);null!=c&&(d=Sc(this.canvas,h.camera.frustum.fovy,c,a));d=p(d)?d:U(h)[2];e=p(e)?H(e):h.Q();f=p(f)?H(f):h.X();g&&(b=Nc(a,b,d,e,f),a=b[0],b=b[1],null!=c&&(d=Sc(this.canvas,h.camera.frustum.fovy,c,a)));Oc(h,a,b,d,e,f)};r("WebGLEarth.prototype.setPosition",X.prototype.la);X.prototype.ed=function(){var a=U(this.camera);return[I(a[0]),I(a[1])]};r("WebGLEarth.prototype.getPosition",X.prototype.ed);X.prototype.Q=function(){return I(this.camera.Q())};
r("WebGLEarth.prototype.getHeading",X.prototype.Q);X.prototype.X=function(){return I(this.camera.X())};r("WebGLEarth.prototype.getTilt",X.prototype.X);X.prototype.mb=function(a){this.camera.fa.cancel();this.camera.mb(H(a))};r("WebGLEarth.prototype.setHeading",X.prototype.mb);X.prototype.Vb=function(a){this.camera.fa.cancel();this.camera.Vb(H(a))};r("WebGLEarth.prototype.setTilt",X.prototype.Vb);
X.prototype.Ja=function(a,b,c,d,e,f,g){this.camera.fa.Ja(H(a),H(b),c,p(d)?H(d):void 0,p(e)?H(e):void 0,f,g)};r("WebGLEarth.prototype.flyTo",X.prototype.Ja);X.prototype.lc=function(a,b,c,d,e,f,g){a=H(a);b=H(b);c=H(c);d=H(d);var h=Rc(this.camera,a,b,c,d);c=Fa(c,2*Math.PI);d=Fa(d,2*Math.PI);var l=c-d;l<-Math.PI?c+=2*Math.PI:l>Math.PI&&(d+=2*Math.PI);a=[(a+b)/2,(c+d)/2];this.camera.fa.Ja(a[0],a[1],h,p(e)?H(e):void 0,p(f)?H(f):void 0,p(e)||p(f),g)};r("WebGLEarth.prototype.flyToFitBounds",X.prototype.lc);
X.prototype.hd=function(){var a=new Cesium.Cartesian2(this.canvas.width/2,this.canvas.height/2),a=this.camera.camera.pickEllipsoid(a);if(null!=a)return a=this.camera.ellipsoid.cartesianToCartographic(a),[I(a.latitude),I(a.longitude)]};r("WebGLEarth.prototype.getTarget",X.prototype.hd);
X.prototype.Yc=function(a,b){b=b||4;for(var c=[90,-90,180,-180],d=0,e=this.canvas.width/(b-1),f=this.canvas.height/(b-1),g=0;g<b;g++)for(var h=0;h<b;h++){var l=new Cesium.Cartesian2(g*e,h*f),l=this.camera.camera.pickEllipsoid(l);null!=l&&(l=this.camera.ellipsoid.cartesianToCartographic(l),c[0]=Math.min(c[0],l.latitude),c[1]=Math.max(c[1],l.latitude),c[2]=Math.min(c[2],l.longitude),c[3]=Math.max(c[3],l.longitude),d++)}return 2<d?(null!=a&&(d=(c[1]-c[0])/2*(a-1),e=(c[3]-c[2])/2*(a-1),c[0]-=d,c[1]+=
d,c[2]-=e,c[3]+=e),[I(c[0]),I(c[1]),I(c[2]),I(c[3])]):null};r("WebGLEarth.prototype.getBounds",X.prototype.Yc);X.prototype.Ad=function(a){this.f.screenSpaceCameraController.minimumZoomDistance=a||0};r("WebGLEarth.prototype.setMinAltitude",X.prototype.Ad);X.prototype.zd=function(a){this.f.screenSpaceCameraController.maximumZoomDistance=a||Infinity};r("WebGLEarth.prototype.setMaxAltitude",X.prototype.zd);X.prototype.$c=function(){return this.f};r("WebGLEarth.prototype.getCesiumScene",X.prototype.$c);
r("WebGLEarth.prototype.handleResize",X.prototype.Eb);X.prototype.vd=function(a){this.Fa=B(function(){var b=La(this.f.canvas,this.ha,this.pa);Na(b,a)},this);this.e=!0};r("WebGLEarth.prototype.saveScreenshot",X.prototype.vd);X.prototype.fd=function(a){this.Fa=B(function(){var b=La(this.f.canvas,this.ha,this.pa);a(b.toDataURL?b.toDataURL():"data:image/png,")},this);this.e=!0};r("WebGLEarth.prototype.getScreenshot",X.prototype.fd);
X.prototype.Fd=function(a,b){if(null!=a){var c=this.pa=new ae(this,a);c.Sa=b;c.canvas.width=c.Sa;c.canvas.height=c.Sa;c.Db.viewport(0,0,c.canvas.width,c.canvas.height);var d=c.wc*c.Sa;c.canvas.style.cssText="position:absolute;z-index:10000;pointer-events:none;right:"+d+"px;bottom:"+d+"px;"}else this.pa=null;this.e=!0};r("WebGLEarth.prototype.showMiniGlobe",X.prototype.Fd);X.prototype.sd=function(){this.yb=!0};r("WebGLEarth.prototype.pauseRendering",X.prototype.sd);
X.prototype.td=function(){this.yb=!1};r("WebGLEarth.prototype.resumeRendering",X.prototype.td);
X.prototype.Xc=function(a,b){var c;a:{var d=a/180*Math.PI,e=b/180*Math.PI;c=this.f.imageryLayers.get(0);for(var f=c.imageryProvider,g=f.tilingScheme,d=new Cesium.Cartographic(e,d),h=null,e=f.maximumLevel;0<=e;){var l=g.positionToTileXY(d,e),q=c.getImageryFromCache(l.x,l.y,e,void 0);if(q.__image__){var h=Math.floor((l.x-Math.floor(l.x))*f.tileWidth),l=Math.floor((l.y-Math.floor(l.y))*f.tileHeight),n=document.createElement("canvas");n.width=1;n.height=1;n=n.getContext("2d");n.drawImage(q.__image__,
h,l,1,1,0,0,1,1);h=n.getImageData(0,0,1,1).data;h=[h[0],h[1],h[2],h[3]/255,e]}q.releaseReference();if(h){c=h;break a}e--}c=[0,0,0,0,-1]}return c};r("WebGLEarth.prototype.getBestAvailablePixelColor",X.prototype.Xc);r("WebGLEarth.Maps",{OSM:"osm",BING:"bing",WMS:"wms",CUSTOM:"custom"});X.prototype.kd=function(a,b){return wd(this,a,b)};r("WebGLEarth.prototype.initMap",X.prototype.kd);r("WebGLEarth.prototype.setBaseMap",X.prototype.xd);r("WebGLEarth.prototype.setOverlayMap",X.prototype.Ed);
r("WebGLEarth.Map",ud);r("WebGLEarth.Map.prototype.setBoundingBox",ud.prototype.Sb);r("WebGLEarth.Map.prototype.setOpacity",ud.prototype.Ub);r("WebGLEarth.Map.prototype.getOpacity",ud.prototype.cd);r("WebGLEarth.Marker",W);W.prototype.la=function(a,b){this.Z=H(a);this.$=H(b)};r("WebGLEarth.Marker.prototype.setPosition",W.prototype.la);W.prototype.Hc=function(a,b,c){Gd(this,new Fd(a,b,c));return this};r("WebGLEarth.Marker.prototype.bindPopup",W.prototype.Hc);W.prototype.qd=function(){this.nb(!0)};
r("WebGLEarth.Marker.prototype.openPopup",W.prototype.qd);W.prototype.Mc=function(){this.nb(!1)};r("WebGLEarth.Marker.prototype.closePopup",W.prototype.Mc);r("WebGLEarth.prototype.initMarker",X.prototype.ld);r("WebGLEarth.prototype.removeMarker",X.prototype.ja);W.prototype.ib=function(a,b){var c=R(this.element,a,function(a,b){return function(c){c.target=a;c.latitude=I(a.Z);c.longitude=I(a.$);c.originalEvent=c.t;b(c)}}(this,b));return b[z(this)+"___eventKey_"+a]=c};
r("WebGLEarth.Marker.prototype.on",W.prototype.ib);W.prototype.Pa=X.prototype.Pa;r("WebGLEarth.Marker.prototype.off",W.prototype.Pa);W.prototype.hb=function(a){Ub(this.element,a)};r("WebGLEarth.Marker.prototype.offAll",W.prototype.hb);r("WebGLEarth.CustomMarker",yd);r("WebGLEarth.CustomMarker.prototype.setPosition",W.prototype.la);r("WebGLEarth.CustomMarker.prototype.on",W.prototype.ib);r("WebGLEarth.CustomMarker.prototype.off",W.prototype.Pa);r("WebGLEarth.CustomMarker.prototype.offAll",W.prototype.hb);
r("WebGLEarth.prototype.on",X.prototype.ib);r("WebGLEarth.prototype.off",X.prototype.Pa);r("WebGLEarth.prototype.offAll",X.prototype.hb);function Z(a){Yd.call(this,a,a.ha)}D(Z,Yd);r("WebGLEarth.Polygon",Z);r("WebGLEarth.Polygon.prototype.destroy",Z.prototype.destroy);r("WebGLEarth.Polygon.prototype.enableClickToAdd",Z.prototype.Qc);r("WebGLEarth.Polygon.prototype.disableClickToAdd",Z.prototype.kc);r("WebGLEarth.Polygon.prototype.setFillColor",Z.prototype.setFillColor);
r("WebGLEarth.Polygon.prototype.setStrokeColor",Z.prototype.setStrokeColor);r("WebGLEarth.Polygon.prototype.setOnChange",Z.prototype.Dd);r("WebGLEarth.Polygon.prototype.isValid",Z.prototype.Oa);r("WebGLEarth.Polygon.prototype.getRoughArea",Z.prototype.Bb);r("WebGLEarth.Polygon.prototype.intersects",Z.prototype.Gb);r("WebGLEarth.Polygon.prototype.setIcon",Z.prototype.yd);r("WebGLEarth.Polygon.prototype.showDraggers",Z.prototype.Ac);r("WebGLEarth.Polygon.prototype.addPoint",Z.prototype.ea);
r("WebGLEarth.Polygon.prototype.addPoints",Z.prototype.dc);r("WebGLEarth.Polygon.prototype.movePoint",Z.prototype.aa);r("WebGLEarth.Polygon.prototype.removePoint",Z.prototype.ba);r("WebGLEarth.Polygon.prototype.buildRoute",Z.prototype.ub);r("WebGLEarth.Polygon.prototype.getPoints",Z.prototype.dd);r("WebGLEarth.Polygon.prototype.getCentroid",Z.prototype.Zc);
Z.prototype.pd=function(a){R(this.a.canvas,"click",function(b){var c=this.a.camera.camera.pickEllipsoid(new Cesium.Cartesian2(b.offsetX,b.offsetY));null!=c&&(c=Cesium.Ellipsoid.WGS84.cartesianToCartographic(c),(this.Na(I(c.latitude),I(c.longitude))||this.La.Na(b.offsetX,b.offsetY))&&a(this))},!1,this)};r("WebGLEarth.Polygon.prototype.onClick",Z.prototype.pd);r("WebGLEarth.prototype.setCenter",function(a){var b=this.camera;b.fa.cancel();Oc(b,H(a[0]),H(a[1]),U(b)[2],b.Q(),0)});
r("WebGLEarth.prototype.getCenter",function(){var a=U(this.camera);return[I(a[0]),I(a[1])]});/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
function be(a,b){this.lb=[];this.tc=a;this.ic=b||null;this.Ka=this.wa=!1;this.ca=void 0;this.Wb=this.Ic=this.sb=!1;this.qb=0;this.M=null;this.tb=0}be.prototype.cancel=function(a){if(this.wa)this.ca instanceof be&&this.ca.cancel();else{if(this.M){var b=this.M;delete this.M;a?b.cancel(a):(b.tb--,0>=b.tb&&b.cancel())}this.tc?this.tc.call(this.ic,this):this.Wb=!0;this.wa||(a=new ce,de(this),ee(this,!1,a))}};be.prototype.gc=function(a,b){this.sb=!1;ee(this,a,b)};
function ee(a,b,c){a.wa=!0;a.ca=c;a.Ka=!b;fe(a)}function de(a){if(a.wa){if(!a.Wb)throw new ge;a.Wb=!1}}function he(a,b,c,d){a.lb.push([b,c,d]);a.wa&&fe(a)}be.prototype.then=function(a,b,c){var d,e,f=new mc(function(a,b){d=a;e=b});he(this,d,function(a){a instanceof ce?f.cancel():e(a)});return f.then(a,b,c)};ac(be);function ie(a){return wa(a.lb,function(a){return y(a[1])})}
function fe(a){if(a.qb&&a.wa&&ie(a)){var b=a.qb,c=je[b];c&&(m.clearTimeout(c.u),delete je[b]);a.qb=0}a.M&&(a.M.tb--,delete a.M);for(var b=a.ca,d=c=!1;a.lb.length&&!a.sb;){var e=a.lb.shift(),f=e[0],g=e[1],e=e[2];if(f=a.Ka?g:f)try{var h=f.call(e||a.ic,b);p(h)&&(a.Ka=a.Ka&&(h==b||h instanceof Error),a.ca=b=h);bc(b)&&(d=!0,a.sb=!0)}catch(l){b=l,a.Ka=!0,ie(a)||(c=!0)}}a.ca=b;d&&(h=B(a.gc,a,!0),d=B(a.gc,a,!1),b instanceof be?(he(b,h,d),b.Ic=!0):b.then(h,d));c&&(b=new ke(b),je[b.u]=b,a.qb=b.u)}
function ge(){E.call(this)}D(ge,E);ge.prototype.message="Deferred has already fired";ge.prototype.name="AlreadyCalledError";function ce(){E.call(this)}D(ce,E);ce.prototype.message="Deferred was canceled";ce.prototype.name="CanceledError";function ke(a){this.u=m.setTimeout(B(this.Gd,this),0);this.Sc=a}ke.prototype.Gd=function(){delete je[this.u];throw this.Sc;};var je={};function le(a,b){var c=b||{},d=c.document||document,e=document.createElement("SCRIPT"),f={zc:e,pb:void 0},g=new be(me,f),h=null,l=null!=c.timeout?c.timeout:5E3;0<l&&(h=window.setTimeout(function(){ne(e,!0);var b=new oe(pe,"Timeout reached for loading script "+a);de(g);ee(g,!1,b)},l),f.pb=h);e.onload=e.onreadystatechange=function(){e.readyState&&"loaded"!=e.readyState&&"complete"!=e.readyState||(ne(e,c.Lc||!1,h),de(g),ee(g,!0,null))};e.onerror=function(){ne(e,!0,h);var b=new oe(qe,"Error while loading script "+
a);de(g);ee(g,!1,b)};jb(e,{type:"text/javascript",charset:"UTF-8",src:a});re(d).appendChild(e);return g}function re(a){var b=a.getElementsByTagName("HEAD");return b&&0!=b.length?b[0]:a.documentElement}function me(){if(this&&this.zc){var a=this.zc;a&&"SCRIPT"==a.tagName&&ne(a,!0,this.pb)}}function ne(a,b,c){null!=c&&m.clearTimeout(c);a.onload=aa;a.onerror=aa;a.onreadystatechange=aa;b&&window.setTimeout(function(){pb(a)},0)}var qe=0,pe=1;
function oe(a,b){var c="Jsloader error (code #"+a+")";b&&(c+=": "+b);E.call(this,c);this.code=a}D(oe,E);function se(a,b){this.Id=new bd(a);this.Jc=b?b:"callback";this.pb=5E3}var te=0;se.prototype.send=function(a,b,c,d){a=a||null;d=d||"_"+(te++).toString(36)+C().toString(36);m._callbacks_||(m._callbacks_={});var e=this.Id.clone();if(a)for(var f in a)a.hasOwnProperty&&!a.hasOwnProperty(f)||nd(e,f,a[f]);b&&(m._callbacks_[d]=ue(d,b),nd(e,this.Jc,"_callbacks_."+d));b=le(e.toString(),{timeout:this.pb,Lc:!0});he(b,null,ve(d,a,c),void 0);return{u:d,jc:b}};
se.prototype.cancel=function(a){a&&(a.jc&&a.jc.cancel(),a.u&&we(a.u,!1))};function ve(a,b,c){return function(){we(a,!1);c&&c(b)}}function ue(a,b){return function(c){we(a,!0);b.apply(void 0,arguments)}}function we(a,b){m._callbacks_[a]&&(b?delete m._callbacks_[a]:m._callbacks_[a]=aa)};r("WE.map",function(a,b){var c=b||{},d=c.zoom;c.zoom=void 0;c.empty=!0;c=new X(a,c);d&&c.Ra(d);return c});r("WebGLEarth.prototype.setView",function(a,b){u(a)||(a=[a.lat,a.lng]);this.la(a[0],a[1],b,void 0,0,0)});r("WebGLEarth.prototype.zoomIn",function(a){this.Ra(this.Cb()+(da(a)?a:1))});r("WebGLEarth.prototype.zoomOut",function(a){this.Ra(this.Cb()-(da(a)?a:1))});
r("WebGLEarth.prototype.panInsideBounds",function(a,b){u(a)||(a=[a.gd(),a.bd(),a.jd(),a.ad()]);u(a[0])&&(a=[a[0][0],a[1][0],a[0][1],a[1][1]]);b=b||{};this.lc(a[0],a[1],a[2],a[3],b.heading,b.tilt,b.duration)});
r("WebGLEarth.prototype.fitBounds",function(a,b){u(a)||(a=[a.gd(),a.bd(),a.jd(),a.ad()]);u(a[0])&&(a=[a[0][0],a[1][0],a[0][1],a[1][1]]);b=b||{};var c=H(a[0]),d=H(a[1]),e=H(a[2]),f=H(a[3]),g=b.heading,h=b.tilt,l=Rc(this.camera,c,d,e,f),e=Fa(e,2*Math.PI),f=Fa(f,2*Math.PI),q=e-f;q<-Math.PI?e+=2*Math.PI:q>Math.PI&&(f+=2*Math.PI);c=[(c+d)/2,(e+f)/2];this.la(I(c[0]),I(c[1]),void 0,l,g,h,p(g)||p(h))});
r("WebGLEarth.prototype.panTo",function(a,b){u(a)||(a=[a.lat,a.lng]);b=b||{};this.Ja(a[0],a[1],void 0,void 0,0,0,void 0,b.duration)});
r("WE.tileLayer",function(a,b){var c=b||{};Qa(c,function(b,c){a=a.replace("{"+c+"}",b)});a=a.replace("{s}","{sub}");var d=c.subdomains||"abc";v(d)&&(d=d.split(""));var e=c.bounds;e&&u(e[0])&&(e=[e[0][0],e[1][0],e[0][1],e[1][1]]);return wd(null,"custom",{url:a,minimumLevel:c.minZoom||0,maximumLevel:c.maxZoom||18,tileSize:c.tileSize||256,flipY:c.tms||!1,subdomains:d,copyright:(c.attribution||"").replace(/<(?:.|\n)*?>/gm,""),opacity:c.opacity,bounds:e})});
r("WE.tileLayerJSON",function(a,b){function c(a,b,c){var d=a.bounds,l=a.center,q={url:a.tiles[0],minimumLevel:a.minzoom||0,maximumLevel:a.maxzoom||18,copyright:(a.attribution||"").replace(/<(?:.|\n)*?>/gm,""),bounds:d?[d[1],d[3],d[0],d[2]]:void 0};c?(td(c.D.imageryProvider,q),a.opacity&&1==c.D.alpha&&c.Ub(parseFloat(a.opacity)),d&&c.Sb(d[1],d[3],d[0],d[2])):c=wd(null,"custom",q);b&&(c.addTo(b),l&&l.length&&1<l.length&&(b.la(l[1],l[0]),2<l.length&&b.Ra(l[2])));return c}var d;v(a)?(d=wd(null,"custom",
{}),(new se(a)).send(void 0,function(a){c(a,b,d)})):d=c(a,b,void 0);return d});r("WebGLEarth.Map.prototype.addTo",function(a){this.D.imageryProvider.sa=a.Jb;a.f.imageryLayers.add(this.D);xd(a,this.D.imageryProvider.errorEvent);this.a=a;a.e=!0;return this});r("WebGLEarth.Map.prototype.removeFrom",function(a){a=this.a;a.f.imageryLayers.remove(this.D);a.e=!0;this.a=null;return this});r("WE.marker",function(a,b,c,d){u(a)||(a=[a.lat,a.lng]);return new W(H(a[0]),H(a[1]),b,c,d)});
r("WebGLEarth.Marker.prototype.addTo",function(a){Bd(a.ha,z(this).toString(),this);a.e=!0;return this});r("WebGLEarth.Marker.prototype.removeFrom",function(a){a.ha.ja(z(this).toString());a.e=!0;return this});r("WebGLEarth.Marker.prototype.bindPopup",function(a,b,c){if(null==b||da(b))Gd(this,new Fd(a,b,c));else{var d=b.maxWidth;c=b.closeButton;Gd(this,new Fd(a,d,c))}return this});r("WebGLEarth.Marker.prototype.setLatLng",function(a){u(a)||(a=[a.lat,a.lng]);this.la(a[0],a[1])});
r("WE.polygon",function(a,b){return{addTo:function(c){c=new Z(c);var d=[];va(a,function(a){u(a)||(a=[a.lat,a.lng]);d.push([a[0],a[1]])});c.dc(d);b=b||{};c.Ac(1==b.editable);c.setStrokeColor(b.color||"#03f",b.opacity||.5);c.setFillColor(b.fillColor||"#03f",b.fillOpacity||.2);c.d.Aa.width=b.weight||5;return c}}});})();
