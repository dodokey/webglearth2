(function() {var k,m=this;function q(a){return void 0!==a}function r(a,b){var c=a.split("."),d=m;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&q(b)?d[e]=b:d=d[e]?d[e]:d[e]={}}function u(){}
function aa(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function x(a){return"array"==aa(a)}function ba(a){var b=aa(a);return"array"==b||"object"==b&&"number"==typeof a.length}function y(a){return"string"==typeof a}function ca(a){return"number"==typeof a}function A(a){return"function"==aa(a)}function da(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function B(a){return a[ea]||(a[ea]=++fa)}var ea="closure_uid_"+(1E9*Math.random()>>>0),fa=0;
function ga(a,b,c){return a.call.apply(a.bind,arguments)}function ha(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function C(a,b,c){C=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ga:ha;return C.apply(null,arguments)}var D=Date.now||function(){return+new Date};
function E(a,b){function c(){}c.prototype=b.prototype;a.za=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Id=function(a,c,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[c].apply(a,g)}};function F(a){if(Error.captureStackTrace)Error.captureStackTrace(this,F);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}E(F,Error);F.prototype.name="CustomError";var ia;var ja=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function ka(a){if(!la.test(a))return a;-1!=a.indexOf("\x26")&&(a=a.replace(ma,"\x26amp;"));-1!=a.indexOf("\x3c")&&(a=a.replace(na,"\x26lt;"));-1!=a.indexOf("\x3e")&&(a=a.replace(oa,"\x26gt;"));-1!=a.indexOf('"')&&(a=a.replace(pa,"\x26quot;"));-1!=a.indexOf("'")&&(a=a.replace(qa,"\x26#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(ra,"\x26#0;"));return a}
var ma=/&/g,na=/</g,oa=/>/g,pa=/"/g,qa=/'/g,ra=/\x00/g,la=/[\x00&<>"']/;function sa(a,b){return a<b?-1:a>b?1:0};var G=Array.prototype,ta=G.indexOf?function(a,b,c){return G.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(y(a))return y(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},H=G.forEach?function(a,b,c){G.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=y(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)};function ua(a,b){for(var c=y(a)?a.split(""):a,d=a.length-1;0<=d;--d)d in c&&b.call(void 0,c[d],d,a)}
var va=G.some?function(a,b,c){return G.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=y(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1};function wa(a,b){var c;a:{c=a.length;for(var d=y(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){c=e;break a}c=-1}return 0>c?null:y(a)?a.charAt(c):a[c]}
function xa(a,b){var c;a:{c=y(a)?a.split(""):a;for(var d=a.length-1;0<=d;d--)if(d in c&&b.call(void 0,c[d],d,a)){c=d;break a}c=-1}return 0>c?null:y(a)?a.charAt(c):a[c]}function ya(a,b){var c=ta(a,b),d;(d=0<=c)&&G.splice.call(a,c,1);return d}function za(a){return G.concat.apply(G,arguments)}function Aa(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function Ba(a,b,c){return 2>=arguments.length?G.slice.call(a,b):G.slice.call(a,b,c)}
function Ca(a){for(var b=[],c=0;c<arguments.length;c++){var d=arguments[c];if(x(d))for(var e=0;e<d.length;e+=8192)for(var f=Ca.apply(null,Ba(d,e,e+8192)),g=0;g<f.length;g++)b.push(f[g]);else b.push(d)}return b};function Da(a,b){var c=a%b;return 0>c*b?c+b:c}function I(a){return a*Math.PI/180}function K(a){return 180*a/Math.PI};(function(a){function b(a){for(var b=a.length,c=new Uint8Array(b/4*3|0),h=0,l=0,p=[0,0],n=0,t=0;b--;){var w=a.charCodeAt(h++),J=d[w-43];255!==J&&void 0!==J&&(p[1]=p[0],p[0]=w,t=t<<6|J,n++,4===n&&(c[l++]=t>>>16,61!==p[1]&&(c[l++]=t>>>8),61!==p[0]&&(c[l++]=t),n=0))}return c.buffer}var c=/\s*;\s*base64\s*(?:;|$)/i,d=new Uint8Array([62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,0,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,
33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51]);HTMLCanvasElement&&!HTMLCanvasElement.prototype.$b&&(HTMLCanvasElement.prototype.$b=function(d,f){f||(f="image/png");if(this.mozGetAsFile)d(this.mozGetAsFile("canvas",f));else{var g=this.toDataURL.apply(this,Array.prototype.slice.call(arguments,1)),h=g.indexOf(","),l=g.substring(h+1),g=c.test(g.substring(0,h)),h=new (a.BlobBuilder||a.WebKitBlobBuilder||a.MozBlobBuilder);g?h.append(b(l)):h.append(decodeURIComponent(l));d(h.getBlob(f))}})})(self);
var Ea,Fa=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,Ga=window.URL||window.webkitURL||window.mozURL,Ha=navigator.saveBlob||navigator.mozSaveBlob||navigator.webkitSaveBlob,Ia=window.saveAs||window.webkitSaveAs||window.mozSaveAs;
Fa&&(Ia||Ha)?Ea=function(a,b,c){var d=new Fa;d.append(a);a=d.getBlob(c||"application/octet-stream");b||(b="Download.bin");Ia?Ia(a,b):Ha(a,b)}:Fa&&Ga&&(Ea=function(a,b,c){var d,e=new Fa;e.append(a);c||(c="application/octet-stream");"download"in document.createElement("a")?(a=e.getBlob(c),d=Ga.createObjectURL(a),a=document.createElement("a"),a.setAttribute("href",d),a.setAttribute("download",b||"Download.bin"),b=document.createEvent("MouseEvents"),b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,
!1,!1,!1,0,null),a.dispatchEvent(b)):(!0==={"image/jpeg":!0,"image/png":!0,"image/gif":!0,"image/svg+xml":!0,"image/bmp":!0,"image/x-windows-bmp":!0,"image/webp":!0,"audio/wav":!0,"audio/mpeg":!0,"audio/webm":!0,"audio/ogg":!0,"video/mpeg":!0,"video/webm":!0,"video/ogg":!0,"text/plain":!0,"text/html":!0,"text/xml":!0,"application/xhtml+xml":!0,"application/json":!0}[c.split(";")[0]]&&(c="application/octet-stream"),a=e.getBlob(c),d=Ga.createObjectURL(a),window.open(d,"_blank",""));setTimeout(function(){Ga.revokeObjectURL(d)},
250)});function Ja(a,b,c){var d=a;if(b||c){d=document.createElement("canvas");d.width=a.width;d.height=a.height;var e=d.getContext("2d");e.drawImage(a,0,0);b&&b.forEach(function(a){a.Nc(e)});c&&Ka(c,e)}return d}function La(a,b){if(Ea&&a.$b)a.$b(function(a){Ea(a,b,"image/png")},"image/png");else if(a.toDataURL){var c=a.toDataURL();document.location.href=c.replace("image/png","image/octet-stream")}};var M;a:{var Ma=m.navigator;if(Ma){var Na=Ma.userAgent;if(Na){M=Na;break a}}M=""};function Oa(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function Pa(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Qa(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function Ra(){var a=Sa,b;for(b in a)return!1;return!0}var Ta="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function Ua(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Ta.length;f++)c=Ta[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}function Va(a){var b=arguments.length;if(1==b&&x(arguments[0]))return Va.apply(null,arguments[0]);for(var c={},d=0;d<b;d++)c[arguments[d]]=!0;return c};var Wa=-1!=M.indexOf("Opera")||-1!=M.indexOf("OPR"),N=-1!=M.indexOf("Trident")||-1!=M.indexOf("MSIE"),Xa=-1!=M.indexOf("Gecko")&&-1==M.toLowerCase().indexOf("webkit")&&!(-1!=M.indexOf("Trident")||-1!=M.indexOf("MSIE")),O=-1!=M.toLowerCase().indexOf("webkit");function Ya(){var a=m.document;return a?a.documentMode:void 0}
var Za=function(){var a="",b;if(Wa&&m.opera)return a=m.opera.version,A(a)?a():a;Xa?b=/rv\:([^\);]+)(\)|;)/:N?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:O&&(b=/WebKit\/(\S+)/);b&&(a=(a=b.exec(M))?a[1]:"");return N&&(b=Ya(),b>parseFloat(a))?String(b):a}(),$a={};
function P(a){var b;if(!(b=$a[a])){b=0;for(var c=ja(String(Za)).split("."),d=ja(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",h=d[f]||"",l=RegExp("(\\d*)(\\D*)","g"),p=RegExp("(\\d*)(\\D*)","g");do{var n=l.exec(g)||["","",""],t=p.exec(h)||["","",""];if(0==n[0].length&&0==t[0].length)break;b=sa(0==n[1].length?0:parseInt(n[1],10),0==t[1].length?0:parseInt(t[1],10))||sa(0==n[2].length,0==t[2].length)||sa(n[2],t[2])}while(0==b)}b=$a[a]=0<=b}return b}
var ab=m.document,bb=ab&&N?Ya()||("CSS1Compat"==ab.compatMode?parseInt(Za,10):5):void 0;var cb=!N||N&&9<=bb;!Xa&&!N||N&&N&&9<=bb||Xa&&P("1.9.1");N&&P("9");Va("area base br col command embed hr img input keygen link meta param source track wbr".split(" "));Va("action","cite","data","formaction","href","manifest","poster","src");Va("embed","iframe","link","object","script","style","template");function db(a,b){this.x=q(a)?a:0;this.y=q(b)?b:0}k=db.prototype;k.clone=function(){return new db(this.x,this.y)};k.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};k.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};k.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};k.translate=function(a,b){a instanceof db?(this.x+=a.x,this.y+=a.y):(this.x+=a,ca(b)&&(this.y+=b));return this};
k.scale=function(a,b){var c=ca(b)?b:a;this.x*=a;this.y*=c;return this};function eb(a){return a?new fb(gb(a)):ia||(ia=new fb)}function hb(a,b){Oa(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in ib?a.setAttribute(ib[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}var ib={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function Q(a,b,c){return jb(document,arguments)}function jb(a,b){var c=b[0],d=b[1];if(!cb&&d&&(d.name||d.type)){c=["\x3c",c];d.name&&c.push(' name\x3d"',ka(d.name),'"');if(d.type){c.push(' type\x3d"',ka(d.type),'"');var e={};Ua(e,d);delete e.type;d=e}c.push("\x3e");c=c.join("")}c=a.createElement(c);d&&(y(d)?c.className=d:x(d)?c.className=d.join(" "):hb(c,d));2<b.length&&kb(a,c,b,2);return c}
function kb(a,b,c,d){function e(c){c&&b.appendChild(y(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var f=c[d];!ba(f)||da(f)&&0<f.nodeType?e(f):H(lb(f)?Aa(f):f,e)}}function mb(a,b){kb(gb(a),a,arguments,1)}function nb(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}function gb(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function lb(a){if(a&&"number"==typeof a.length){if(da(a))return"function"==typeof a.item||"string"==typeof a.item;if(A(a))return"function"==typeof a.item}return!1}function fb(a){this.ba=a||m.document||document}k=fb.prototype;k.yb=function(a){return y(a)?this.ba.getElementById(a):a};function ob(a,b){var c;c=a.ba;var d=b&&"*"!=b?b.toUpperCase():"";c=c.querySelectorAll&&c.querySelector&&d?c.querySelectorAll(d+""):c.getElementsByTagName(d||"*");return c}k.gc=function(a,b,c){return jb(this.ba,arguments)};
k.createElement=function(a){return this.ba.createElement(a)};k.createTextNode=function(a){return this.ba.createTextNode(String(a))};k.appendChild=function(a,b){a.appendChild(b)};k.append=mb;k.canHaveChildren=function(a){if(1!=a.nodeType)return!1;switch(a.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return!1}return!0};
k.removeNode=nb;k.contains=function(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a};var pb=!N||N&&9<=bb,qb=N&&!P("9");!O||P("528");Xa&&P("1.9b")||N&&P("8")||Wa&&P("9.5")||O&&P("528");Xa&&!P("8")||N&&P("9");function rb(){0!=sb&&(tb[B(this)]=this);this.$a=this.$a;this.jb=this.jb}var sb=0,tb={};rb.prototype.$a=!1;rb.prototype.Za=function(){if(!this.$a&&(this.$a=!0,this.G(),0!=sb)){var a=B(this);delete tb[a]}};rb.prototype.G=function(){if(this.jb)for(;this.jb.length;)this.jb.shift()()};function R(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.na=!1;this.xc=!0}R.prototype.G=function(){};R.prototype.Za=function(){};R.prototype.stopPropagation=function(){this.na=!0};R.prototype.preventDefault=function(){this.defaultPrevented=!0;this.xc=!1};function ub(a){ub[" "](a);return a}ub[" "]=u;function vb(a,b){R.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.s=this.state=null;if(a){this.s=a;var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(Xa){var e;a:{try{ub(d.nodeName);e=!0;break a}catch(f){}e=!1}e||(d=null)}}else"mouseover"==
c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;Object.defineProperties?Object.defineProperties(this,{offsetX:{configurable:!0,enumerable:!0,get:this.mc,set:this.Ad},offsetY:{configurable:!0,enumerable:!0,get:this.nc,set:this.Bd}}):(this.offsetX=this.mc(),this.offsetY=this.nc());this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;
this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;a.defaultPrevented&&this.preventDefault()}}E(vb,R);k=vb.prototype;k.stopPropagation=function(){vb.za.stopPropagation.call(this);this.s.stopPropagation?this.s.stopPropagation():this.s.cancelBubble=!0};
k.preventDefault=function(){vb.za.preventDefault.call(this);var a=this.s;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,qb)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};k.G=function(){};k.mc=function(){return O||void 0!==this.s.offsetX?this.s.offsetX:this.s.layerX};k.Ad=function(a){Object.defineProperties(this,{offsetX:{writable:!0,enumerable:!0,configurable:!0,value:a}})};k.nc=function(){return O||void 0!==this.s.offsetY?this.s.offsetY:this.s.layerY};
k.Bd=function(a){Object.defineProperties(this,{offsetY:{writable:!0,enumerable:!0,configurable:!0,value:a}})};var wb="closure_listenable_"+(1E6*Math.random()|0);function xb(a){return!(!a||!a[wb])}var yb=0;function zb(a,b,c,d,e){this.la=a;this.oa=null;this.src=b;this.type=c;this.Ya=!!d;this.cb=e;this.key=++yb;this.xa=this.Xa=!1}function Ab(a){a.xa=!0;a.la=null;a.oa=null;a.src=null;a.cb=null};function Bb(a){this.src=a;this.n={};this.Va=0}Bb.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.n[f];a||(a=this.n[f]=[],this.Va++);var g=Cb(a,b,d,e);-1<g?(b=a[g],c||(b.Xa=!1)):(b=new zb(b,this.src,f,!!d,e),b.Xa=c,a.push(b));return b};Bb.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.n))return!1;var e=this.n[a];b=Cb(e,b,c,d);return-1<b?(Ab(e[b]),G.splice.call(e,b,1),0==e.length&&(delete this.n[a],this.Va--),!0):!1};
function Db(a,b){var c=b.type;if(!(c in a.n))return!1;var d=ya(a.n[c],b);d&&(Ab(b),0==a.n[c].length&&(delete a.n[c],a.Va--));return d}function Eb(a,b){var c=b&&b.toString(),d=0,e;for(e in a.n)if(!c||e==c){for(var f=a.n[e],g=0;g<f.length;g++)++d,Ab(f[g]);delete a.n[e];a.Va--}}Bb.prototype.zb=function(a,b,c,d){a=this.n[a.toString()];var e=-1;a&&(e=Cb(a,b,c,d));return-1<e?a[e]:null};function Cb(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.xa&&f.la==b&&f.Ya==!!c&&f.cb==d)return e}return-1};var Fb="closure_lm_"+(1E6*Math.random()|0),Gb={},Hb=0;function S(a,b,c,d,e){if(x(b)){for(var f=0;f<b.length;f++)S(a,b[f],c,d,e);return null}c=Ib(c);return xb(a)?a.H.add(String(b),c,!1,d,e):Jb(a,b,c,!1,d,e)}function Jb(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=!!e,h=Kb(a);h||(a[Fb]=h=new Bb(a));c=h.add(b,c,d,e,f);if(c.oa)return c;d=Mb();c.oa=d;d.src=a;d.la=c;a.addEventListener?a.addEventListener(b.toString(),d,g):a.attachEvent(Nb(b.toString()),d);Hb++;return c}
function Mb(){var a=Ob,b=pb?function(c){return a.call(b.src,b.la,c)}:function(c){c=a.call(b.src,b.la,c);if(!c)return c};return b}function Pb(a,b,c,d,e){if(x(b))for(var f=0;f<b.length;f++)Pb(a,b[f],c,d,e);else c=Ib(c),xb(a)?a.H.add(String(b),c,!0,d,e):Jb(a,b,c,!0,d,e)}function Qb(a,b,c,d,e){if(x(b))for(var f=0;f<b.length;f++)Qb(a,b[f],c,d,e);else c=Ib(c),xb(a)?a.H.remove(String(b),c,d,e):a&&(a=Kb(a))&&(b=a.zb(b,c,!!d,e))&&Rb(b)}
function Rb(a){if(ca(a)||!a||a.xa)return!1;var b=a.src;if(xb(b))return Db(b.H,a);var c=a.type,d=a.oa;b.removeEventListener?b.removeEventListener(c,d,a.Ya):b.detachEvent&&b.detachEvent(Nb(c),d);Hb--;(c=Kb(b))?(Db(c,a),0==c.Va&&(c.src=null,b[Fb]=null)):Ab(a);return!0}function Sb(a,b){if(a)if(xb(a))a.H&&Eb(a.H,b);else{var c=Kb(a);if(c){var d=0,e=b&&b.toString(),f;for(f in c.n)if(!e||f==e)for(var g=c.n[f].concat(),h=0;h<g.length;++h)Rb(g[h])&&++d}}}function Nb(a){return a in Gb?Gb[a]:Gb[a]="on"+a}
function Tb(a,b,c,d){var e=!0;if(a=Kb(a))if(b=a.n[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.Ya==c&&!f.xa&&(f=Ub(f,d),e=e&&!1!==f)}return e}function Ub(a,b){var c=a.la,d=a.cb||a.src;a.Xa&&Rb(a);return c.call(d,b)}
function Ob(a,b){if(a.xa)return!0;if(!pb){var c;if(!(c=b))a:{c=["window","event"];for(var d=m,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break a}c=d}e=c;c=new vb(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(g){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=c.currentTarget;f;f=f.parentNode)e.push(f);for(var f=a.type,h=e.length-1;!c.na&&0<=h;h--){c.currentTarget=e[h];var l=Tb(e[h],f,!0,c),d=d&&l}for(h=0;!c.na&&h<
e.length;h++)c.currentTarget=e[h],l=Tb(e[h],f,!1,c),d=d&&l}return d}return Ub(a,new vb(b,this))}function Kb(a){a=a[Fb];return a instanceof Bb?a:null}var Vb="__closure_events_fn_"+(1E9*Math.random()>>>0);function Ib(a){if(A(a))return a;a[Vb]||(a[Vb]=function(b){return a.handleEvent(b)});return a[Vb]};function Wb(){rb.call(this);this.H=new Bb(this);this.Ec=this;this.Mb=null}E(Wb,rb);Wb.prototype[wb]=!0;k=Wb.prototype;k.addEventListener=function(a,b,c,d){S(this,a,b,c,d)};k.removeEventListener=function(a,b,c,d){Qb(this,a,b,c,d)};
k.dispatchEvent=function(a){var b,c=this.Mb;if(c)for(b=[];c;c=c.Mb)b.push(c);var c=this.Ec,d=a.type||a;if(y(a))a=new R(a,c);else if(a instanceof R)a.target=a.target||c;else{var e=a;a=new R(d,c);Ua(a,e)}var e=!0,f;if(b)for(var g=b.length-1;!a.na&&0<=g;g--)f=a.currentTarget=b[g],e=Xb(f,d,!0,a)&&e;a.na||(f=a.currentTarget=c,e=Xb(f,d,!0,a)&&e,a.na||(e=Xb(f,d,!1,a)&&e));if(b)for(g=0;!a.na&&g<b.length;g++)f=a.currentTarget=b[g],e=Xb(f,d,!1,a)&&e;return e};
k.G=function(){Wb.za.G.call(this);this.H&&Eb(this.H,void 0);this.Mb=null};function Xb(a,b,c,d){b=a.H.n[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.xa&&g.Ya==c){var h=g.la,l=g.cb||g.src;g.Xa&&Db(a.H,g);e=!1!==h.call(l,d)&&e}}return e&&0!=d.xc}k.zb=function(a,b,c,d){return this.H.zb(String(a),b,c,d)};function Yb(){Wb.call(this);this.b=T;this.endTime=this.startTime=null}E(Yb,Wb);var T=0;Yb.prototype.i=function(a){this.dispatchEvent(a)};function Zb(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0}function $b(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};function ac(a){m.setTimeout(function(){throw a;},0)}var bc;
function cc(){var a=m.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&(a=function(){var a=document.createElement("iframe");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=C(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},
this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&-1==M.indexOf("Trident")&&-1==M.indexOf("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(q(c.next)){c=c.next;var a=c.ec;c.ec=null;a()}};return function(a){d.next={ec:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("script")?function(a){var b=document.createElement("script");b.onreadystatechange=
function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){m.setTimeout(a,0)}};function dc(a,b){ec||fc();gc||(ec(),gc=!0);hc.push(new ic(a,b))}var ec;function fc(){if(m.Promise&&m.Promise.resolve){var a=m.Promise.resolve();ec=function(){a.then(jc)}}else ec=function(){var a=jc;!A(m.setImmediate)||m.Window&&m.Window.prototype.setImmediate==m.setImmediate?(bc||(bc=cc()),bc(a)):m.setImmediate(a)}}var gc=!1,hc=[];function jc(){for(;hc.length;){var a=hc;hc=[];for(var b=0;b<a.length;b++){var c=a[b];try{c.Uc.call(c.scope)}catch(d){ac(d)}}}gc=!1}
function ic(a,b){this.Uc=a;this.scope=b};function kc(a,b){this.b=lc;this.Z=void 0;this.v=this.I=null;this.bb=this.wb=!1;try{var c=this;a.call(b,function(a){mc(c,nc,a)},function(a){mc(c,U,a)})}catch(d){mc(this,U,d)}}var lc=0,nc=2,U=3;kc.prototype.then=function(a,b,c){return oc(this,A(a)?a:null,A(b)?b:null,c)};Zb(kc);kc.prototype.cancel=function(a){this.b==lc&&dc(function(){var b=new pc(a);qc(this,b)},this)};
function qc(a,b){if(a.b==lc)if(a.I){var c=a.I;if(c.v){for(var d=0,e=-1,f=0,g;g=c.v[f];f++)if(g=g.Ca)if(d++,g==a&&(e=f),0<=e&&1<d)break;0<=e&&(c.b==lc&&1==d?qc(c,b):(d=c.v.splice(e,1)[0],rc(c,d,U,b)))}}else mc(a,U,b)}function sc(a,b){a.v&&a.v.length||a.b!=nc&&a.b!=U||tc(a);a.v||(a.v=[]);a.v.push(b)}
function oc(a,b,c,d){var e={Ca:null,tc:null,uc:null};e.Ca=new kc(function(a,g){e.tc=b?function(c){try{var e=b.call(d,c);a(e)}catch(p){g(p)}}:a;e.uc=c?function(b){try{var e=c.call(d,b);!q(e)&&b instanceof pc?g(b):a(e)}catch(p){g(p)}}:g});e.Ca.I=a;sc(a,e);return e.Ca}kc.prototype.Ac=function(a){this.b=lc;mc(this,nc,a)};kc.prototype.Bc=function(a){this.b=lc;mc(this,U,a)};
function mc(a,b,c){if(a.b==lc){if(a==c)b=U,c=new TypeError("Promise cannot resolve to itself");else{if($b(c)){a.b=1;c.then(a.Ac,a.Bc,a);return}if(da(c))try{var d=c.then;if(A(d)){uc(a,c,d);return}}catch(e){b=U,c=e}}a.Z=c;a.b=b;tc(a);b!=U||c instanceof pc||vc(a,c)}}function uc(a,b,c){function d(b){f||(f=!0,a.Bc(b))}function e(b){f||(f=!0,a.Ac(b))}a.b=1;var f=!1;try{c.call(b,e,d)}catch(g){d(g)}}function tc(a){a.wb||(a.wb=!0,dc(a.Sc,a))}
kc.prototype.Sc=function(){for(;this.v&&this.v.length;){var a=this.v;this.v=[];for(var b=0;b<a.length;b++)rc(this,a[b],this.b,this.Z)}this.wb=!1};function rc(a,b,c,d){if(c==nc)b.tc(d);else{if(b.Ca)for(;a&&a.bb;a=a.I)a.bb=!1;b.uc(d)}}function vc(a,b){a.bb=!0;dc(function(){a.bb&&wc.call(null,b)})}var wc=ac;function pc(a){F.call(this,a)}E(pc,F);pc.prototype.name="cancel";function xc(a,b,c){rb.call(this);this.Hb=a;this.ld=b||0;this.oc=c;this.Jc=C(this.Mc,this)}E(xc,rb);k=xc.prototype;k.t=0;k.G=function(){xc.za.G.call(this);this.stop();delete this.Hb;delete this.oc};k.start=function(a){this.stop();var b=this.Jc;a=q(a)?a:this.ld;if(!A(b))if(b&&"function"==typeof b.handleEvent)b=C(b.handleEvent,b);else throw Error("Invalid listener argument");this.t=2147483647<a?-1:m.setTimeout(b,a||0)};k.stop=function(){0!=this.t&&m.clearTimeout(this.t);this.t=0};
k.Mc=function(){this.t=0;this.Hb&&this.Hb.call(this.oc)};var Sa={},yc=null;function zc(a){a=B(a);delete Sa[a];Ra()&&yc&&yc.stop()}function Ac(){yc||(yc=new xc(function(){Bc()},20));var a=yc;0!=a.t||a.start()}function Bc(){var a=D();Oa(Sa,function(b){Cc(b,a)});Ra()||Ac()};function Dc(a,b,c,d){Yb.call(this);if(!x(a)||!x(b))throw Error("Start and end parameters must be arrays");if(a.length!=b.length)throw Error("Start and end points must be the same length");this.Sa=a;this.Qc=b;this.duration=c;this.bc=d;this.coords=[];this.D=0}E(Dc,Yb);k=Dc.prototype;
k.play=function(a){if(a||this.b==T)this.D=0,this.coords=this.Sa;else if(1==this.b)return!1;zc(this);this.startTime=a=D();-1==this.b&&(this.startTime-=this.duration*this.D);this.endTime=this.startTime+this.duration;this.D||this.i("begin");this.i("play");-1==this.b&&this.i("resume");this.b=1;var b=B(this);b in Sa||(Sa[b]=this);Ac();Cc(this,a);return!0};k.stop=function(a){zc(this);this.b=T;a&&(this.D=1);Ec(this,this.D);this.i("stop");this.i("end")};k.pause=function(){1==this.b&&(zc(this),this.b=-1,this.i("pause"))};
k.G=function(){this.b==T||this.stop(!1);this.i("destroy");Dc.za.G.call(this)};k.destroy=function(){this.Za()};function Cc(a,b){a.D=(b-a.startTime)/(a.endTime-a.startTime);1<=a.D&&(a.D=1);Ec(a,a.D);1==a.D?(a.b=T,zc(a),a.i("finish"),a.i("end")):1==a.b&&a.i("animate")}function Ec(a,b){A(a.bc)&&(b=a.bc(b));a.coords=Array(a.Sa.length);for(var c=0;c<a.Sa.length;c++)a.coords[c]=(a.Qc[c]-a.Sa[c])*b+a.Sa[c]}k.i=function(a){this.dispatchEvent(new Fc(a,this))};
function Fc(a,b){R.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.z=b.coords[2];this.duration=b.duration;this.D=b.D;this.state=b.b}E(Fc,R);function Gc(){Yb.call(this);this.p=[]}E(Gc,Yb);Gc.prototype.add=function(a){0<=ta(this.p,a)||(this.p.push(a),S(a,"finish",this.rc,!1,this))};Gc.prototype.remove=function(a){ya(this.p,a)&&Qb(a,"finish",this.rc,!1,this)};Gc.prototype.G=function(){H(this.p,function(a){a.Za()});this.p.length=0;Gc.za.G.call(this)};function Hc(){Gc.call(this);this.A=0}E(Hc,Gc);
Hc.prototype.play=function(a){if(0==this.p.length)return!1;if(a||this.b==T)this.A<this.p.length&&this.p[this.A].b!=T&&this.p[this.A].stop(!1),this.A=0,this.i("begin");else if(1==this.b)return!1;this.i("play");-1==this.b&&this.i("resume");this.startTime=D();this.endTime=null;this.b=1;this.p[this.A].play(a);return!0};Hc.prototype.pause=function(){1==this.b&&(this.p[this.A].pause(),this.b=-1,this.i("pause"))};
Hc.prototype.stop=function(a){this.b=T;this.endTime=D();if(a)for(a=this.A;a<this.p.length;++a){var b=this.p[a];b.b==T&&b.play();b.b==T||b.stop(!0)}else this.A<this.p.length&&this.p[this.A].stop(!1);this.i("stop");this.i("end")};Hc.prototype.rc=function(){1==this.b&&(this.A++,this.A<this.p.length?this.p[this.A].play():(this.endTime=D(),this.b=T,this.i("finish"),this.i("end")))};function Ic(a,b,c,d){var e=Math.sin((c-a)/2);b=Math.sin((d-b)/2);return 12756274*Math.asin(Math.sqrt(e*e+Math.cos(a)*Math.cos(c)*b*b))}function Jc(a){var b=eb(void 0),c=null,d=b.ba;if(N&&d.createStyleSheet)b=c=d.createStyleSheet(),N&&q(b.cssText)?b.cssText=a:b.innerHTML=a;else{d=ob(b,"head")[0];d||(c=ob(b,"body")[0],d=b.gc("head"),c.parentNode.insertBefore(d,c));var e=c=b.gc("style");N&&q(e.cssText)?e.cssText=a:e.innerHTML=a;b.appendChild(d,c)}};function Kc(a){this.dc=a;this.K=null}
Kc.prototype.Fa=function(a,b,c,d,e,f,g){function h(a){return(p(.5+a/2)-Lb)/(1-Lb)}function l(a){return 2*p(a/2)}function p(a){var b=a*a;a*=a*a;return 6*a*b+-15*b*b+10*a}var n=this.dc;f&&(f=Lc(a,b,c||V(n)[2],d,e),a=f[0],b=f[1]);null!=this.K&&this.Kb();var t=V(n);f=t[2];var w=c||f,J=Da(t[1],2*Math.PI),z=Da(b,2*Math.PI),v=J-z;v<-Math.PI?J+=2*Math.PI:v>Math.PI&&(z+=2*Math.PI);n=[t[0],J,f,n.M(),n.U()];e=[a,z,w,d||0,e||0];var Lb=p(.5);d=["begin","animate","end","finish"];this.K=new Hc;g=1E3*(g||3);c?(a=
Ic(t[0],t[1],a,b),a=Math.min(f,w)+.2*a,a<Math.max(f,w)&&(a=(f+w)/2),c=[],c[0]=(n[0]+e[0])/2,c[1]=(n[1]+e[1])/2,c[2]=a,c[3]=(n[3]+e[3])/2,c[4]=(n[4]+e[4])/2,a=new Dc(n,c,g/2,l),c=new Dc(c,e,g/2,h),S(a,d,this.Lb,!1,this),S(c,d,this.Lb,!1,this),this.K.add(a),this.K.add(c)):(a=new Dc(n,e,g,p),S(a,d,this.Lb,!1,this),this.K.add(a));S(this.K,"end",this.Kb,!1,this);this.K.play()};Kc.prototype.Lb=function(a){Mc(this.dc,a.coords[0],a.coords[1],a.coords[2],a.coords[3],a.coords[4])};
Kc.prototype.Kb=function(){null!=this.K&&(this.K.Za(),this.K=null)};Kc.prototype.cancel=function(){this.Kb()};function Nc(a,b){this.camera=a;this.ellipsoid=b;this.aa=new Kc(this)}function V(a){var b=new Cesium.Cartographic(0,0,0);a.ellipsoid.cartesianToCartographic(a.camera.position,b);return[b.latitude,b.longitude,b.height]}function Oc(a,b,c,d){if(!q(b)||!q(c)||!q(d)){var e=V(a);b=null!=b?b:e[0];c=null!=c?c:e[1];d=0<d?d:e[2]}b=Cesium.Cartesian3.fromRadians(c,b,d);a.camera.setView({position:b,heading:0,pitch:-Math.PI/2,roll:0})}
Nc.prototype.M=function(){var a=this.camera,b=a.positionWC,c=new Cesium.Cartesian3(-b.y,b.x,0),c=Cesium.Cartesian3.angleBetween(a.right,c);return 0>Cesium.Cartesian3.cross(b,a.up,new Cesium.Cartesian3).z?c:-c};Nc.prototype.U=function(){var a=this.camera;return-Math.acos(Cesium.Cartesian3.dot(a.up,Cesium.Cartesian3.normalize(a.positionWC,new Cesium.Cartesian3)))+Math.PI/2};Nc.prototype.mb=function(a){var b=this.U();a-=this.M();this.camera.lookDown(b);this.camera.twistLeft(a);this.camera.lookUp(b)};
Nc.prototype.Ub=function(a){a-=this.U();var b=this.M();this.camera.lookUp(a);this.mb(b)};function Mc(a,b,c,d,e,f){b=Cesium.Cartesian3.fromRadians(c,b,d);a.camera.setView({position:b,heading:0,pitch:-Math.PI/2,roll:0});a.camera.twistLeft(e);a.camera.lookUp(f)}
function Pc(a,b,c,d,e){var f=(b+c)/2;d=Ic(f,d,f,e);b=Ic(b,0,c,0);c=Math.min(Math.max(a.camera.frustum.aspectRatio,d/b),1);a=I(K(a.camera.frustum.fovy)/(c+.4)-2);b=Math.max(b,d);b=Math.min(Math.PI/2,a+b/12756274);return 9567205.5*(Math.sin(b)*Math.sqrt(1+1/Math.pow(Math.tan(a),2))-1)}function Lc(a,b,c,d,e){e=Math.PI-(e||0);c=Math.PI-Math.asin(Math.sin(e)/(1+c/6378137))-e;d=d||0;return[a-Math.cos(d)*c,b+Math.sin(d)*c]}
function Qc(a,b,c,d){a=2*Math.cos(Math.abs(d))*Math.PI/Math.pow(2,c)*(.7*a.height/256);return 1/Math.tan(b/2)*(a/2)*6378137};function Rc(a){if("function"==typeof a.V)return a.V();if(y(a))return a.split("");if(ba(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Pa(a)}function Sc(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(ba(a)||y(a))H(a,b,c);else{var d;if("function"==typeof a.N)d=a.N();else if("function"!=typeof a.V)if(ba(a)||y(a)){d=[];for(var e=a.length,f=0;f<e;f++)d.push(f)}else d=Qa(a);else d=void 0;for(var e=Rc(a),f=e.length,g=0;g<f;g++)b.call(c,e[g],d&&d[g],a)}};function Tc(a,b){this.O={};this.m=[];this.g=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof Tc?(c=a.N(),d=a.V()):(c=Qa(a),d=Pa(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}}k=Tc.prototype;k.lc=function(){return this.g};k.V=function(){Uc(this);for(var a=[],b=0;b<this.m.length;b++)a.push(this.O[this.m[b]]);return a};k.N=function(){Uc(this);return this.m.concat()};
k.Ea=function(a){return Vc(this.O,a)};k.equals=function(a,b){if(this===a)return!0;if(this.g!=a.lc())return!1;var c=b||Wc;Uc(this);for(var d,e=0;d=this.m[e];e++)if(!c(this.get(d),a.get(d)))return!1;return!0};function Wc(a,b){return a===b}k.clear=function(){this.O={};this.g=this.m.length=0};k.remove=function(a){return Vc(this.O,a)?(delete this.O[a],this.g--,this.m.length>2*this.g&&Uc(this),!0):!1};
function Uc(a){if(a.g!=a.m.length){for(var b=0,c=0;b<a.m.length;){var d=a.m[b];Vc(a.O,d)&&(a.m[c++]=d);b++}a.m.length=c}if(a.g!=a.m.length){for(var e={},c=b=0;b<a.m.length;)d=a.m[b],Vc(e,d)||(a.m[c++]=d,e[d]=1),b++;a.m.length=c}}k.get=function(a,b){return Vc(this.O,a)?this.O[a]:b};k.set=function(a,b){Vc(this.O,a)||(this.g++,this.m.push(a));this.O[a]=b};k.forEach=function(a,b){for(var c=this.N(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};k.clone=function(){return new Tc(this)};
function Vc(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var Xc=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;function Yc(a){if(Zc){Zc=!1;var b=m.location;if(b){var c=b.href;if(c&&(c=(c=Yc(c)[3]||null)?decodeURI(c):c)&&c!=b.hostname)throw Zc=!0,Error();}}return a.match(Xc)}var Zc=O;function $c(a,b){var c;if(a instanceof $c)this.B=q(b)?b:a.B,ad(this,a.ga),c=a.qa,W(this),this.qa=c,c=a.T,W(this),this.T=c,bd(this,a.ua),c=a.R,W(this),this.R=c,cd(this,a.S.clone()),c=a.ka,W(this),this.ka=c;else if(a&&(c=Yc(String(a)))){this.B=!!b;ad(this,c[1]||"",!0);var d=c[2]||"";W(this);this.qa=dd(d);d=c[3]||"";W(this);this.T=dd(d,!0);bd(this,c[4]);d=c[5]||"";W(this);this.R=dd(d,!0);cd(this,c[6]||"",!0);c=c[7]||"";W(this);this.ka=dd(c)}else this.B=!!b,this.S=new ed(null,0,this.B)}k=$c.prototype;
k.ga="";k.qa="";k.T="";k.ua=null;k.R="";k.ka="";k.md=!1;k.B=!1;k.toString=function(){var a=[],b=this.ga;b&&a.push(fd(b,gd,!0),":");if(b=this.T){a.push("//");var c=this.qa;c&&a.push(fd(c,gd,!0),"@");a.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1"));b=this.ua;null!=b&&a.push(":",String(b))}if(b=this.R)this.T&&"/"!=b.charAt(0)&&a.push("/"),a.push(fd(b,"/"==b.charAt(0)?hd:id,!0));(b=this.S.toString())&&a.push("?",b);(b=this.ka)&&a.push("#",fd(b,jd));return a.join("")};
k.resolve=function(a){var b=this.clone(),c=!!a.ga;c?ad(b,a.ga):c=!!a.qa;if(c){var d=a.qa;W(b);b.qa=d}else c=!!a.T;c?(d=a.T,W(b),b.T=d):c=null!=a.ua;d=a.R;if(c)bd(b,a.ua);else if(c=!!a.R){if("/"!=d.charAt(0))if(this.T&&!this.R)d="/"+d;else{var e=b.R.lastIndexOf("/");-1!=e&&(d=b.R.substr(0,e+1)+d)}e=d;if(".."==e||"."==e)d="";else if(-1!=e.indexOf("./")||-1!=e.indexOf("/.")){for(var d=0==e.lastIndexOf("/",0),e=e.split("/"),f=[],g=0;g<e.length;){var h=e[g++];"."==h?d&&g==e.length&&f.push(""):".."==h?
((1<f.length||1==f.length&&""!=f[0])&&f.pop(),d&&g==e.length&&f.push("")):(f.push(h),d=!0)}d=f.join("/")}else d=e}c?(W(b),b.R=d):c=""!==a.S.toString();c?cd(b,dd(a.S.toString())):c=!!a.ka;c&&(a=a.ka,W(b),b.ka=a);return b};k.clone=function(){return new $c(this)};function ad(a,b,c){W(a);a.ga=c?dd(b,!0):b;a.ga&&(a.ga=a.ga.replace(/:$/,""))}function bd(a,b){W(a);if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.ua=b}else a.ua=null}
function cd(a,b,c){W(a);b instanceof ed?(a.S=b,a.S.Sb(a.B)):(c||(b=fd(b,kd)),a.S=new ed(b,0,a.B))}function ld(a,b,c){W(a);x(c)||(c=[String(c)]);md(a.S,b,c)}function W(a){if(a.md)throw Error("Tried to modify a read-only Uri");}k.Sb=function(a){this.B=a;this.S&&this.S.Sb(a);return this};function dd(a,b){return a?b?decodeURI(a):decodeURIComponent(a):""}function fd(a,b,c){return y(a)?(a=encodeURI(a).replace(b,nd),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}
function nd(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var gd=/[#\/\?@]/g,id=/[\#\?:]/g,hd=/[\#\?]/g,kd=/[\#\?@]/g,jd=/#/g;function ed(a,b,c){this.u=a||null;this.B=!!c}
function od(a){if(!a.h&&(a.h=new Tc,a.g=0,a.u))for(var b=a.u.split("\x26"),c=0;c<b.length;c++){var d=b[c].indexOf("\x3d"),e=null,f=null;0<=d?(e=b[c].substring(0,d),f=b[c].substring(d+1)):e=b[c];e=decodeURIComponent(e.replace(/\+/g," "));e=pd(a,e);a.add(e,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}k=ed.prototype;k.h=null;k.g=null;k.lc=function(){od(this);return this.g};k.add=function(a,b){od(this);this.u=null;a=pd(this,a);var c=this.h.get(a);c||this.h.set(a,c=[]);c.push(b);this.g++;return this};
k.remove=function(a){od(this);a=pd(this,a);return this.h.Ea(a)?(this.u=null,this.g-=this.h.get(a).length,this.h.remove(a)):!1};k.clear=function(){this.h=this.u=null;this.g=0};k.Ea=function(a){od(this);a=pd(this,a);return this.h.Ea(a)};k.N=function(){od(this);for(var a=this.h.V(),b=this.h.N(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};
k.V=function(a){od(this);var b=[];if(y(a))this.Ea(a)&&(b=za(b,this.h.get(pd(this,a))));else{a=this.h.V();for(var c=0;c<a.length;c++)b=za(b,a[c])}return b};k.set=function(a,b){od(this);this.u=null;a=pd(this,a);this.Ea(a)&&(this.g-=this.h.get(a).length);this.h.set(a,[b]);this.g++;return this};k.get=function(a,b){var c=a?this.V(a):[];return 0<c.length?String(c[0]):b};function md(a,b,c){a.remove(b);0<c.length&&(a.u=null,a.h.set(pd(a,b),Aa(c)),a.g+=c.length)}
k.toString=function(){if(this.u)return this.u;if(!this.h)return"";for(var a=[],b=this.h.N(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.V(d),f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="\x3d"+encodeURIComponent(String(d[f])));a.push(g)}return this.u=a.join("\x26")};k.clone=function(){var a=new ed;a.u=this.u;this.h&&(a.h=this.h.clone(),a.g=this.g);return a};function pd(a,b){var c=String(b);a.B&&(c=c.toLowerCase());return c}
k.Sb=function(a){a&&!this.B&&(od(this),this.u=null,this.h.forEach(function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),md(this,d,a))},this));this.B=a};k.extend=function(a){for(var b=0;b<arguments.length;b++)Sc(arguments[b],function(a,b){this.add(b,a)},this)};function qd(a){rd(this,a)}E(qd,Cesium.TileMapServiceImageryProvider);
function rd(a,b){a._url=b.url;a._minimumLevel=b.minimumLevel||0;a._maximumLevel=b.maximumLevel||18;a.Yb=b.tileSize||256;a._tileWidth=a._tileHeight=a.Yb;var c=b.bounds,d=null;c&&c.length&&3<c.length&&(d=new Cesium.Rectangle(I(c[0]),I(c[1]),I(c[2]),I(c[3])));a.Tc=b.flipY||!1;a.Wb=b.subdomains||[];a._credit=new Cesium.Credit((b.copyright||"").toString(),void 0,b.copyrightLink?b.copyrightLink.toString():void 0);a._proxy=b.proxy||void 0;a.vb=document.createElement("canvas");a.vb.width=a.Yb;a.vb.height=
a.Yb;a._errorEvent=new Cesium.Event;a._tilingScheme=new Cesium.WebMercatorTilingScheme;a._rectangle=d||a._tilingScheme.rectangle;a._ready=null!=a._url}
qd.prototype.requestImage=function(a,b,c){if(c<this.minimumLevel||c>this.maximumLevel)return this.vb;var d=this.url.replace("{z}",c.toFixed(0)),d=d.replace("{x}",a.toFixed(0)),d=d.replace("{y}",(this.Tc?(1<<c)-b-1:b).toFixed(0));0<this.Wb.length&&(d=d.replace("{sub}",this.Wb[Da(a+b+c,this.Wb.length)]));a=this.oa?this.oa.getURL(d):d;return Cesium.ImageryProvider.loadImage(this,a)};function sd(a){this.C=a;this.a=null}sd.prototype.Rb=function(a,b,c,d){var e=this.C.imageryProvider._rectangle;e.west=I(c);e.south=I(Math.min(Math.max(a,-85.051),85.051));e.east=I(d);e.north=I(Math.min(Math.max(b,-85.051),85.051));this.a&&(this.a.c=!0)};sd.prototype.Tb=function(a){this.C.alpha=a;this.a&&(this.a.c=!0)};sd.prototype.bd=function(){return this.C.alpha};var td=new Tc;
function ud(a,b,c){var d=b,e=null,f=null;null!=c&&(x(c)?(0<c.length&&(d+=c[0]),f=c):(d+=c.name||c.url,e=c));c="https:"==document.location.protocol?"https:":"http:";switch(b){case "osm":e||(e={},e.url=c+"//a.tile.openstreetmap.org");b=new Cesium.OpenStreetMapImageryProvider(e);break;case "bing":f&&(e={},e.url=c+"//dev.virtualearth.net","Aerial"==f[0]&&(e.mapStyle=Cesium.BingMapsStyle.AERIAL),"AerialWithLabels"==f[0]&&(e.mapStyle=Cesium.BingMapsStyle.AERIAL_WITH_LABELS),"Road"==f[0]&&(e.mapStyle=Cesium.BingMapsStyle.ROAD),
e.key=f[1]);b=new Cesium.BingMapsImageryProvider(e);break;case "wms":if(f){e={parameters:{}};e.url=f[1];f[2]&&0<f[2].length&&(e.parameters.version=f[2]);e.layers=f[3];e.parameters.crs=f[4];f[5]&&0<f[5].length&&(e.parameters.format=f[5]);f[6]&&0<f[6].length&&(e.parameters.styles=f[6]);if(f[7]&&0<f[7].length){var g=new ed(f[7]);H(g.N(),function(a){e.parameters[a]=g.get(a)})}if("EPSG:900913"==f[4]||"EPSG:3857"==f[4])e.tilingScheme=new Cesium.WebMercatorTilingScheme;e.maximumLevel=f[9];a&&(e.proxy=a.Ib)}b=
new Cesium.WebMapServiceImageryProvider(e);break;case "custom":f&&(e={},e.url=f[1],e.maximumLevel=f[3],e.tileSize=f[4],e.flipY=f[5],e.subdomains=f[6],e.copyright=f[7],a&&(e.proxy=a.Ib));b=new qd(e);break;default:return alert("Unknown MapType '"+b+"' !"),null}b=new sd(new Cesium.ImageryLayer(b));e&&e.opacity&&b.Tb(parseFloat(e.opacity));e&&e.bounds&&(f=e.bounds,b.Rb(f[0],f[1],f[2],f[3]));td.set(d,b);a&&vd(a,b.C.imageryProvider.errorEvent);return b};function wd(a,b,c){this.W=a;this.X=b;this.element=c;this.parentElement=null;this.enabled=!0;this.visible=!1}k=wd.prototype;k.detach=function(){this.parentElement&&(this.show(!1),this.parentElement=null)};k.enable=function(a){(this.enabled=a||!1)||this.show(!1)};k.isEnabled=function(){return this.enabled};k.show=function(a){a=!1!==a;var b=this.visible!=a;this.visible=a;b&&(this.visible&&this.parentElement?this.parentElement.appendChild(this.element):nb(this.element))};
function xd(a,b,c){a.element.style.left=b.toFixed()+"px";a.element.style.top=c.toFixed()+"px";a.enabled&&a.show(!0)}k.Nc=u;function yd(a,b){this.ja=a;this.Oc=b;this.P=new Tc}function zd(a,b,c){b=b||Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^D()).toString(36);var d=a.Oc;c.parentElement&&c.detach();c.parentElement=d;c.show(!0);a.P.set(b,c);return b}yd.prototype.fa=function(a){var b=this.P.get(a);q(b)&&(b.detach(),this.P.remove(a));return b};function Ad(a,b){Sc(a.P,function(a,d){a==b&&this.fa(d)},a)}
yd.prototype.Gd=function(a){a=this.P.get(a);if(a.isEnabled()){var b;a:{b=this.ja;var c=b.camera.camera,d=new Cesium.Cartographic(a.X,a.W,0),e=Cesium.Ellipsoid.WGS84.cartographicToCartesian(d),d=new Cesium.Cartesian4(e.x,e.y,e.z,1),f=Cesium.Matrix4.multiplyByVector(b.f.context.uniformState.modelViewProjection,d,new Cesium.Cartesian4);if(null!=f){var g=1/f.w,d=(f.x*g+1)/2,f=1-(f.y*g+1)/2,g=1;if(-.1>d||1.1<d||-.1>f||1.1<f)g=0;else{var g=Cesium.Cartesian3.subtract(e,c.position,e),e=Cesium.Cartesian3.magnitude(g),
g=-Cesium.Cartesian3.dot(Cesium.Cartesian3.normalize(g,new Cesium.Cartesian3),c.position),c=Cesium.Cartesian3.dot(c.position,c.position),h=g*g-c+40680631590769;if(0>h){b=null;break a}c=Math.min(g+Math.sqrt(h),g-Math.sqrt(h));g=Math.max(g+Math.sqrt(h),g-Math.sqrt(h));g=Math.abs(e-c)<Math.abs(e-g)?1:0}b=[d*b.canvas.width,f*b.canvas.height,g]}else b=null}null!=b?(xd(a,b[0],b[1]),a.show(0<b[2])):a.show(!1)}};yd.prototype.forEach=function(a){H(this.P.N(),function(b){(b=this.P.get(b))&&a(b)},this)};function Bd(a){var b;a:{b=gb(a);if(b.defaultView&&b.defaultView.getComputedStyle&&(b=b.defaultView.getComputedStyle(a,null))){b=b.position||b.getPropertyValue("position")||"";break a}b=""}return b||(a.currentStyle?a.currentStyle.position:null)||a.style&&a.style.position}
function Cd(a){if(N&&!(N&&8<=bb))return a.offsetParent;var b=gb(a),c=Bd(a),d="fixed"==c||"absolute"==c;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=Bd(a),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return null};function Dd(a,b,c){var d=Q("div",{"class":"we-pp-content"});d.innerHTML=a;a=Q("div",{"class":"we-pp-wrapper"},d);d=Q("div",{"class":"we-pp-tip-cont"},Q("div",{"class":"we-pp-tip"}));this.j=Q("div",{"class":"we-pp"});!1!==c&&(c=Q("a",{"class":"we-pp-close",href:"#"}),c.onclick=C(this.show,this,!1),this.j.appendChild(c));this.j.appendChild(a);this.j.appendChild(d);b=(b||300)+40;this.j.style.width=b.toFixed(0)+"px";this.j.style.left=(-b/2).toFixed(0)+"px";this.show(!1)}Dd.prototype.yb=function(){return this.j};
Dd.prototype.show=function(a){(null!=a?a:1!==parseFloat(this.j.style.opacity))?(this.j.style.opacity=1,this.j.style.visibility="visible"):(this.j.style.opacity=0,this.j.style.visibility="hidden")};Jc('.we-pp-content p{margin:18px 0;text-align:justify;}.we-pp-wrapper{padding:1px;text-align:left;border-radius:12px;}.we-pp{z-index:100;-webkit-transition:opacity 0.2s linear;-moz-transition:opacity 0.2s linear;-o-transition:opacity 0.2s linear;transition:opacity 0.2s linear;position:absolute;}.we-pp-wrapper,.we-pp-tip{background:white;box-shadow:0 1px 10px #888;-moz-box-shadow:0 1px 10px #888;-webkit-box-shadow:0 1px 14px #999;}.we-pp-close{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAMAAAC67D+PAAAAk1BMVEX////Ny8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8vNy8sw0horAAAAMHRSTlMA/bGBFK1LgjellwUx2+VZo73SE6z5fQYOtzLRpxI22CC4g6ieV+yAEc8/ZocEHTzU+GNbAAAAV0lEQVQI1wXBBQKDMADAwLRl7szdgCks/3/d7hh0ehl0W21IwZgNR44nTNVZribmC1WXqzVstmpIALu9Gg5HOJ1VNV64arjd1YKy8sEz+nrD51tD0//xB/w6CnrIHetcAAAAAElFTkSuQmCC);position:absolute;top:9px;right:9px;width:10px;height:10px;overflow:hidden;}.we-pp-content{display:inline-block;margin:13px 19px;font:12px/1.4 "Helvetica Neue",Arial,Helvetica,sans-serif;}.we-pp-tip-cont{margin:0 auto;width:40px;height:16px;position:relative;overflow:hidden;}.we-pp-tip{width:15px;height:15px;padding:1px;margin:-8px auto 0;-moz-transform:rotate(45deg);-webkit-transform:rotate(45deg);-o-transform:rotate(45deg);transform:rotate(45deg);}');function X(a,b,c,d,e){var f=Q("div",{"class":"we-pm-icon"});y(c)&&(f.style.backgroundImage="url("+c+")");this.Cc=d||25;this.Eb=e||41;f.style.width=this.Cc.toFixed(0)+"px";f.style.height=this.Eb.toFixed(0)+"px";f.style.marginLeft=(-this.Cc/2).toFixed(0)+"px";f.style.marginTop=(-this.Eb).toFixed(0)+"px";c=Q("div",{style:"position:absolute;"},f);wd.call(this,a,b,c);this.j=null;this.show(!1);this.nb(!1);f.onclick=C(this.nb,this,void 0)}E(X,wd);
function Ed(a,b){a.j&&nb(a.j.yb());a.j=b;a.element.appendChild(a.j.yb());b.j.style.bottom=a.Eb.toFixed(0)+"px"}X.prototype.nb=function(a){this.j&&this.j.show(a)};Jc(".we-pm-icon{position:absolute;z-index:64;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFtklEQVR42p3Wa0xTZxgH8CYkS5aQLGFxcXNZNNu4FIFCK9eCWOQm3lDizLYP+zTnxLk5wQpICxRaLuWi3FpQFMU55xDkjiBTFMeA9Zy2JzMxWUZisoS4TyRuQvG/pydQKb3Q2uSXw3nf93n+5z2nLRVIiga88RERL/MlAgDrosJ+d/zISTJMEFt2B9LyEV5kySBo7G+iI9vdhyj7nfEhcjKfUvcAma0z+Pwa5+BwuxG7myaRUH4XtHaAhLgI6VvLjwwn14zj0CUWn13lkHXZhPQWBml6e3svGq3zvIyGX0F1z0mWQ4hY0buaH3mcUvsAn17hcKDNhFQdsy4K5Nfv108jsXIM1OOoqxAfMppMAYepIF3PIrmZ8cqhy2ZkXjBYQyxE9iqksGeFXKa9h0PtHF0di6Qmxhk+fKeLOcLX72r8DdRvjvjxIRGFt638yPz+Vha7W0zY0cDYydAbkXWJ4+1rYWx/H2gzO6wl/JysehzUUw0+5Oxtq+zEyns42MYhsZ6xQ2N0C0yQae9DouhFZt1dOvYgnt5RGU3T/Dw1tqtJ1xn5Gur7D/ERRBR0W43vapzhd5FwnrHZ02Kmt+jvkBTeRsOdPzD/7wJWXkPGp0hSD2BnzUMcuMjZ1RF+LFY1BOotFYQXdPkSy/5WDvF1DKSr8GOau7g1/RecvWafzSOuuBf79CYkNxodandox0G9VYLw/FvCSGUf9rZQci1js6PeiPRGAw7WjTgNePnyJa9mgJ5h1QPsWVOf0kTBdZOg/p0CUV6nNKp4ALv1HKJrGJu0Znqo1RNQds64DLBYLBjjniK6ZMihXtZgRPK5KVD/UYHozM+R1p1k6DhEaRmblAYK0U4g/8aUy4DFxUUMMLOIUQ071CfVm5BUOwnq30shNzeJC7qwq5nDtirGJq6GRWoDixR1HxYsS3YhS0tLWFhY4OVdf4TEqgmkNprt6ukiafwhqL9OECb/yYfMpzaaEKllIa5kbNKa6D6XjqK632i3C9oBH3DPPIttyn5+XUy1Y22cegzUO18QdvqGVWdC5SNK5xBezqyg3dB9pW1Hl4wgu20cM3/O4b+FRTx++gwNgywkeTfhrE5cwfBj4oJuUG+hIDT3RyuZpLAXO+s5hGkYOzHVRn5cWv4Q4rM91iJE5HchpnQMsjrWWY1tPfUd5j/xoTnXV0zEV05Cds6MUDVjR6RhkXSecxBTbXJYG0ZojnbRA+opXQ75YUWmpLCfro7D1lLmdfH1Us0EqN+o7Vs45NS1FT7kSXzVDGK1ZghVzGtJpJAI2gX1Sn4V8n3HakcliiEk1HIILGG8FldtRqxmEtRn2u6f1taTHau9SebitCzCNUb4FzNekdZwCC/oA/XIsg/57upaKrFiBHFaDh8rGY9FVZgRrZ4C1T8mPnYhwd9eWWsDeR5TaUKwyogPFYxHYqo4iPL7QbVf8M3tQ9qd0UUoxhBdyWFLIbOucLUJkeoZUN0secMx5MRlZwKIhW4BXSWLzWcZt6IqrLsYBNWccPq7S/jNJVe6wxX3sU1jxgf5BpeExUZIygyg9XPE13nI8TZXtm89dRNiCnk/z+AKPx+aNwhaX+jyZ2pQ9kV3JkTKRxCVmrDpjMGBv4JFRBkLWjdP3nITcsGdT4JzuiAqM+NduWEtfjzkzBBoXQXf0GXIsVZ3fMiTsKIpBBYZsfG0wWZzAQuRygSaf0E2ug0J/LplPdnBOT0IVZnxTq5hBX8eLB8Gzev4Zu5D9OvxJXMhRQZsoavfkEPPQ84gpMQEGreQLeuGBBzVe0IVlDuA4GIz3j5l4I9B8hHQeIfbAFvIVzpPbCQvhEoT3pOzEBaZEZh9BTQW4mFIs6d0gbl3EKSkAPkY6LyXCDwLOdLsKWHAsXYEKswIOH4NdC4lnoX4H2nyRnfA6THQ8Zflcw9Dvmz0xnb/7A7QMW353OMQb7USgTch/wNGSWfRl/HE1wAAAABJRU5ErkJggg\x3d\x3d);}");function Y(a,b){var c=b||{},d=y(a)?document.getElementById(a):a,e=Fd();this.wc=(this.pc="file:"==window.location.protocol)?"http:":"";(function(a,b,c,d,e){a.GoogleAnalyticsObject=e;a[e]=a[e]||function(){(a[e].q=a[e].q||[]).push(arguments)};a[e].l=1*new Date;var f=b.createElement(c);b=b.getElementsByTagName(c)[0];f.async=1;f.src=d;b.parentNode.insertBefore(f,b)})(window,document,"script",this.wc+"//www.google-analytics.com/analytics.js","__WE_ga");window.__WE_ga("create","UA-20846306-1",{name:"we0"});
window.__WE_ga("we0.send","event",(2).toString(),window.location.host,window.location.href,e?1:0);if(e){Jc(".cesium-credit-textContainer:before{content:'WebGL Earth \\2022\\20 Cesium \\2022\\20';}");this.rb=!1;ud(this,"osm");d.style.position="relative";d.style.overflow="hidden";this.canvas=document.createElement("canvas");this.canvas.style.width="100%";this.canvas.style.height="100%";this.canvas.oncontextmenu=function(){return!1};d.appendChild(this.canvas);this.Ba=null;this.f=new Cesium.Scene({canvas:this.canvas,
contextOptions:{webgl:{alpha:!0!==c.sky}}});this.ma=null;this.xb=!1;this.c=!0;this.Gb=new Cesium.Matrix4;var f=c.proxyHost||null;this.Ib={getURL:function(a){return null!=f?f+encodeURIComponent(a):a}};c.atmosphere&&(this.f.skyAtmosphere=new Cesium.SkyAtmosphere);c.sky?(e=(y(c.sky)?c.sky:window.CESIUM_BASE_URL)+"SkyBox/",this.f.skyBox=new Cesium.SkyBox({sources:{positiveX:e+"px.jpg",negativeX:e+"mx.jpg",positiveY:e+"py.jpg",negativeY:e+"my.jpg",positiveZ:e+"pz.jpg",negativeZ:e+"mz.jpg"}})):this.f.backgroundColor=
new Cesium.Color(0,0,0,0);var e=this.f.primitives,g=Cesium.Ellipsoid.WGS84;this.globe=new Cesium.Globe(g);this.camera=new Nc(this.f.camera,g);this.f.globe=this.globe;!0!==c.empty&&(g=new Cesium.OpenStreetMapImageryProvider({url:("https:"==document.location.protocol?"https:":"http:")+"//a.tile.openstreetmap.org/"}),this.f.imageryLayers.addImageryProvider(g));if(this.Dc=!!c.terrain)g=c.terrain,!0===g&&(g="https://assets.agi.com/stk-terrain/v1/tilesets/world/tiles"),g=new Cesium.CesiumTerrainProvider({url:g,
credit:c.terrainCredit}),this.f.terrainProvider=g;this.da=new yd(this,d);this.ub=[];this.Oa=new Cesium.BillboardCollection;e.add(this.Oa);var h=C(function(){if(!this.xb){this.f.initializeFrame();var a=this.Dc||this.c;this.c=!1;if(!a){var b=this.camera.camera.viewMatrix;this.Gb&&this.Gb.equals(b)||(b.clone(this.Gb),a=!0)}a&&(this.f.render(),null!=this.ma&&Gd(this.ma),a=this.da,H(a.P.N(),a.Gd,a),null!=this.Ba&&(this.Ba(),this.Ba=null))}Cesium.requestAnimationFrame(h)},this);Cesium.requestAnimationFrame(h);
d=new Cesium.ScreenSpaceEventHandler(this.canvas);e=C(function(){this.camera.aa.cancel()},this);d.setInputAction(e,Cesium.ScreenSpaceEventType.LEFT_DOWN);d.setInputAction(e,Cesium.ScreenSpaceEventType.RIGHT_DOWN);d.setInputAction(e,Cesium.ScreenSpaceEventType.MIDDLE_DOWN);d.setInputAction(e,Cesium.ScreenSpaceEventType.WHEEL);d.setInputAction(e,Cesium.ScreenSpaceEventType.PINCH_START);S(window,"resize",this.Db,!1,this);this.Db();d=c.position;e=c.center;null!=d&&1<d.length?Oc(this.camera,I(d[0]),I(d[1]),
void 0):null!=e&&1<e.length&&Oc(this.camera,I(e[0]),I(e[1]),void 0);null!=c.zoom&&window.console.log("zoom not supported");d=c.altitude;null!=d&&Oc(this.camera,void 0,void 0,d);d=this.f.screenSpaceCameraController;!0!==c.unconstrainedRotation&&(this.f.camera.constrainedAxis=Cesium.Cartesian3.UNIT_Z);if(!1===c.panning||!1===c.dragging)d.enableRotate=!1;!1===c.tilting&&(d.enableTilt=!1);if(!1===c.zooming||!1===c.scrollWheelZoom)d.enableZoom=!1;d.minimumZoomDistance=c.minAltitude||20;d.maximumZoomDistance=
c.maxAltitude||Infinity;d.tiltEventTypes.push({eventType:Cesium.CameraEventType.LEFT_DRAG,modifier:Cesium.KeyboardEventModifier.SHIFT});d.lookEventTypes={eventType:Cesium.CameraEventType.LEFT_DRAG,modifier:Cesium.KeyboardEventModifier.ALT};var l=Cesium.ImageryLayer.prototype._createTexture;Cesium.ImageryLayer.prototype._createTexture=function(a,b){b.__image__=b.image;l.call(this,a,b)};var p=this,n=Cesium.GlobeSurfaceTile.processStateMachine;Cesium.GlobeSurfaceTile.processStateMachine=function(a,b,
c,d,e){p.c=!0;n(a,b,c,d,e)};setTimeout(function(){p.c=!0},1)}else c=Q("iframe",{src:this.wc+"//www.webglearth.com/webgl-error.html"}),c.style.width="100%",c.style.height="100%",c.style.border="none",d.appendChild(c)}function Fd(){if(window.WebGLRenderingContext)for(var a=document.createElement("canvas"),b=["webgl","experimental-webgl"],c=0;c<b.length;c++)try{var d=a.getContext(b[c],void 0);if(d&&A(d.getParameter))return d}catch(e){}return null}
function vd(a,b){a.rb||b.addEventListener(function(a){this.rb||(this.pc&&0!==a.provider._url.indexOf("http")?alert("Tiles for WebGL must be accessed over http protocol."):window.console&&window.console.error&&window.console.error("An error occured while accessing the tiles. Cross-domain access restrictions are applied on map tiles for WebGL. Either use CORS on remote domain (http://enable-cors.org/) or place your application on the same domain as tiles (hosting app and tiles on the same domain or running a tile proxy)."),
this.rb=!0)},a)}function Hd(a,b){var c=xa(a.ub,function(a){return 10>a.length});if(!c){c=new Cesium.PrimitiveCollection;a.ub.push(c);var d=a.f.primitives;d.add(c);d.raiseToTop(a.Oa)}c.add(b)}function Id(a,b){H(a.ub,function(a){a.remove(b)})}k=Y.prototype;k.Db=function(){var a=this.canvas.clientWidth,b=this.canvas.clientHeight;if(this.canvas.width!==a||this.canvas.height!==b)this.canvas.width=a,this.canvas.height=b,this.f.camera.frustum.aspectRatio=a/b,this.c=!0};
k.wd=function(a){var b=this.f.imageryLayers;b.remove(b.get(0),!1);b.add(a.C,0);a.a=this;this.c=!0};k.Dd=function(a){var b=this.f.imageryLayers;1<this.f.imageryLayers.length&&b.remove(b.get(1),!1);null!=a&&(b.add(a.C),a.a=this);this.c=!0};
k.ib=function(a,b){var c=S(this.canvas,a,function(a,b){return function(c){c.target=a;c.latitude=null;c.longitude=null;var g=c.offsetX,h=c.offsetY;if(null==g||null==h){var l=c.s,g=l.pageX,h=l.pageY;!(l=l.touches)||!l[0]||g&&h||(g=l[0].pageX,h=l[0].pageY);var p=a.canvas,n,t=gb(p),w=Bd(p),J=Xa&&t.getBoxObjectFor&&!p.getBoundingClientRect&&"absolute"==w&&(n=t.getBoxObjectFor(p))&&(0>n.screenX||0>n.screenY),l=new db(0,0),z;n=t?gb(t):document;(z=!N||N&&9<=bb)||(z="CSS1Compat"==eb(n).ba.compatMode);z=z?
n.documentElement:n.body;if(p!=z)if(p.getBoundingClientRect){b:{var v;try{v=p.getBoundingClientRect()}catch(Lb){n={left:0,top:0,right:0,bottom:0};break b}N&&p.ownerDocument.body&&(n=p.ownerDocument,v.left-=n.documentElement.clientLeft+n.body.clientLeft,v.top-=n.documentElement.clientTop+n.body.clientTop);n=v}t=eb(t).ba;v=O||"CSS1Compat"!=t.compatMode?t.body||t.documentElement:t.documentElement;t=t.parentWindow||t.defaultView;v=N&&P("10")&&t.pageYOffset!=v.scrollTop?new db(v.scrollLeft,v.scrollTop):
new db(t.pageXOffset||v.scrollLeft,t.pageYOffset||v.scrollTop);l.x=n.left+v.x;l.y=n.top+v.y}else if(t.getBoxObjectFor&&!J)n=t.getBoxObjectFor(p),v=t.getBoxObjectFor(z),l.x=n.screenX-v.screenX,l.y=n.screenY-v.screenY;else{n=p;do{l.x+=n.offsetLeft;l.y+=n.offsetTop;n!=p&&(l.x+=n.clientLeft||0,l.y+=n.clientTop||0);if(O&&"fixed"==Bd(n)){l.x+=t.body.scrollLeft;l.y+=t.body.scrollTop;break}n=n.offsetParent}while(n&&n!=p);if(Wa||O&&"absolute"==w)l.y-=t.body.offsetTop;for(n=p;(n=Cd(n))&&n!=t.body&&n!=z;)l.x-=
n.scrollLeft,Wa&&"TR"==n.tagName||(l.y-=n.scrollTop)}g-=l.x;h-=l.y}null!=g&&null!=h&&(h=a.camera.camera.pickEllipsoid(new Cesium.Cartesian2(g,h)),null!=h&&(h=Cesium.Ellipsoid.WGS84.cartesianToCartographic(h),g=K(h.latitude),l=K(h.longitude),c.latlng={lat:g,lng:l},c.latitude=g,c.longitude=l,c.altitude=h.height,c.originalEvent=c.s));b(c)}}(this,b));return b[B(this)+"___eventKey_"+a]=c};k.Ma=function(a,b){if(null!=b){var c=b[B(this)+"___eventKey_"+a];null!=c&&Rb(c)}else y(a)||Rb(a)};
k.hb=function(a){Sb(this.canvas,a)};k.kd=function(a,b,c,d,e){a=ca(a)?new X(I(a),I(b),c,d,e):a;zd(this.da,null,a);this.c=!0;return a};k.fa=function(a){Ad(this.da,a);this.c=!0};var Jd=/#(.)(.)(.)/;function Kd(a){if(!Ld.test(a))throw Error("'"+a+"' is not a valid hex color");4==a.length&&(a=a.replace(Jd,"#$1$1$2$2$3$3"));return a.toLowerCase()}var Ld=/^#(?:[0-9a-f]{3}){1,2}$/i;function Md(a,b,c){this.a=c;this.k=null;this.gb=this.fb=0;this.pa(a,b);this.src=""}Md.prototype.pa=function(a,b){this.fb=a;this.gb=b;if(this.k){var c=Cesium.Ellipsoid.WGS84.cartographicToCartesian(new Cesium.Cartographic(this.gb,this.fb));this.k.position=c}};Md.prototype.enable=function(a){this.k&&(this.k.show=a)};Md.prototype.destroy=function(){this.k&&(this.a.Oa.remove(this.k),this.k=null)};Md.prototype.Ja=function(){return!1};function Nd(){this.va=new Cesium.Polygon({asynchronous:!1});this.Nb=new Cesium.PolylineCollection;this.Pa=this.Nb.add();this.e=null;this.F=[];this.La=0;this.va.material.uniforms.color=new Cesium.Color(1,0,0,.8);this.Pa.material.uniforms.color=new Cesium.Color(0,0,0,1);this.Pa.width=2;this.ya=0;this.kb=this.$=!1;this.Ua=[]}k=Nd.prototype;k.Ka=function(){return this.$};function Od(a){var b=a.kb;a.kb=!1;return b}k.Ab=function(){return this.ya};
k.ia=function(a,b,c,d){a=new Pd(a,b);if(0==this.La)this.e=a,a.next=a,a.o=a;else{b=this.F;var e=this.F.length-1;c=Math.min(Math.max(null!=c?c:Number.MAX_VALUE,0),e);c=b[c];c||(c=this.e.o);a.next=c.next;c.next=a;a.o=c;a.next.o=a}this.F.push(a);a.ab=this.F.length-1;this.La++;!0!==d&&Qd(this);return a.ab};function Rd(a,b){var c=a.F[b];return c?[c.o.ab,c.next.ab]:[]}function Sd(a,b){var c=a.F[b];if(!c)return[];var d=180/Math.PI;return[c.x*d,c.y*d]}
k.ta=function(a,b,c){if(a=this.F[a])a.pa(b,c),Qd(this),Td(this)};k.wa=function(a){var b=this.F[a];b&&(this.e==b&&(this.e=b==b.next?null:b.next),b.next.o=b.o,b.o.next=b.next,delete this.F[a],this.La--,Qd(this),Td(this))};function Ud(a){if(!a.Ka())return null;var b=0,c=0,d=0,e=a.e;do var f=e,g=e.next,h=f.x*g.y-g.x*f.y,b=b+(f.x+g.x)*h,c=c+(f.y+g.y)*h,d=d+h,e=e.next;while(e!=a.e);h=d/2*6/(180/Math.PI);return[b/h,c/h]}
k.Ja=function(a,b){function c(a,b){return(d-b.x)*(a.y-b.y)-(a.x-b.x)*(e-b.y)}var d=b/180*Math.PI,e=a/180*Math.PI,f=!1;H(this.Ua,function(a){var b=0>c(a[1],a[2]),d=0>c(a[2],a[0]);0>c(a[0],a[1])==b&&b==d&&(f=!0)});return f};
k.Fb=function(a){function b(a,b){function c(b,e){return(a.x-e.x)*(b.y-e.y)-(b.x-e.x)*(a.y-e.y)}var g=0>c(b[1],b[2]),h=0>c(b[2],b[0]);return 0>c(b[0],b[1])==g&&g==h}function c(a,b,c,g){var h=(g.y-c.y)*(b.x-a.x)-(g.x-c.x)*(b.y-a.y),l=a.y-c.y,p=a.x-c.x;c=((g.x-c.x)*l-(g.y-c.y)*p)/h;a=((b.x-a.x)*l-(b.y-a.y)*p)/h;return 0<c&&1>c&&0<a&&1>a}return null!==wa(this.Ua,function(d){return null!==wa(a.Ua,function(a){return c(d[0],d[1],a[0],a[1])||c(d[0],d[1],a[1],a[2])||c(d[0],d[1],a[2],a[0])||c(d[1],d[2],a[0],
a[1])||c(d[1],d[2],a[1],a[2])||c(d[1],d[2],a[2],a[0])||c(d[2],d[0],a[0],a[1])||c(d[2],d[0],a[1],a[2])||c(d[2],d[0],a[2],a[0])||b(d[0],a)&&b(d[1],a)&&b(d[2],a)||b(a[0],d)&&b(a[1],d)&&b(a[2],d)?!0:!1})})};function Qd(a){if(a.e&&!(3>a.La)){var b=[],c=a.e;do b.push(new Cesium.Cartographic(c.x,c.y)),c=c.next;while(c!=a.e);b=Cesium.Ellipsoid.WGS84.cartographicArrayToCartesianArray(b);a.va.positions=b;a.Pa.positions=b}}
function Td(a){var b=a.La;a.ya=0;a.Ua=[];a.$=!1;if(2<b){var c=null;a.$=!0;var d=a.e;do{var e=!0,f=d.next,g=a.e;do{var h=g.next,l=(h.y-g.y)*(f.x-d.x)-(h.x-g.x)*(f.y-d.y),p=((h.x-g.x)*(d.y-g.y)-(h.y-g.y)*(d.x-g.x))/l,g=((f.x-d.x)*(d.y-g.y)-(f.y-d.y)*(d.x-g.x))/l;0<p&&1>p&&0<g&&1>g&&(e=!1);g=h}while(e&&g!=a.e);e&&(c=d);a.$=a.$&&e;d=f}while(d!=a.e);a.$||4!=b||(d=function(a,b){var c=a.o,d=b.next;a.o=b;b.next=a;a.next=d;b.o=c;d.o=a;c.next=b},c&&d(c,c.next),Qd(a),a.$=!0,a.kb=!0)}if(a.va.show=a.$){c=0;if(0<
b){d=a.e;do f=d.next,c+=d.x*f.y-d.y*f.x,d=f;while(d!=a.e)}if(0<c){a.kb=!0;for(c=0;c<a.F.length;++c)if(d=a.F[c])f=d.next,d.next=d.o,d.o=f;Qd(a)}var n=[],c=C(function(a,b,c){function d(a,b){var c=a.Ob-b.Ob,e=a.Pb-b.Pb,f=a.Qb-b.Qb;return Math.sqrt(c*c+e*e+f*f)}n.push([a.Zb,b.Zb,c.Zb]);this.Ua.push([a,b,c]);var e=d(a,b);b=d(b,c);a=d(c,a);c=(e+b+a)/2;this.ya+=Math.sqrt(c*(c-e)*(c-b)*(c-a))},a);if(!(3>b))if(3==b)c(a.e,a.e.o,a.e.next);else{var t=a.e,w=function(a,b,c){return-((b.x-a.x)*(c.y-a.y)-(c.x-a.x)*
(b.y-a.y))},J=function(a,b){var c=a.ra,d=a.J;return 0<=w(a,d,c)?0<w(a,b,c)&&0<w(b,a,d):!(0<=w(a,b,d)&&0<=w(b,a,c))},d=function(a,b){var c;if(c=J(a,b)&&J(b,a))a:{c=t;var d;do{d=c.J;var e;if(e=c!=a&&d!=a&&c!=b&&d!=b){if(0==w(a,b,c)||0==w(a,b,d)||0==w(c,d,a)||0==w(c,d,b))d=0;else{e=0<w(a,b,c);var f=0<w(a,b,d);if(e=(e||f)&&!(e&&f))e=0<w(c,d,a),d=0<w(c,d,b),e=(e||d)&&!(e&&d);d=e}e=d}if(e){c=!1;break a}c=c.J}while(c!=t);c=!0}return c},z,v;H(a.F,function(a){a&&(a.J=a.next,a.ra=a.o)});f=a.e;do e=f.J,g=f.ra,
f.Wa=d(g,e),f=f.J;while(f!=a.e);for(h=99;0<h&&3<b;){h--;e=t;p=99;do g=!1,e.Wa&&(z=e.J,v=z.J,f=e.ra,g=f.ra,c(z,e,f),f.Wa=d(g,z),z.Wa=d(f,v),f.J=z,z.ra=f,t=z,b--,g=!0),e=e.J,p--;while(0<p&&!g&&e!=t)}f&&z&&v&&c(v,z,f)}a.ya*=40680631590769}}function Pd(a,b,c,d){this.Qb=this.Pb=this.Ob=this.y=this.x=0;this.pa(a,b);this.next=c||null;this.o=d||null;this.Zb=this.ab=-1;this.Wa=!1;this.J=this.next;this.ra=this.o}
Pd.prototype.pa=function(a,b){this.x=b/180*Math.PI;this.y=a/180*Math.PI;var c=Math.cos(this.y);this.Ob=Math.sin(this.x)*c;this.Pb=Math.sin(this.y);this.Qb=Math.cos(this.x)*c};function Vd(a,b,c,d,e,f,g){var h=Q("div",{"class":"we-polydragger-"+(null!=d?"a":"b")});wd.call(this,a,b,h);this.show(!1);S(h,"mousedown",function(a){0==a.button&&(S(c.canvas,"mousemove",function(a){var b=c.camera.camera.pickEllipsoid(new Cesium.Cartesian2(a.offsetX,a.offsetY));null!=b&&(b=Cesium.Ellipsoid.WGS84.cartesianToCartographic(b),this.W=K(b.latitude),this.X=K(b.longitude),xd(this,a.offsetX,a.offsetY),null!=d?e(d,this.W,this.X):g&&(d=g(this.W,this.X),h.className="we-polydragger-a"),a.preventDefault())},
!1,this),a.preventDefault())},!1,this);S(h,"click",function(a){a.altKey&&null!=d&&(f(d),a.preventDefault())},!1,this);S(h,"mouseup",function(){Sb(c.canvas,"mousemove")},!1,this)}E(Vd,wd);Jc(".we-polydragger-a{position:absolute;width:8px;height:8px;z-index:100;margin-left:-4px;margin-top:-4px;background-color:#36f;cursor:pointer;border:1px solid blue;}");Jc(".we-polydragger-b{position:absolute;width:6px;height:6px;z-index:99;margin-left:-3px;margin-top:-3px;background-color:rgba(180,220,250,0.9);cursor:pointer;border:1px solid blue;}");function Wd(a,b){this.a=a;this.Y=b;this.d=new Nd;Hd(this.a,this.d.va);Hd(this.a,this.d.Nb);this.a.c=!0;this.ca={};this.Q={};this.ea={};this.Da=null;this.Ha=new Md(0,0,this.a);this.Na=u;this.qc=0}k=Wd.prototype;k.destroy=function(){this.jc();Id(this.a,this.d.va);Id(this.a,this.d.Nb);this.a.c=!0;this.Na=u;this.Ha.destroy();Oa(this.ea,function(a){this.Y.fa(a)},this);Oa(this.ca,function(a){this.Y.fa(a)},this);delete this.Q;delete this.d};
k.Pc=function(){null==this.Da&&(this.Da=S(this.a.canvas,"mousedown",function(a){Pb(this.a.canvas,"mouseup",function(b){if(0==b.button&&null!==this.Da&&3>=Math.max(Math.abs(a.offsetX-b.offsetX),Math.abs(a.offsetY-b.offsetY))){var c=this.a.camera.camera.pickEllipsoid(new Cesium.Cartesian2(b.offsetX,b.offsetY));null!=c&&(c=Cesium.Ellipsoid.WGS84.cartesianToCartographic(c),this.ia(K(c.latitude),K(c.longitude)),b.preventDefault(),this.qc=D())}},!1,this)},!1,this))};
k.jc=function(){Rb(this.Da);this.Da=null};k.setFillColor=function(a,b){a=Kd(a);this.d.va.material.uniforms.color=new Cesium.Color(parseInt(a.substr(1,2),16)/255,parseInt(a.substr(3,2),16)/255,parseInt(a.substr(5,2),16)/255,b);this.a.c=!0};k.setStrokeColor=function(a,b){a=Kd(a);this.d.Pa.material.uniforms.color=new Cesium.Color(parseInt(a.substr(1,2),16)/255,parseInt(a.substr(3,2),16)/255,parseInt(a.substr(5,2),16)/255,b);this.a.c=!0};
k.xd=function(a,b,c){var d=this.Ha;0<a.length?(d.k||(d.k=d.a.Oa.add(),d.pa(d.fb,d.gb)),d.k.Kd=a,d.k.width=b,d.k.height=c,d.k.sizeInMeters=!0,d.k.verticalOrigin=Cesium.VerticalOrigin.BOTTOM,d.pa(d.fb,d.gb),d.a.c=!0):d.k&&(d.a.Oa.remove(d.k),d.k=null);Xd(this);this.a.c=!0};k.Cd=function(a){this.Na=a};k.Ka=function(){return this.d.Ka()};k.Ab=function(){return this.d.Ab()};k.Yc=function(){var a=Ud(this.d);return{lat:a[1],lng:a[0]}};k.Ja=function(a,b){return 100>D()-this.qc?!1:this.d.Ja(a,b)};k.Fb=function(a){return this.d.Fb(a.d)};
function Xd(a){var b;if(!(b=Ud(a.d)))if(b=a.d,b.e){var c=0,d=0,e=0,f=b.e;do c+=f.x,d+=f.y,e++,f=f.next;while(f!=b.e);e=e/180*Math.PI;b=[c/e,d/e]}else b=[0,0];a.Ha.pa(I(b[1]),I(b[0]));a.Ha.enable(a.d.Ka())}k.zc=function(a,b){Oa(this.Q,function(b){b.enable(a)},this);!0!==b&&Oa(this.ca,function(b){this.Y.P.get(b).enable(a)},this);this.a.c=!0};k.cd=function(){var a=this.d,b=180/Math.PI,c=[],d=a.e;do c.push({lat:d.y*b,lng:d.x*b}),d=d.next;while(d!=a.e);return c};
function Yd(a,b){var c=Rd(a.d,b);if(0<c.length){var d=Sd(a.d,c[0]),e=Sd(a.d,b),f=Sd(a.d,c[1]);a.Q[b].W=I((e[1]+f[1])/2);a.Q[b].X=I((e[0]+f[0])/2);a.Q[c[0]].W=I((d[1]+e[1])/2);a.Q[c[0]].X=I((d[0]+e[0])/2)}a.a.c=!0}function Zd(a){Od(a.d)&&Oa(a.Q,function(a,c){Yd(this,c)},a)}k.cc=function(a){for(var b=a.length,c=0;c<b-1;c++)this.ia(a[c][0],a[c][1],void 0,void 0,!0);this.ia(a[c][0],a[c][1])};
k.ia=function(a,b,c,d,e){e=this.d.ia(a,b,c,e);d&&null!=c?(this.ca[e]=this.ea[c],delete this.ea[c]):(c=new Vd(I(a),I(b),this.a,e,C(this.ta,this),C(this.wa,this)),this.ca[e]=zd(this.Y,null,c));Xd(this);c=Rd(this.d,e);if(0<c.length){var f=C(function(a){return C(function(b,c){return this.ia(b,c,a,!0)},this)},this),g=new Vd(I(a),I(b),this.a,null,C(this.ta,this),C(this.wa,this),f(e));this.Q[e]=g;this.ea[e]=zd(this.Y,null,g);d&&(a=new Vd(I(a),I(b),this.a,null,C(this.ta,this),C(this.wa,this),f(c[0])),this.Q[c[0]]=
a,this.ea[c[0]]=zd(this.Y,null,a));Yd(this,c[0]);Yd(this,e);Yd(this,c[1])}Zd(this);this.Na();this.a.c=!0;return e};k.ta=function(a,b,c){this.d.ta(a,b,c);var d=this.Y.P.get(this.ca[a]);d.W=I(b);d.X=I(c);Zd(this);Yd(this,a);Xd(this);this.a.c=!0;this.Na()};
k.wa=function(a){var b=Rd(this.d,a);this.d.wa(a);Xd(this);null!=this.ca[a]&&(this.Y.fa(this.ca[a]),delete this.ca[a],delete this.Q[a],null!=this.ea[a]&&(this.Y.fa(this.ea[a]),delete this.ea[a]));Zd(this);0<b.length&&(Yd(this,b[0]),Yd(this,a),Yd(this,b[1]));this.a.c=!0;this.Na()};function $d(a,b){function c(a,b){var c=e.createShader(b);e.shaderSource(c,a);e.compileShader(c);if(!e.getShaderParameter(c,e.COMPILE_STATUS))throw Error("Shader err: "+e.getShaderInfoLog(c));if(null===c)throw Error("Unknown");return c}this.ja=a;this.canvas=document.createElement("canvas");mb(this.ja.canvas.parentElement||window.document,this.canvas);var d={depth:!1,preserveDrawingBuffer:!0},e=this.Cb=this.canvas.getContext("webgl",d)||this.canvas.getContext("experimental-webgl",d);e.enable(e.CULL_FACE);
e.cullFace(e.BACK);e.clearColor(0,0,0,0);this.Aa=e.createBuffer();for(var d=[],f=[],g=[],h=0;32>=h;h++)for(var l=h*Math.PI/32,p=Math.sin(l),n=Math.cos(l),l=0;32>=l;l++){var t=2*l*Math.PI/32,t=t-Math.PI/2,w=Math.cos(t)*p,J=n,t=Math.sin(t)*p,z=1-h/32;f.push(1-l/32);f.push(z);d.push(1*w);d.push(1*J);d.push(1*t)}for(h=0;32>h;h++)for(l=0;32>l;l++)p=33*h+l,n=p+32+1,g.push(p+1),g.push(n),g.push(p),g.push(p+1),g.push(n+1),g.push(n);this.Aa=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,this.Aa);e.bufferData(e.ARRAY_BUFFER,
new Float32Array(d),e.STATIC_DRAW);this.Aa.eb=3;this.Aa.Jb=d.length/3;this.Ta=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,this.Ta);e.bufferData(e.ARRAY_BUFFER,new Float32Array(f),e.STATIC_DRAW);this.Ta.eb=2;this.Ta.Jb=f.length/2;this.Ia=e.createBuffer();e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.Ia);e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(g),e.STATIC_DRAW);this.Ia.eb=1;this.Ia.Jb=g.length;this.ob=null;var v=new Image;v.onload=C(function(){this.ob=e.createTexture();e.activeTexture(e.TEXTURE0);
e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,1);e.bindTexture(e.TEXTURE_2D,this.ob);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,v);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR)},this);v.src=b;d=c("precision lowp float;varying vec2 vTextureCoord;uniform sampler2D uSampler;void main(){gl_FragColor\x3dtexture2D(uSampler,vTextureCoord);}",e.FRAGMENT_SHADER);f=c("precision mediump float;attribute vec3 aVertexPosition;attribute vec2 aTextureCoord;uniform mat4 uMVMatrix;uniform mat4 uPMatrix;uniform float uAspect;varying vec2 vTextureCoord;void main(){gl_Position\x3duPMatrix*uMVMatrix*vec4(aVertexPosition,1.0);gl_Position.x*\x3duAspect;gl_Position.z\x3d0.0;vTextureCoord\x3daTextureCoord;}",
e.VERTEX_SHADER);this.r=e.createProgram();if(null===this.r)throw Error("Unknown");e.attachShader(this.r,f);e.attachShader(this.r,d);e.bindAttribLocation(this.r,0,"aVertexPosition");e.linkProgram(this.r);if(!e.getProgramParameter(this.r,e.LINK_STATUS))throw Error("Shader program err: "+e.getProgramInfoLog(this.r));e.useProgram(this.r);this.ac=e.getAttribLocation(this.r,"aVertexPosition");this.Xb=e.getAttribLocation(this.r,"aTextureCoord");this.Fc=e.getUniformLocation(this.r,"uAspect");this.qd=e.getUniformLocation(this.r,
"uPMatrix");this.nd=e.getUniformLocation(this.r,"uMVMatrix");this.td=e.getUniformLocation(this.r,"uSampler");this.Ra=128;this.vc=.1}function Ka(a,b){var c=a.Ra*(1+a.vc);b.drawImage(a.canvas,a.ja.canvas.width-c,a.ja.canvas.height-c)}
function Gd(a){if(null!=a.ob){var b=a.Cb;b.useProgram(a.r);b.activeTexture(b.TEXTURE0);b.bindTexture(b.TEXTURE_2D,a.ob);b.uniform1i(a.td,0);var c=V(a.ja.camera),d=a.ja.camera.camera.frustum,e=Cesium.Matrix4.fromTranslation(new Cesium.Cartesian3(0,0,-1.3/Math.tan(d.fovy/2)));(function(a,b){var c=Math.cos(b),d=Math.sin(b);Cesium.Matrix4.multiply(a,new Cesium.Matrix4(1,0,0,0,0,c,-d,0,0,d,c,0,0,0,0,1),a)})(e,c[0]);(function(a,b){var c=Math.cos(b),d=Math.sin(b);Cesium.Matrix4.multiply(a,new Cesium.Matrix4(c,
0,d,0,0,1,0,0,-d,0,c,0,0,0,0,1),a)})(e,-c[1]);c=new Float32Array(Ca(Cesium.Matrix4.toArray(d.projectionMatrix)));b.uniformMatrix4fv(a.nd,!1,new Float32Array(Ca(Cesium.Matrix4.toArray(e))));b.uniformMatrix4fv(a.qd,!1,c);b.uniform1f(a.Fc,d.aspectRatio);b.bindBuffer(b.ARRAY_BUFFER,a.Aa);b.vertexAttribPointer(a.ac,a.Aa.eb,b.FLOAT,!1,0,0);b.bindBuffer(b.ARRAY_BUFFER,a.Ta);b.vertexAttribPointer(a.Xb,a.Ta.eb,b.FLOAT,!1,0,0);b.enableVertexAttribArray(a.ac);b.enableVertexAttribArray(a.Xb);b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,
a.Ia);b.drawElements(b.TRIANGLES,a.Ia.Jb,b.UNSIGNED_SHORT,0);b.disableVertexAttribArray(a.ac);b.disableVertexAttribArray(a.Xb)}};r("WebGLEarth",Y);r("WebGLEarth.isSupported",Y.Jd);Y.prototype.vd=function(a){var b=this.camera;b.aa.cancel();var c=b.M(),d=b.U();Oc(b,void 0,void 0,a);a=b.U();c-=b.M();b.camera.lookDown(a);b.camera.twistLeft(c);b.camera.lookUp(d)};r("WebGLEarth.prototype.setAltitude",Y.prototype.vd);Y.prototype.Vc=function(){return V(this.camera)[2]};r("WebGLEarth.prototype.getAltitude",Y.prototype.Vc);Y.prototype.Qa=function(a){a=Qc(this.canvas,this.camera.camera.frustum.fovy,a,V(this.camera)[0]);this.setAltitude(a)};
r("WebGLEarth.prototype.setZoom",Y.prototype.Qa);Y.prototype.Bb=function(){var a=V(this.camera),b=a[0],c=.7*this.canvas.height/256,a=a[2]/6378137*2*Math.tan(this.camera.camera.frustum.fovy/2)/c;return Math.log(2*Math.cos(Math.abs(b))*Math.PI/a)/Math.LN2};r("WebGLEarth.prototype.getZoom",Y.prototype.Bb);
Y.prototype.ha=function(a,b,c,d,e,f,g){var h=this.camera;h.aa.cancel();a=I(a);b=I(b);null!=c&&(d=Qc(this.canvas,h.camera.frustum.fovy,c,a));d=q(d)?d:V(h)[2];e=q(e)?I(e):h.M();f=q(f)?I(f):h.U();g&&(b=Lc(a,b,d,e,f),a=b[0],b=b[1],null!=c&&(d=Qc(this.canvas,h.camera.frustum.fovy,c,a)));Mc(h,a,b,d,e,f)};r("WebGLEarth.prototype.setPosition",Y.prototype.ha);Y.prototype.dd=function(){var a=V(this.camera);return[K(a[0]),K(a[1])]};r("WebGLEarth.prototype.getPosition",Y.prototype.dd);Y.prototype.M=function(){return K(this.camera.M())};
r("WebGLEarth.prototype.getHeading",Y.prototype.M);Y.prototype.U=function(){return K(this.camera.U())};r("WebGLEarth.prototype.getTilt",Y.prototype.U);Y.prototype.mb=function(a){this.camera.aa.cancel();this.camera.mb(I(a))};r("WebGLEarth.prototype.setHeading",Y.prototype.mb);Y.prototype.Ub=function(a){this.camera.aa.cancel();this.camera.Ub(I(a))};r("WebGLEarth.prototype.setTilt",Y.prototype.Ub);
Y.prototype.Fa=function(a,b,c,d,e,f,g){this.camera.aa.Fa(I(a),I(b),c,q(d)?I(d):void 0,q(e)?I(e):void 0,f,g)};r("WebGLEarth.prototype.flyTo",Y.prototype.Fa);Y.prototype.kc=function(a,b,c,d,e,f,g){a=I(a);b=I(b);c=I(c);d=I(d);var h=Pc(this.camera,a,b,c,d);c=Da(c,2*Math.PI);d=Da(d,2*Math.PI);var l=c-d;l<-Math.PI?c+=2*Math.PI:l>Math.PI&&(d+=2*Math.PI);a=[(a+b)/2,(c+d)/2];this.camera.aa.Fa(a[0],a[1],h,q(e)?I(e):void 0,q(f)?I(f):void 0,q(e)||q(f),g)};r("WebGLEarth.prototype.flyToFitBounds",Y.prototype.kc);
Y.prototype.gd=function(){var a=new Cesium.Cartesian2(this.canvas.width/2,this.canvas.height/2),a=this.camera.camera.pickEllipsoid(a);if(null!=a)return a=this.camera.ellipsoid.cartesianToCartographic(a),[K(a.latitude),K(a.longitude)]};r("WebGLEarth.prototype.getTarget",Y.prototype.gd);
Y.prototype.Xc=function(a,b){b=b||4;for(var c=[90,-90,180,-180],d=0,e=this.canvas.width/(b-1),f=this.canvas.height/(b-1),g=0;g<b;g++)for(var h=0;h<b;h++){var l=new Cesium.Cartesian2(g*e,h*f),l=this.camera.camera.pickEllipsoid(l);null!=l&&(l=this.camera.ellipsoid.cartesianToCartographic(l),c[0]=Math.min(c[0],l.latitude),c[1]=Math.max(c[1],l.latitude),c[2]=Math.min(c[2],l.longitude),c[3]=Math.max(c[3],l.longitude),d++)}return 2<d?(null!=a&&(d=(c[1]-c[0])/2*(a-1),e=(c[3]-c[2])/2*(a-1),c[0]-=d,c[1]+=
d,c[2]-=e,c[3]+=e),[K(c[0]),K(c[1]),K(c[2]),K(c[3])]):null};r("WebGLEarth.prototype.getBounds",Y.prototype.Xc);Y.prototype.zd=function(a){this.f.screenSpaceCameraController.minimumZoomDistance=a||0};r("WebGLEarth.prototype.setMinAltitude",Y.prototype.zd);Y.prototype.yd=function(a){this.f.screenSpaceCameraController.maximumZoomDistance=a||Infinity};r("WebGLEarth.prototype.setMaxAltitude",Y.prototype.yd);Y.prototype.Zc=function(){return this.f};r("WebGLEarth.prototype.getCesiumScene",Y.prototype.Zc);
r("WebGLEarth.prototype.handleResize",Y.prototype.Db);Y.prototype.ud=function(a){this.Ba=C(function(){var b=Ja(this.f.canvas,this.da,this.ma);La(b,a)},this);this.c=!0};r("WebGLEarth.prototype.saveScreenshot",Y.prototype.ud);Y.prototype.ed=function(a){this.Ba=C(function(){var b=Ja(this.f.canvas,this.da,this.ma);a(b.toDataURL?b.toDataURL():"data:image/png,")},this);this.c=!0};r("WebGLEarth.prototype.getScreenshot",Y.prototype.ed);
Y.prototype.Ed=function(a,b){if(null!=a){var c=this.ma=new $d(this,a);c.Ra=b;c.canvas.width=c.Ra;c.canvas.height=c.Ra;c.Cb.viewport(0,0,c.canvas.width,c.canvas.height);var d=c.vc*c.Ra;c.canvas.style.cssText="position:absolute;z-index:10000;pointer-events:none;right:"+d+"px;bottom:"+d+"px;"}else this.ma=null;this.c=!0};r("WebGLEarth.prototype.showMiniGlobe",Y.prototype.Ed);Y.prototype.rd=function(){this.xb=!0};r("WebGLEarth.prototype.pauseRendering",Y.prototype.rd);
Y.prototype.sd=function(){this.xb=!1};r("WebGLEarth.prototype.resumeRendering",Y.prototype.sd);
Y.prototype.Wc=function(a,b){var c;a:{var d=a/180*Math.PI,e=b/180*Math.PI;c=this.f.imageryLayers.get(0);for(var f=c.imageryProvider,g=f.tilingScheme,d=new Cesium.Cartographic(e,d),h=null,e=f.maximumLevel;0<=e;){var l=g.positionToTileXY(d,e),p=c.getImageryFromCache(l.x,l.y,e,void 0);if(p.__image__){var h=Math.floor((l.x-Math.floor(l.x))*f.tileWidth),l=Math.floor((l.y-Math.floor(l.y))*f.tileHeight),n=document.createElement("canvas");n.width=1;n.height=1;n=n.getContext("2d");n.drawImage(p.__image__,
h,l,1,1,0,0,1,1);h=n.getImageData(0,0,1,1).data;h=[h[0],h[1],h[2],h[3]/255,e]}p.releaseReference();if(h){c=h;break a}e--}c=[0,0,0,0,-1]}return c};r("WebGLEarth.prototype.getBestAvailablePixelColor",Y.prototype.Wc);r("WebGLEarth.Maps",{OSM:"osm",BING:"bing",WMS:"wms",CUSTOM:"custom"});Y.prototype.jd=function(a,b){return ud(this,a,b)};r("WebGLEarth.prototype.initMap",Y.prototype.jd);r("WebGLEarth.prototype.setBaseMap",Y.prototype.wd);r("WebGLEarth.prototype.setOverlayMap",Y.prototype.Dd);
r("WebGLEarth.Map",sd);r("WebGLEarth.Map.prototype.setBoundingBox",sd.prototype.Rb);r("WebGLEarth.Map.prototype.setOpacity",sd.prototype.Tb);r("WebGLEarth.Map.prototype.getOpacity",sd.prototype.bd);r("WebGLEarth.Marker",X);X.prototype.ha=function(a,b){this.W=I(a);this.X=I(b)};r("WebGLEarth.Marker.prototype.setPosition",X.prototype.ha);X.prototype.Gc=function(a,b,c){Ed(this,new Dd(a,b,c));return this};r("WebGLEarth.Marker.prototype.bindPopup",X.prototype.Gc);X.prototype.pd=function(){this.nb(!0)};
r("WebGLEarth.Marker.prototype.openPopup",X.prototype.pd);X.prototype.Lc=function(){this.nb(!1)};r("WebGLEarth.Marker.prototype.closePopup",X.prototype.Lc);r("WebGLEarth.prototype.initMarker",Y.prototype.kd);r("WebGLEarth.prototype.removeMarker",Y.prototype.fa);X.prototype.ib=function(a,b){var c=S(this.element,a,function(a,b){return function(c){c.target=a;c.latitude=K(a.W);c.longitude=K(a.X);c.originalEvent=c.s;b(c)}}(this,b));return b[B(this)+"___eventKey_"+a]=c};
r("WebGLEarth.Marker.prototype.on",X.prototype.ib);X.prototype.Ma=Y.prototype.Ma;r("WebGLEarth.Marker.prototype.off",X.prototype.Ma);X.prototype.hb=function(a){Sb(this.element,a)};r("WebGLEarth.Marker.prototype.offAll",X.prototype.hb);r("WebGLEarth.CustomMarker",wd);r("WebGLEarth.CustomMarker.prototype.setPosition",X.prototype.ha);r("WebGLEarth.CustomMarker.prototype.on",X.prototype.ib);r("WebGLEarth.CustomMarker.prototype.off",X.prototype.Ma);r("WebGLEarth.CustomMarker.prototype.offAll",X.prototype.hb);
r("WebGLEarth.prototype.on",Y.prototype.ib);r("WebGLEarth.prototype.off",Y.prototype.Ma);r("WebGLEarth.prototype.offAll",Y.prototype.hb);function Z(a){Wd.call(this,a,a.da)}E(Z,Wd);r("WebGLEarth.Polygon",Z);r("WebGLEarth.Polygon.prototype.destroy",Z.prototype.destroy);r("WebGLEarth.Polygon.prototype.enableClickToAdd",Z.prototype.Pc);r("WebGLEarth.Polygon.prototype.disableClickToAdd",Z.prototype.jc);r("WebGLEarth.Polygon.prototype.setFillColor",Z.prototype.setFillColor);
r("WebGLEarth.Polygon.prototype.setStrokeColor",Z.prototype.setStrokeColor);r("WebGLEarth.Polygon.prototype.setOnChange",Z.prototype.Cd);r("WebGLEarth.Polygon.prototype.isValid",Z.prototype.Ka);r("WebGLEarth.Polygon.prototype.getRoughArea",Z.prototype.Ab);r("WebGLEarth.Polygon.prototype.intersects",Z.prototype.Fb);r("WebGLEarth.Polygon.prototype.setIcon",Z.prototype.xd);r("WebGLEarth.Polygon.prototype.showDraggers",Z.prototype.zc);r("WebGLEarth.Polygon.prototype.addPoint",Z.prototype.ia);
r("WebGLEarth.Polygon.prototype.addPoints",Z.prototype.cc);r("WebGLEarth.Polygon.prototype.movePoint",Z.prototype.ta);r("WebGLEarth.Polygon.prototype.removePoint",Z.prototype.wa);r("WebGLEarth.Polygon.prototype.getPoints",Z.prototype.cd);r("WebGLEarth.Polygon.prototype.getCentroid",Z.prototype.Yc);
Z.prototype.od=function(a){S(this.a.canvas,"click",function(b){var c=this.a.camera.camera.pickEllipsoid(new Cesium.Cartesian2(b.offsetX,b.offsetY));null!=c&&(c=Cesium.Ellipsoid.WGS84.cartesianToCartographic(c),(this.Ja(K(c.latitude),K(c.longitude))||this.Ha.Ja(b.offsetX,b.offsetY))&&a(this))},!1,this)};r("WebGLEarth.Polygon.prototype.onClick",Z.prototype.od);r("WebGLEarth.prototype.setCenter",function(a){var b=this.camera;b.aa.cancel();Mc(b,I(a[0]),I(a[1]),V(b)[2],b.M(),0)});
r("WebGLEarth.prototype.getCenter",function(){var a=V(this.camera);return[K(a[0]),K(a[1])]});/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
function ae(a,b){this.lb=[];this.sc=a;this.hc=b||null;this.Ga=this.sa=!1;this.Z=void 0;this.Vb=this.Hc=this.sb=!1;this.qb=0;this.I=null;this.tb=0}ae.prototype.cancel=function(a){if(this.sa)this.Z instanceof ae&&this.Z.cancel();else{if(this.I){var b=this.I;delete this.I;a?b.cancel(a):(b.tb--,0>=b.tb&&b.cancel())}this.sc?this.sc.call(this.hc,this):this.Vb=!0;this.sa||(a=new be,ce(this),de(this,!1,a))}};ae.prototype.fc=function(a,b){this.sb=!1;de(this,a,b)};
function de(a,b,c){a.sa=!0;a.Z=c;a.Ga=!b;ee(a)}function ce(a){if(a.sa){if(!a.Vb)throw new fe;a.Vb=!1}}function ge(a,b,c,d){a.lb.push([b,c,d]);a.sa&&ee(a)}ae.prototype.then=function(a,b,c){var d,e,f=new kc(function(a,b){d=a;e=b});ge(this,d,function(a){a instanceof be?f.cancel():e(a)});return f.then(a,b,c)};Zb(ae);function he(a){return va(a.lb,function(a){return A(a[1])})}
function ee(a){if(a.qb&&a.sa&&he(a)){var b=a.qb,c=ie[b];c&&(m.clearTimeout(c.t),delete ie[b]);a.qb=0}a.I&&(a.I.tb--,delete a.I);for(var b=a.Z,d=c=!1;a.lb.length&&!a.sb;){var e=a.lb.shift(),f=e[0],g=e[1],e=e[2];if(f=a.Ga?g:f)try{var h=f.call(e||a.hc,b);q(h)&&(a.Ga=a.Ga&&(h==b||h instanceof Error),a.Z=b=h);$b(b)&&(d=!0,a.sb=!0)}catch(l){b=l,a.Ga=!0,he(a)||(c=!0)}}a.Z=b;d&&(h=C(a.fc,a,!0),d=C(a.fc,a,!1),b instanceof ae?(ge(b,h,d),b.Hc=!0):b.then(h,d));c&&(b=new je(b),ie[b.t]=b,a.qb=b.t)}
function fe(){F.call(this)}E(fe,F);fe.prototype.message="Deferred has already fired";fe.prototype.name="AlreadyCalledError";function be(){F.call(this)}E(be,F);be.prototype.message="Deferred was canceled";be.prototype.name="CanceledError";function je(a){this.t=m.setTimeout(C(this.Fd,this),0);this.Rc=a}je.prototype.Fd=function(){delete ie[this.t];throw this.Rc;};var ie={};function ke(a,b){var c=b||{},d=c.document||document,e=document.createElement("SCRIPT"),f={yc:e,pb:void 0},g=new ae(le,f),h=null,l=null!=c.timeout?c.timeout:5E3;0<l&&(h=window.setTimeout(function(){me(e,!0);var b=new ne(oe,"Timeout reached for loading script "+a);ce(g);de(g,!1,b)},l),f.pb=h);e.onload=e.onreadystatechange=function(){e.readyState&&"loaded"!=e.readyState&&"complete"!=e.readyState||(me(e,c.Kc||!1,h),ce(g),de(g,!0,null))};e.onerror=function(){me(e,!0,h);var b=new ne(pe,"Error while loading script "+
a);ce(g);de(g,!1,b)};hb(e,{type:"text/javascript",charset:"UTF-8",src:a});qe(d).appendChild(e);return g}function qe(a){var b=a.getElementsByTagName("HEAD");return b&&0!=b.length?b[0]:a.documentElement}function le(){if(this&&this.yc){var a=this.yc;a&&"SCRIPT"==a.tagName&&me(a,!0,this.pb)}}function me(a,b,c){null!=c&&m.clearTimeout(c);a.onload=u;a.onerror=u;a.onreadystatechange=u;b&&window.setTimeout(function(){nb(a)},0)}var pe=0,oe=1;
function ne(a,b){var c="Jsloader error (code #"+a+")";b&&(c+=": "+b);F.call(this,c);this.code=a}E(ne,F);function re(a,b){this.Hd=new $c(a);this.Ic=b?b:"callback";this.pb=5E3}var se=0;re.prototype.send=function(a,b,c,d){a=a||null;d=d||"_"+(se++).toString(36)+D().toString(36);m._callbacks_||(m._callbacks_={});var e=this.Hd.clone();if(a)for(var f in a)a.hasOwnProperty&&!a.hasOwnProperty(f)||ld(e,f,a[f]);b&&(m._callbacks_[d]=te(d,b),ld(e,this.Ic,"_callbacks_."+d));b=ke(e.toString(),{timeout:this.pb,Kc:!0});ge(b,null,ue(d,a,c),void 0);return{t:d,ic:b}};
re.prototype.cancel=function(a){a&&(a.ic&&a.ic.cancel(),a.t&&ve(a.t,!1))};function ue(a,b,c){return function(){ve(a,!1);c&&c(b)}}function te(a,b){return function(c){ve(a,!0);b.apply(void 0,arguments)}}function ve(a,b){m._callbacks_[a]&&(b?delete m._callbacks_[a]:m._callbacks_[a]=u)};r("WE.map",function(a,b){var c=b||{},d=c.zoom;c.zoom=void 0;c.empty=!0;c=new Y(a,c);d&&c.Qa(d);return c});r("WebGLEarth.prototype.setView",function(a,b){x(a)||(a=[a.lat,a.lng]);this.ha(a[0],a[1],b,void 0,0,0)});r("WebGLEarth.prototype.zoomIn",function(a){this.Qa(this.Bb()+(ca(a)?a:1))});r("WebGLEarth.prototype.zoomOut",function(a){this.Qa(this.Bb()-(ca(a)?a:1))});
r("WebGLEarth.prototype.panInsideBounds",function(a,b){x(a)||(a=[a.fd(),a.ad(),a.hd(),a.$c()]);x(a[0])&&(a=[a[0][0],a[1][0],a[0][1],a[1][1]]);b=b||{};this.kc(a[0],a[1],a[2],a[3],b.heading,b.tilt,b.duration)});
r("WebGLEarth.prototype.fitBounds",function(a,b){x(a)||(a=[a.fd(),a.ad(),a.hd(),a.$c()]);x(a[0])&&(a=[a[0][0],a[1][0],a[0][1],a[1][1]]);b=b||{};var c=I(a[0]),d=I(a[1]),e=I(a[2]),f=I(a[3]),g=b.heading,h=b.tilt,l=Pc(this.camera,c,d,e,f),e=Da(e,2*Math.PI),f=Da(f,2*Math.PI),p=e-f;p<-Math.PI?e+=2*Math.PI:p>Math.PI&&(f+=2*Math.PI);c=[(c+d)/2,(e+f)/2];this.ha(K(c[0]),K(c[1]),void 0,l,g,h,q(g)||q(h))});
r("WebGLEarth.prototype.panTo",function(a,b){x(a)||(a=[a.lat,a.lng]);b=b||{};this.Fa(a[0],a[1],void 0,void 0,0,0,void 0,b.duration)});
r("WE.tileLayer",function(a,b){var c=b||{};Oa(c,function(b,c){a=a.replace("{"+c+"}",b)});a=a.replace("{s}","{sub}");var d=c.subdomains||"abc";y(d)&&(d=d.split(""));var e=c.bounds;e&&x(e[0])&&(e=[e[0][0],e[1][0],e[0][1],e[1][1]]);return ud(null,"custom",{url:a,minimumLevel:c.minZoom||0,maximumLevel:c.maxZoom||18,tileSize:c.tileSize||256,flipY:c.tms||!1,subdomains:d,copyright:(c.attribution||"").replace(/<(?:.|\n)*?>/gm,""),opacity:c.opacity,bounds:e})});
r("WE.tileLayerJSON",function(a,b){function c(a,b,c){var d=a.bounds,l=a.center,p={url:a.tiles[0],minimumLevel:a.minzoom||0,maximumLevel:a.maxzoom||18,copyright:(a.attribution||"").replace(/<(?:.|\n)*?>/gm,""),bounds:d?[d[1],d[3],d[0],d[2]]:void 0};c?(rd(c.C.imageryProvider,p),a.opacity&&1==c.C.alpha&&c.Tb(parseFloat(a.opacity)),d&&c.Rb(d[1],d[3],d[0],d[2])):c=ud(null,"custom",p);b&&(c.addTo(b),l&&l.length&&1<l.length&&(b.ha(l[1],l[0]),2<l.length&&b.Qa(l[2])));return c}var d;y(a)?(d=ud(null,"custom",
{}),(new re(a)).send(void 0,function(a){c(a,b,d)})):d=c(a,b,void 0);return d});r("WebGLEarth.Map.prototype.addTo",function(a){this.C.imageryProvider.oa=a.Ib;a.f.imageryLayers.add(this.C);vd(a,this.C.imageryProvider.errorEvent);this.a=a;a.c=!0;return this});r("WebGLEarth.Map.prototype.removeFrom",function(a){a=this.a;a.f.imageryLayers.remove(this.C);a.c=!0;this.a=null;return this});r("WE.marker",function(a,b,c,d){x(a)||(a=[a.lat,a.lng]);return new X(I(a[0]),I(a[1]),b,c,d)});
r("WebGLEarth.Marker.prototype.addTo",function(a){zd(a.da,B(this).toString(),this);a.c=!0;return this});r("WebGLEarth.Marker.prototype.removeFrom",function(a){a.da.fa(B(this).toString());a.c=!0;return this});r("WebGLEarth.Marker.prototype.bindPopup",function(a,b,c){if(null==b||ca(b))Ed(this,new Dd(a,b,c));else{var d=b.maxWidth;c=b.closeButton;Ed(this,new Dd(a,d,c))}return this});r("WebGLEarth.Marker.prototype.setLatLng",function(a){x(a)||(a=[a.lat,a.lng]);this.ha(a[0],a[1])});
r("WE.polygon",function(a,b){return{addTo:function(c){c=new Z(c);var d=[];ua(a,function(a){x(a)||(a=[a.lat,a.lng]);d.push([a[0],a[1]])});c.cc(d);b=b||{};c.zc(1==b.editable);c.setStrokeColor(b.color||"#03f",b.opacity||.5);c.setFillColor(b.fillColor||"#03f",b.fillOpacity||.2);c.d.Pa.width=b.weight||5;return c}}});})();
